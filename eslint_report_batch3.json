[{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\achievements\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\ai-studio\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1413,1416],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1413,1416],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport DashboardLayout from \"@/components/layout/dashboard-layout\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { Loader2, Copy, Video, FileText, ImageIcon, Link as LinkIcon } from \"lucide-react\"\r\nimport { generateCopyAction, generateVideoScriptAction, scrapeProductAction } from \"@/app/actions\"\r\nimport { ImageGenerator } from \"@/components/creatives/image-generator\"\r\n\r\nexport default function AIStudioPage() {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [activeTab, setActiveTab] = useState(\"copy\")\r\n\r\n    // Copy State\r\n    const [importUrl, setImportUrl] = useState(\"\")\r\n    const [isImporting, setIsImporting] = useState(false)\r\n    const [productName, setProductName] = useState(\"\")\r\n    const [productDesc, setProductDesc] = useState(\"\")\r\n    const [generatedCopy, setGeneratedCopy] = useState(\"\")\r\n\r\n    // Script State\r\n    const [scriptProduct, setScriptProduct] = useState(\"\")\r\n    const [scriptDesc, setScriptDesc] = useState(\"\")\r\n    const [generatedScript, setGeneratedScript] = useState<any[]>([])\r\n\r\n    const handleImportUrl = async () => {\r\n        if (!importUrl) return\r\n        setIsImporting(true)\r\n        try {\r\n            const data = await scrapeProductAction(importUrl)\r\n            if (data) {\r\n                setProductName(data.title)\r\n                setProductDesc(data.description + (data.price ? `\\nPre├ºo: ${data.price}` : \"\"))\r\n                alert(\"Dados importados com sucesso!\")\r\n            }\r\n        } catch (error) {\r\n            console.error(error)\r\n            alert(\"Erro ao importar dados da URL\")\r\n        } finally {\r\n            setIsImporting(false)\r\n        }\r\n    }\r\n\r\n    const handleGenerateCopy = async () => {\r\n        if (!productName || !productDesc) return\r\n        setIsLoading(true)\r\n        try {\r\n            const result = await generateCopyAction(productName)\r\n            setGeneratedCopy(result || \"\")\r\n            if (result) alert(\"Copy gerada e salva com sucesso! (+30 XP)\")\r\n        } catch (error) {\r\n            console.error(error)\r\n            alert(\"Erro ao gerar copy\")\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleGenerateScript = async () => {\r\n        if (!scriptProduct || !scriptDesc) return\r\n        setIsLoading(true)\r\n        try {\r\n            const result = await generateVideoScriptAction(scriptProduct, scriptDesc)\r\n            setGeneratedScript(Array.isArray(result) ? result : [])\r\n            if (result) alert(\"Roteiro gerado e salvo com sucesso! (+30 XP)\")\r\n        } catch (error) {\r\n            console.error(error)\r\n            alert(\"Erro ao gerar roteiro\")\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const copyToClipboard = (text: string) => {\r\n        navigator.clipboard.writeText(text)\r\n        alert(\"Copiado para a ├írea de transfer├¬ncia\")\r\n    }\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"max-w-5xl mx-auto space-y-8\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-bold text-white\">AI Studio Ô£ì´©Å</h2>\r\n                    <p className=\"text-gray-400\">Crie textos persuasivos e roteiros de v├¡deo com Intelig├¬ncia Artificial.</p>\r\n                </div>\r\n\r\n                <Tabs defaultValue=\"copy\" value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n                    <TabsList className=\"grid w-full grid-cols-3 bg-white/5\">\r\n                        <TabsTrigger value=\"copy\" className=\"gap-2\"><FileText className=\"w-4 h-4\" /> Ad Copy Generator</TabsTrigger>\r\n                        <TabsTrigger value=\"video\" className=\"gap-2\"><Video className=\"w-4 h-4\" /> Video Script Writer</TabsTrigger>\r\n                        <TabsTrigger value=\"image\" className=\"gap-2\"><ImageIcon className=\"w-4 h-4\" /> Image Generator</TabsTrigger>\r\n                    </TabsList>\r\n\r\n                    {/* AD COPY TAB */}\r\n                    <TabsContent value=\"copy\" className=\"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                        <Card className=\"glass border-white/10 h-fit\">\r\n                            <CardHeader>\r\n                                <CardTitle className=\"text-white\">Detalhes do Produto</CardTitle>\r\n                                <CardDescription>Descreva o que voc├¬ quer vender.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"space-y-2\">\r\n                                    <Label className=\"text-gray-300\">Importar de URL (Opcional)</Label>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <Input\r\n                                            placeholder=\"https://loja.com/produto\"\r\n                                            value={importUrl}\r\n                                            onChange={e => setImportUrl(e.target.value)}\r\n                                            className=\"bg-white/5 border-white/10 text-white\"\r\n                                        />\r\n                                        <Button\r\n                                            variant=\"outline\"\r\n                                            onClick={handleImportUrl}\r\n                                            disabled={isImporting || !importUrl}\r\n                                            className=\"whitespace-nowrap\"\r\n                                        >\r\n                                            {isImporting ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <LinkIcon className=\"w-4 h-4\" />}\r\n                                            <span className=\"ml-2 hidden sm:inline\">Importar</span>\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label className=\"text-gray-300\">Nome do Produto</Label>\r\n                                    <Input\r\n                                        placeholder=\"Ex: T├¬nis Runner Pro\"\r\n                                        value={productName}\r\n                                        onChange={e => setProductName(e.target.value)}\r\n                                        className=\"bg-white/5 border-white/10 text-white\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label className=\"text-gray-300\">Descri├º├úo / Benef├¡cios</Label>\r\n                                    <Textarea\r\n                                        placeholder=\"Ex: T├¬nis leve, ortop├®dico, ideal para corridas longas...\"\r\n                                        value={productDesc}\r\n                                        onChange={e => setProductDesc(e.target.value)}\r\n                                        className=\"bg-white/5 border-white/10 text-white min-h-[150px]\"\r\n                                    />\r\n                                </div>\r\n                                <Button\r\n                                    onClick={handleGenerateCopy}\r\n                                    disabled={isLoading || !productName || !productDesc}\r\n                                    className=\"w-full bg-indigo-600 hover:bg-indigo-700\"\r\n                                >\r\n                                    {isLoading ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <FileText className=\"w-4 h-4 mr-2\" />}\r\n                                    Gerar Copy\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card className=\"glass border-white/10 min-h-[400px]\">\r\n                            <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                                <CardTitle className=\"text-white\">Resultado</CardTitle>\r\n                                {generatedCopy && (\r\n                                    <Button variant=\"ghost\" size=\"sm\" onClick={() => copyToClipboard(generatedCopy)}>\r\n                                        <Copy className=\"w-4 h-4 mr-2\" /> Copiar\r\n                                    </Button>\r\n                                )}\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                {generatedCopy ? (\r\n                                    <div className=\"whitespace-pre-wrap text-gray-300 leading-relaxed bg-black/20 p-4 rounded-lg border border-white/5\">\r\n                                        {generatedCopy}\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"flex flex-col items-center justify-center h-[300px] text-gray-500\">\r\n                                        <FileText className=\"w-12 h-12 mb-4 opacity-20\" />\r\n                                        <p>Seu texto gerado aparecer├í aqui.</p>\r\n                                    </div>\r\n                                )}\r\n                            </CardContent>\r\n                        </Card>\r\n                    </TabsContent>\r\n\r\n                    {/* VIDEO SCRIPT TAB */}\r\n                    <TabsContent value=\"video\" className=\"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                        <Card className=\"glass border-white/10 h-fit\">\r\n                            <CardHeader>\r\n                                <CardTitle className=\"text-white\">Briefing do V├¡deo</CardTitle>\r\n                                <CardDescription>Para TikTok, Reels ou Shorts.</CardDescription>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <div className=\"space-y-2\">\r\n                                    <Label className=\"text-gray-300\">Produto / T├│pico</Label>\r\n                                    <Input\r\n                                        placeholder=\"Ex: Curso de Ingl├¬s Online\"\r\n                                        value={scriptProduct}\r\n                                        onChange={e => setScriptProduct(e.target.value)}\r\n                                        className=\"bg-white/5 border-white/10 text-white\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label className=\"text-gray-300\">Pontos Chave</Label>\r\n                                    <Textarea\r\n                                        placeholder=\"Ex: Aprenda r├ípido, professores nativos, certificado incluso...\"\r\n                                        value={scriptDesc}\r\n                                        onChange={e => setScriptDesc(e.target.value)}\r\n                                        className=\"bg-white/5 border-white/10 text-white min-h-[150px]\"\r\n                                    />\r\n                                </div>\r\n                                <Button\r\n                                    onClick={handleGenerateScript}\r\n                                    disabled={isLoading || !scriptProduct || !scriptDesc}\r\n                                    className=\"w-full bg-pink-600 hover:bg-pink-700\"\r\n                                >\r\n                                    {isLoading ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <Video className=\"w-4 h-4 mr-2\" />}\r\n                                    Gerar Roteiro\r\n                                </Button>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        <Card className=\"glass border-white/10 min-h-[400px]\">\r\n                            <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                                <CardTitle className=\"text-white\">Roteiro (Storyboard)</CardTitle>\r\n                                {generatedScript.length > 0 && (\r\n                                    <Button variant=\"ghost\" size=\"sm\" onClick={() => copyToClipboard(JSON.stringify(generatedScript, null, 2))}>\r\n                                        <Copy className=\"w-4 h-4 mr-2\" /> Copiar JSON\r\n                                    </Button>\r\n                                )}\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                {generatedScript.length > 0 ? (\r\n                                    <div className=\"space-y-4\">\r\n                                        {generatedScript.map((scene, idx) => (\r\n                                            <div key={idx} className=\"bg-black/20 p-4 rounded-lg border border-white/5 flex gap-4\">\r\n                                                <div className=\"bg-white/10 w-8 h-8 rounded-full flex items-center justify-center shrink-0 font-bold text-white\">\r\n                                                    {scene.scene_number}\r\n                                                </div>\r\n                                                <div className=\"space-y-2 flex-1\">\r\n                                                    <div className=\"flex justify-between\">\r\n                                                        <span className=\"text-xs font-medium text-pink-400 uppercase\">Visual</span>\r\n                                                        <span className=\"text-xs text-gray-500\">{scene.duration}s</span>\r\n                                                    </div>\r\n                                                    <p className=\"text-gray-300 text-sm\">{scene.visual_description}</p>\r\n\r\n                                                    <div className=\"h-px bg-white/5 my-2\" />\r\n\r\n                                                    <span className=\"text-xs font-medium text-blue-400 uppercase\">├üudio / Locu├º├úo</span>\r\n                                                    <p className=\"text-white text-sm italic\">&quot;{scene.audio_script}&quot;</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"flex flex-col items-center justify-center h-[300px] text-gray-500\">\r\n                                        <Video className=\"w-12 h-12 mb-4 opacity-20\" />\r\n                                        <p>Seu roteiro aparecer├í aqui.</p>\r\n                                    </div>\r\n                                )}\r\n                            </CardContent>\r\n                        </Card>\r\n                    </TabsContent>\r\n\r\n\r\n                    {/* IMAGE GENERATOR TAB */}\r\n                    <TabsContent value=\"image\" className=\"mt-6\">\r\n                        <ImageGenerator />\r\n                    </TabsContent>\r\n                </Tabs>\r\n            </div >\r\n        </DashboardLayout >\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\analytics\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAnalytics'. Either include it or remove the dependency array.","line":73,"column":8,"nodeType":"ArrayExpression","endLine":73,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAnalytics, period]","fix":{"range":[1782,1790],"text":"[fetchAnalytics, period]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":339,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":339,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13839,13842],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13839,13842],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport {\r\n    LineChart,\r\n    Line,\r\n    BarChart,\r\n    Bar,\r\n    PieChart,\r\n    Pie,\r\n    Cell,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    Tooltip,\r\n    Legend,\r\n    ResponsiveContainer,\r\n} from \"recharts\"\r\nimport {\r\n    TrendingUp,\r\n    TrendingDown,\r\n    Eye,\r\n    MousePointerClick,\r\n    Package,\r\n    FileText,\r\n    Palette,\r\n    Link as LinkIcon,\r\n    Activity,\r\n    Loader2,\r\n} from \"lucide-react\"\r\n\r\ninterface AnalyticsData {\r\n    overview: {\r\n        totalProducts: number\r\n        totalPosts: number\r\n        totalCreatives: number\r\n        totalCreativeViews: number\r\n        totalCreativeDownloads: number\r\n        totalBioViews: number\r\n        totalBioClicks: number\r\n        totalEvents: number\r\n        growth: number\r\n        xp: number\r\n        level: number\r\n    }\r\n    dailyData: Array<{\r\n        date: string\r\n        events: number\r\n        productViews: number\r\n        linkClicks: number\r\n        creativeViews: number\r\n    }>\r\n    eventsByType: Record<string, number>\r\n    period: {\r\n        days: number\r\n        startDate: string\r\n        endDate: string\r\n    }\r\n}\r\n\r\nconst COLORS = [\"#6366f1\", \"#8b5cf6\", \"#ec4899\", \"#f59e0b\", \"#10b981\", \"#3b82f6\"]\r\n\r\nexport default function AnalyticsPage() {\r\n    const [data, setData] = useState<AnalyticsData | null>(null)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [period, setPeriod] = useState(\"30\")\r\n\r\n    useEffect(() => {\r\n        fetchAnalytics()\r\n    }, [period])\r\n\r\n    const fetchAnalytics = async () => {\r\n        setIsLoading(true)\r\n        try {\r\n            const res = await fetch(`/api/analytics?days=${period}`)\r\n            const json = await res.json()\r\n            setData(json)\r\n        } catch (error) {\r\n            console.error(\"Failed to load analytics\", error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center min-h-screen\">\r\n                <Loader2 className=\"w-8 h-8 animate-spin text-indigo-500\" />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (!data) {\r\n        return (\r\n            <div className=\"flex items-center justify-center min-h-screen\">\r\n                <p className=\"text-gray-400\">Erro ao carregar analytics</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const { overview, dailyData, eventsByType } = data\r\n\r\n    // Prepare pie chart data\r\n    const pieData = Object.entries(eventsByType).map(([name, value]) => ({\r\n        name: name.replace(/_/g, \" \"),\r\n        value,\r\n    }))\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-6 space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-white\">Analytics</h1>\r\n                    <p className=\"text-gray-400 mt-1\">\r\n                        Acompanhe o desempenho da sua conta\r\n                    </p>\r\n                </div>\r\n                <Select value={period} onValueChange={setPeriod}>\r\n                    <SelectTrigger className=\"w-[180px] bg-gray-900 border-white/10\">\r\n                        <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                        <SelectItem value=\"7\">├Ültimos 7 dias</SelectItem>\r\n                        <SelectItem value=\"30\">├Ültimos 30 dias</SelectItem>\r\n                        <SelectItem value=\"90\">├Ültimos 90 dias</SelectItem>\r\n                    </SelectContent>\r\n                </Select>\r\n            </div>\r\n\r\n            {/* Overview Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                <MetricCard\r\n                    title=\"Total de Eventos\"\r\n                    value={overview.totalEvents}\r\n                    icon={Activity}\r\n                    growth={overview.growth}\r\n                    color=\"text-indigo-500\"\r\n                />\r\n                <MetricCard\r\n                    title=\"Produtos\"\r\n                    value={overview.totalProducts}\r\n                    icon={Package}\r\n                    color=\"text-violet-500\"\r\n                />\r\n                <MetricCard\r\n                    title=\"Posts Publicados\"\r\n                    value={overview.totalPosts}\r\n                    icon={FileText}\r\n                    color=\"text-emerald-500\"\r\n                />\r\n                <MetricCard\r\n                    title=\"Criativos\"\r\n                    value={overview.totalCreatives}\r\n                    icon={Palette}\r\n                    color=\"text-pink-500\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                <MetricCard\r\n                    title=\"Visualiza├º├Áes de Criativos\"\r\n                    value={overview.totalCreativeViews}\r\n                    icon={Eye}\r\n                    color=\"text-blue-500\"\r\n                />\r\n                <MetricCard\r\n                    title=\"Downloads de Criativos\"\r\n                    value={overview.totalCreativeDownloads}\r\n                    icon={MousePointerClick}\r\n                    color=\"text-cyan-500\"\r\n                />\r\n                <MetricCard\r\n                    title=\"Visualiza├º├Áes da Bio\"\r\n                    value={overview.totalBioViews}\r\n                    icon={Eye}\r\n                    color=\"text-purple-500\"\r\n                />\r\n                <MetricCard\r\n                    title=\"Cliques em Links\"\r\n                    value={overview.totalBioClicks}\r\n                    icon={LinkIcon}\r\n                    color=\"text-orange-500\"\r\n                />\r\n            </div>\r\n\r\n            {/* Charts */}\r\n            <Tabs defaultValue=\"timeline\" className=\"w-full\">\r\n                <TabsList className=\"bg-gray-900 border border-white/10\">\r\n                    <TabsTrigger value=\"timeline\">Linha do Tempo</TabsTrigger>\r\n                    <TabsTrigger value=\"comparison\">Compara├º├úo</TabsTrigger>\r\n                    <TabsTrigger value=\"distribution\">Distribui├º├úo</TabsTrigger>\r\n                </TabsList>\r\n\r\n                <TabsContent value=\"timeline\" className=\"space-y-4\">\r\n                    <Card className=\"bg-gray-900 border-white/10\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-white\">Atividade ao Longo do Tempo</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <ResponsiveContainer width=\"100%\" height={350}>\r\n                                <LineChart data={dailyData}>\r\n                                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\r\n                                    <XAxis\r\n                                        dataKey=\"date\"\r\n                                        stroke=\"#9ca3af\"\r\n                                        tick={{ fill: \"#9ca3af\" }}\r\n                                    />\r\n                                    <YAxis stroke=\"#9ca3af\" tick={{ fill: \"#9ca3af\" }} />\r\n                                    <Tooltip\r\n                                        contentStyle={{\r\n                                            backgroundColor: \"#1f2937\",\r\n                                            border: \"1px solid #374151\",\r\n                                            borderRadius: \"8px\",\r\n                                        }}\r\n                                    />\r\n                                    <Legend />\r\n                                    <Line\r\n                                        type=\"monotone\"\r\n                                        dataKey=\"events\"\r\n                                        stroke=\"#6366f1\"\r\n                                        strokeWidth={2}\r\n                                        name=\"Total de Eventos\"\r\n                                    />\r\n                                    <Line\r\n                                        type=\"monotone\"\r\n                                        dataKey=\"productViews\"\r\n                                        stroke=\"#8b5cf6\"\r\n                                        strokeWidth={2}\r\n                                        name=\"Visualiza├º├Áes de Produtos\"\r\n                                    />\r\n                                    <Line\r\n                                        type=\"monotone\"\r\n                                        dataKey=\"linkClicks\"\r\n                                        stroke=\"#ec4899\"\r\n                                        strokeWidth={2}\r\n                                        name=\"Cliques em Links\"\r\n                                    />\r\n                                    <Line\r\n                                        type=\"monotone\"\r\n                                        dataKey=\"creativeViews\"\r\n                                        stroke=\"#10b981\"\r\n                                        strokeWidth={2}\r\n                                        name=\"Visualiza├º├Áes de Criativos\"\r\n                                    />\r\n                                </LineChart>\r\n                            </ResponsiveContainer>\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"comparison\" className=\"space-y-4\">\r\n                    <Card className=\"bg-gray-900 border-white/10\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-white\">Compara├º├úo de M├®tricas</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <ResponsiveContainer width=\"100%\" height={350}>\r\n                                <BarChart data={dailyData}>\r\n                                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\r\n                                    <XAxis\r\n                                        dataKey=\"date\"\r\n                                        stroke=\"#9ca3af\"\r\n                                        tick={{ fill: \"#9ca3af\" }}\r\n                                    />\r\n                                    <YAxis stroke=\"#9ca3af\" tick={{ fill: \"#9ca3af\" }} />\r\n                                    <Tooltip\r\n                                        contentStyle={{\r\n                                            backgroundColor: \"#1f2937\",\r\n                                            border: \"1px solid #374151\",\r\n                                            borderRadius: \"8px\",\r\n                                        }}\r\n                                    />\r\n                                    <Legend />\r\n                                    <Bar dataKey=\"productViews\" fill=\"#8b5cf6\" name=\"Produtos\" />\r\n                                    <Bar dataKey=\"linkClicks\" fill=\"#ec4899\" name=\"Links\" />\r\n                                    <Bar dataKey=\"creativeViews\" fill=\"#10b981\" name=\"Criativos\" />\r\n                                </BarChart>\r\n                            </ResponsiveContainer>\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"distribution\" className=\"space-y-4\">\r\n                    <Card className=\"bg-gray-900 border-white/10\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-white\">Distribui├º├úo de Eventos</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <ResponsiveContainer width=\"100%\" height={350}>\r\n                                <PieChart>\r\n                                    <Pie\r\n                                        data={pieData}\r\n                                        cx=\"50%\"\r\n                                        cy=\"50%\"\r\n                                        labelLine={false}\r\n                                        label={({ name, percent }) =>\r\n                                            `${name}: ${((percent || 0) * 100).toFixed(0)}%`\r\n                                        }\r\n                                        outerRadius={120}\r\n                                        fill=\"#8884d8\"\r\n                                        dataKey=\"value\"\r\n                                    >\r\n                                        {pieData.map((entry, index) => (\r\n                                            <Cell\r\n                                                key={`cell-${index}`}\r\n                                                fill={COLORS[index % COLORS.length]}\r\n                                            />\r\n                                        ))}\r\n                                    </Pie>\r\n                                    <Tooltip\r\n                                        contentStyle={{\r\n                                            backgroundColor: \"#1f2937\",\r\n                                            border: \"1px solid #374151\",\r\n                                            borderRadius: \"8px\",\r\n                                        }}\r\n                                    />\r\n                                </PieChart>\r\n                            </ResponsiveContainer>\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction MetricCard({\r\n    title,\r\n    value,\r\n    icon: Icon,\r\n    growth,\r\n    color,\r\n}: {\r\n    title: string\r\n    value: number\r\n    icon: any\r\n    growth?: number\r\n    color: string\r\n}) {\r\n    return (\r\n        <Card className=\"bg-gray-900 border-white/10\">\r\n            <CardContent className=\"p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"space-y-1\">\r\n                        <p className=\"text-sm text-gray-400\">{title}</p>\r\n                        <p className=\"text-2xl font-bold text-white\">\r\n                            {value.toLocaleString()}\r\n                        </p>\r\n                        {growth !== undefined && (\r\n                            <div className=\"flex items-center gap-1 text-sm\">\r\n                                {growth >= 0 ? (\r\n                                    <>\r\n                                        <TrendingUp className=\"w-4 h-4 text-green-500\" />\r\n                                        <span className=\"text-green-500\">+{growth}%</span>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <TrendingDown className=\"w-4 h-4 text-red-500\" />\r\n                                        <span className=\"text-red-500\">{growth}%</span>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <Icon className={`w-8 h-8 ${color}`} />\r\n                </div>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\admin\\access-count\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\admin\\settings\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":7,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// GET - Get global settings\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const user = await db.user.findUnique({\r\n            where: { id: userId },\r\n            select: { role: true },\r\n        })\r\n\r\n        if (user?.role !== \"ADMIN\") {\r\n            return new NextResponse(\"Forbidden\", { status: 403 })\r\n        }\r\n\r\n        const settings = await db.globalSettings.findUnique({\r\n            where: { key: \"public_stats\" },\r\n        })\r\n\r\n        return NextResponse.json(settings?.value || {})\r\n    } catch (error) {\r\n        console.error(\"[SETTINGS_GET]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\n// PATCH - Update global settings\r\nexport async function PATCH(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const user = await db.user.findUnique({\r\n            where: { id: userId },\r\n            select: { role: true },\r\n        })\r\n\r\n        if (user?.role !== \"ADMIN\") {\r\n            return new NextResponse(\"Forbidden\", { status: 403 })\r\n        }\r\n\r\n        const body = await req.json()\r\n\r\n        // Upsert settings\r\n        const settings = await db.globalSettings.upsert({\r\n            where: { key: \"public_stats\" },\r\n            update: { value: body },\r\n            create: {\r\n                key: \"public_stats\",\r\n                value: body,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json(settings.value)\r\n    } catch (error) {\r\n        console.error(\"[SETTINGS_PATCH]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\admin\\stats\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":7,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// GET - Admin stats\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const user = await db.user.findUnique({\r\n            where: { id: userId },\r\n            select: { role: true },\r\n        })\r\n\r\n        if (user?.role !== \"ADMIN\") {\r\n            return new NextResponse(\"Forbidden\", { status: 403 })\r\n        }\r\n\r\n        // Get all stats\r\n        const [\r\n            totalUsers,\r\n            freeUsers,\r\n            paidUsers,\r\n            totalProducts,\r\n            totalPosts,\r\n        ] = await Promise.all([\r\n            db.user.count(),\r\n            db.user.count({ where: { subscription: \"FREE\" } }),\r\n            db.user.count({ where: { subscription: \"PAID\" } }),\r\n            db.product.count(),\r\n            db.post.count(),\r\n        ])\r\n\r\n        return NextResponse.json({\r\n            totalUsers,\r\n            freeUsers,\r\n            paidUsers,\r\n            totalProducts,\r\n            totalPosts,\r\n        })\r\n    } catch (error) {\r\n        console.error(\"[ADMIN_STATS_GET]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\admin\\users\\[userId]\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[551,554],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[551,554],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// PATCH - Update user (admin only)\r\nexport async function PATCH(req: Request, { params }: { params: Promise<{ userId: string }> }) {\r\n    const { userId } = await params;\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const adminId = (session.user as any).id\r\n        const admin = await db.user.findUnique({\r\n            where: { id: adminId },\r\n            select: { role: true },\r\n        })\r\n\r\n        if (admin?.role !== \"ADMIN\") {\r\n            return new NextResponse(\"Forbidden\", { status: 403 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const { level, subscription, subscriptionExpiresAt, subscriptionDays } = body\r\n\r\n        // Calculate expiry date if days provided\r\n        let expiryDate = subscriptionExpiresAt\r\n        if (subscriptionDays && subscription === \"PAID\") {\r\n            const now = new Date()\r\n            expiryDate = new Date(now.getTime() + subscriptionDays * 24 * 60 * 60 * 1000)\r\n        }\r\n\r\n        const user = await db.user.update({\r\n            where: { id: userId },\r\n            data: {\r\n                level: level !== undefined ? parseInt(level) : undefined,\r\n                subscription,\r\n                subscriptionExpiresAt: subscription === \"PAID\" ? expiryDate : null,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json(user)\r\n    } catch (error) {\r\n        console.error(\"[ADMIN_USER_PATCH]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\admin\\users\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":7,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// GET - List all users with stats\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const user = await db.user.findUnique({\r\n            where: { id: userId },\r\n            select: { role: true },\r\n        })\r\n\r\n        if (user?.role !== \"ADMIN\") {\r\n            return new NextResponse(\"Forbidden\", { status: 403 })\r\n        }\r\n\r\n        const users = await db.user.findMany({\r\n            select: {\r\n                id: true,\r\n                name: true,\r\n                email: true,\r\n                image: true,\r\n                role: true,\r\n                subscription: true,\r\n                createdAt: true,\r\n                lastLoginAt: true,\r\n                xp: true,\r\n                level: true,\r\n                _count: {\r\n                    select: {\r\n                        products: true,\r\n                        posts: true,\r\n                        creatives: true,\r\n                    },\r\n                },\r\n            },\r\n            orderBy: {\r\n                createdAt: \"desc\",\r\n            },\r\n        })\r\n\r\n        // Calculate days since registration and days offline\r\n        const usersWithStats = users.map(user => {\r\n            const daysSinceRegistration = Math.floor(\r\n                (Date.now() - new Date(user.createdAt).getTime()) / (1000 * 60 * 60 * 24)\r\n            )\r\n            const daysOffline = user.lastLoginAt\r\n                ? Math.floor(\r\n                    (Date.now() - new Date(user.lastLoginAt).getTime()) / (1000 * 60 * 60 * 24)\r\n                )\r\n                : daysSinceRegistration\r\n\r\n            return {\r\n                ...user,\r\n                daysSinceRegistration,\r\n                daysOffline,\r\n                productsCount: user._count.products,\r\n                postsCount: user._count.posts,\r\n                creativesCount: user._count.creatives,\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(usersWithStats)\r\n    } catch (error) {\r\n        console.error(\"[ADMIN_USERS_GET]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\analytics\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\badges\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\bio\\links\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\bio\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\bio\\track\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\campaigns\\create\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\campaigns\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1780,1783],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1780,1783],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\ninterface UserSession {\r\n    user: {\r\n        id: string\r\n        name?: string | null\r\n        email?: string | null\r\n        image?: string | null\r\n    }\r\n}\r\n\r\n\r\n// GET - List all campaigns for the user\r\nexport async function GET() {\r\n    try {\r\n        const session = await getServerSession(authOptions) as UserSession | null\r\n        if (!session?.user) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const userId = session.user.id\r\n        const campaigns = await db.campaign.findMany({\r\n            where: { userId },\r\n            orderBy: { createdAt: \"desc\" },\r\n        })\r\n\r\n        return NextResponse.json(campaigns)\r\n    } catch (error) {\r\n        console.error(\"Error fetching campaigns:\", error)\r\n        return NextResponse.json({ error: \"Failed to fetch campaigns\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Create a new campaign\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions) as UserSession | null\r\n        if (!session?.user) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const userId = session.user.id\r\n        const body = await req.json()\r\n        const { name, platform, status, productId } = body\r\n\r\n        const campaign = await db.campaign.create({\r\n            data: {\r\n                name,\r\n                platform,\r\n                status: status || \"paused\",\r\n                userId,\r\n                productId: productId || \"\", // Fallback for old API calls\r\n            } as any,\r\n        })\r\n\r\n        return NextResponse.json(campaign, { status: 201 })\r\n    } catch (error) {\r\n        console.error(\"Error creating campaign:\", error)\r\n        return NextResponse.json({ error: \"Failed to create campaign\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// PATCH - Update campaign status or metrics\r\nexport async function PATCH(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const userId = (session.user as { id: string }).id\r\n        const body = await req.json()\r\n        const { id, status, clicks, conversions, spent, revenue } = body\r\n\r\n        // Verify ownership\r\n        const campaign = await db.campaign.findUnique({ where: { id } })\r\n        if (!campaign || campaign.userId !== userId) {\r\n            return NextResponse.json({ error: \"Campaign not found\" }, { status: 404 })\r\n        }\r\n\r\n        const updated = await db.campaign.update({\r\n            where: { id },\r\n            data: {\r\n                ...(status && { status }),\r\n                ...(clicks !== undefined && { clicks }),\r\n                ...(conversions !== undefined && { conversions }),\r\n                ...(spent !== undefined && { spent }),\r\n                ...(revenue !== undefined && { revenue }),\r\n            },\r\n        })\r\n\r\n        return NextResponse.json(updated)\r\n    } catch (error) {\r\n        console.error(\"Error updating campaign:\", error)\r\n        return NextResponse.json({ error: \"Failed to update campaign\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Delete a campaign\r\nexport async function DELETE(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const userId = (session.user as { id: string }).id\r\n        const { searchParams } = new URL(req.url)\r\n        const id = searchParams.get(\"id\")\r\n\r\n        if (!id) {\r\n            return NextResponse.json({ error: \"Campaign ID required\" }, { status: 400 })\r\n        }\r\n\r\n        // Verify ownership\r\n        const campaign = await db.campaign.findUnique({ where: { id } })\r\n        if (!campaign || campaign.userId !== userId) {\r\n            return NextResponse.json({ error: \"Campaign not found\" }, { status: 404 })\r\n        }\r\n\r\n        await db.campaign.delete({ where: { id } })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"Error deleting campaign:\", error)\r\n        return NextResponse.json({ error: \"Failed to delete campaign\" }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\chat\\customer\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\chat\\internal\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\creatives\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\gamification\\leaderboard\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\gamification\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\integrations\\google-ads\\test\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\integrations\\oauth\\[platform]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\integrations\\oauth\\callback\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\integrations\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":6,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":31},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[506,509],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[506,509],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":24,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2639,2642],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2639,2642],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":122,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":122,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3686,3689],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3686,3689],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":127,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":127,"endColumn":19}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const integrations = await db.integration.findMany({\r\n            where: {\r\n                userId: (session.user as any).id,\r\n            },\r\n            orderBy: {\r\n                createdAt: \"desc\",\r\n            },\r\n        })\r\n\r\n        return NextResponse.json(integrations)\r\n    } catch (error) {\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const body = await req.json()\r\n        const {\r\n            platform,\r\n            name,\r\n            apiKey,\r\n            accountId,\r\n            accessToken,\r\n            refreshToken,\r\n            expiresAt,\r\n            targetCountry,\r\n            targetState,\r\n            targetCity\r\n        } = body\r\n\r\n        if (!platform || !name) {\r\n            return new NextResponse(\"Missing required fields\", { status: 400 })\r\n        }\r\n\r\n        // Optional: Validate credentials for specific platforms\r\n        if (platform === \"hotmart\" && apiKey) {\r\n            try {\r\n                const hotmartRes = await fetch(\"https://developers.hotmart.com/payments/api/v1/users/me\", {\r\n                    headers: { \"Authorization\": `Bearer ${apiKey}` }\r\n                })\r\n                if (!hotmartRes.ok) {\r\n                    return new NextResponse(\"Token Hotmart inv├ílido\", { status: 400 })\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Hotmart validation error\", e)\r\n            }\r\n        }\r\n\r\n        if (platform === \"eduzz\" && apiKey) {\r\n            try {\r\n                const eduzzRes = await fetch(\"https://api2.eduzz.com/credential/v1/me\", {\r\n                    headers: { \"token\": apiKey }\r\n                })\r\n                if (!eduzzRes.ok) {\r\n                    return new NextResponse(\"API Key Eduzz inv├ílida\", { status: 400 })\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Eduzz validation error\", e)\r\n            }\r\n        }\r\n\r\n        const integration = await db.integration.create({\r\n            data: {\r\n                userId: (session.user as any).id,\r\n                platform,\r\n                name,\r\n                apiKey,\r\n                accountId,\r\n                accessToken,\r\n                refreshToken,\r\n                expiresAt: expiresAt ? new Date(expiresAt) : null,\r\n                targetCountry,\r\n                targetState,\r\n                targetCity,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json(integration)\r\n    } catch {\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function DELETE(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    const { searchParams } = new URL(req.url)\r\n    const id = searchParams.get(\"id\")\r\n\r\n    if (!id) {\r\n        return new NextResponse(\"Missing id\", { status: 400 })\r\n    }\r\n\r\n    try {\r\n        const integration = await db.integration.deleteMany({\r\n            where: {\r\n                id,\r\n                userId: (session.user as any).id,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json(integration)\r\n    } catch (error) {\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\integrations\\tiktok-ads\\test\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[775,778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[775,778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1373,1376],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1373,1376],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\nimport { tiktokAdsService } from \"@/lib/tiktok-ads\"\r\n\r\nexport async function POST(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const { integrationId } = await req.json()\r\n\r\n        if (!integrationId) {\r\n            return new NextResponse(\"Integration ID required\", { status: 400 })\r\n        }\r\n\r\n        const integration = await db.integration.findUnique({\r\n            where: {\r\n                id: integrationId,\r\n                userId: (session.user as any).id,\r\n            },\r\n        })\r\n\r\n        if (!integration || !integration.accessToken) {\r\n            return new NextResponse(\"Integration not found or missing access token\", { status: 404 })\r\n        }\r\n\r\n        // Test Connection (List Advertisers)\r\n        const advertisers = await tiktokAdsService.getAdvertisers(integration.accessToken)\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: \"Conex├úo verificada com sucesso!\",\r\n            advertisersCount: advertisers.length,\r\n            advertisers: advertisers\r\n        })\r\n\r\n    } catch (error: any) {\r\n        console.error(\"[TIKTOK_ADS_TEST]\", error)\r\n        return NextResponse.json({\r\n            success: false,\r\n            message: error.message || \"Falha ao testar conex├úo\"\r\n        }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\nitroflare\\files\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[851,854],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[851,854],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// PATCH - Update creative (rename, move to folder, add tags)\r\nexport async function PATCH(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const { id, headline, folderId, tagIds } = body\r\n\r\n        const updateData: any = {}\r\n        if (headline !== undefined) updateData.headline = headline\r\n        if (folderId !== undefined) updateData.folderId = folderId\r\n\r\n        if (tagIds !== undefined) {\r\n            updateData.tags = {\r\n                set: tagIds.map((tagId: string) => ({ id: tagId }))\r\n            }\r\n        }\r\n\r\n        const creative = await db.creative.update({\r\n            where: { id, userId: user.id },\r\n            data: updateData,\r\n            include: {\r\n                folder: true,\r\n                tags: true\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(creative)\r\n    } catch (error) {\r\n        console.error(\"Error updating creative:\", error)\r\n        return NextResponse.json({ error: \"Failed to update creative\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Delete creative\r\nexport async function DELETE(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const { searchParams } = new URL(req.url)\r\n        const id = searchParams.get('id')\r\n\r\n        if (!id) {\r\n            return NextResponse.json({ error: \"Creative ID required\" }, { status: 400 })\r\n        }\r\n\r\n        await db.creative.delete({\r\n            where: { id, userId: user.id }\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"Error deleting creative:\", error)\r\n        return NextResponse.json({ error: \"Failed to delete creative\" }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\nitroflare\\folders\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":7,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// GET - List all folders for user\r\nexport async function GET(_req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const folders = await db.nitroflareFolder.findMany({\r\n            where: { userId: user.id },\r\n            include: {\r\n                _count: {\r\n                    select: { creatives: true }\r\n                }\r\n            },\r\n            orderBy: { createdAt: 'desc' }\r\n        })\r\n\r\n        return NextResponse.json(folders)\r\n    } catch (error) {\r\n        console.error(\"Error fetching folders:\", error)\r\n        return NextResponse.json({ error: \"Failed to fetch folders\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Create new folder\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const { name, description, color, icon } = body\r\n\r\n        const folder = await db.nitroflareFolder.create({\r\n            data: {\r\n                name,\r\n                description,\r\n                color,\r\n                icon,\r\n                userId: user.id\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(folder)\r\n    } catch (error) {\r\n        console.error(\"Error creating folder:\", error)\r\n        return NextResponse.json({ error: \"Failed to create folder\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// PATCH - Update folder\r\nexport async function PATCH(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const { id, name, description, color, icon } = body\r\n\r\n        const folder = await db.nitroflareFolder.update({\r\n            where: { id, userId: user.id },\r\n            data: { name, description, color, icon }\r\n        })\r\n\r\n        return NextResponse.json(folder)\r\n    } catch (error) {\r\n        console.error(\"Error updating folder:\", error)\r\n        return NextResponse.json({ error: \"Failed to update folder\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Delete folder\r\nexport async function DELETE(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const { searchParams } = new URL(req.url)\r\n        const id = searchParams.get('id')\r\n\r\n        if (!id) {\r\n            return NextResponse.json({ error: \"Folder ID required\" }, { status: 400 })\r\n        }\r\n\r\n        await db.nitroflareFolder.delete({\r\n            where: { id, userId: user.id }\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"Error deleting folder:\", error)\r\n        return NextResponse.json({ error: \"Failed to delete folder\" }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\nitroflare\\gallery\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[599,602],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[599,602],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\nexport async function GET() {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n\r\n        if (!session?.user) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        // Get all creatives (both with and without Nitroflare URLs) for this user\r\n        const creatives = await db.creative.findMany({\r\n            where: {\r\n                userId: (session.user as any).id,\r\n                type: \"image\" // Only show images\r\n            },\r\n            orderBy: {\r\n                createdAt: 'desc'\r\n            },\r\n            select: {\r\n                id: true,\r\n                imageUrl: true,\r\n                nitroflareUrl: true,\r\n                prompt: true,\r\n                headline: true,\r\n                createdAt: true\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(creatives)\r\n    } catch (error) {\r\n        console.error(\"Error fetching Nitroflare gallery:\", error)\r\n        return NextResponse.json({ error: \"Internal server error\" }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\nitroflare\\tags\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":7,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// GET - List all tags for user\r\nexport async function GET(_req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const tags = await db.nitroflareTag.findMany({\r\n            where: { userId: user.id },\r\n            include: {\r\n                _count: {\r\n                    select: { creatives: true }\r\n                }\r\n            },\r\n            orderBy: { name: 'asc' }\r\n        })\r\n\r\n        return NextResponse.json(tags)\r\n    } catch (error) {\r\n        console.error(\"Error fetching tags:\", error)\r\n        return NextResponse.json({ error: \"Failed to fetch tags\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Create new tag\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const body = await req.json()\r\n        const { name, color } = body\r\n\r\n        const tag = await db.nitroflareTag.create({\r\n            data: {\r\n                name,\r\n                color,\r\n                userId: user.id\r\n            }\r\n        })\r\n\r\n        return NextResponse.json(tag)\r\n    } catch (error) {\r\n        console.error(\"Error creating tag:\", error)\r\n        return NextResponse.json({ error: \"Failed to create tag\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Delete tag\r\nexport async function DELETE(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user?.email) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { email: session.user.email }\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json({ error: \"User not found\" }, { status: 404 })\r\n        }\r\n\r\n        const { searchParams } = new URL(req.url)\r\n        const id = searchParams.get('id')\r\n\r\n        if (!id) {\r\n            return NextResponse.json({ error: \"Tag ID required\" }, { status: 400 })\r\n        }\r\n\r\n        await db.nitroflareTag.delete({\r\n            where: { id, userId: user.id }\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"Error deleting tag:\", error)\r\n        return NextResponse.json({ error: \"Failed to delete tag\" }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\nitroflare\\upload\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\notifications\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":7,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// GET - List all notifications for the user\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const notifications = await db.notification.findMany({\r\n            where: { userId },\r\n            orderBy: { createdAt: \"desc\" },\r\n            take: 20, // Limit to 20 most recent\r\n        })\r\n\r\n        return NextResponse.json(notifications)\r\n    } catch (error) {\r\n        console.error(\"[NOTIFICATIONS_GET]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\n// PATCH - Mark notification as read\r\nexport async function PATCH(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const { searchParams } = new URL(req.url)\r\n        const id = searchParams.get(\"id\")\r\n\r\n        if (!id) {\r\n            return new NextResponse(\"Notification ID required\", { status: 400 })\r\n        }\r\n\r\n        // Verify ownership\r\n        const notification = await db.notification.findUnique({ where: { id } })\r\n        if (!notification || notification.userId !== userId) {\r\n            return new NextResponse(\"Notification not found\", { status: 404 })\r\n        }\r\n\r\n        const updated = await db.notification.update({\r\n            where: { id },\r\n            data: { read: true },\r\n        })\r\n\r\n        return NextResponse.json(updated)\r\n    } catch (error) {\r\n        console.error(\"[NOTIFICATIONS_PATCH]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Delete a notification\r\nexport async function DELETE(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const { searchParams } = new URL(req.url)\r\n        const id = searchParams.get(\"id\")\r\n\r\n        if (!id) {\r\n            return new NextResponse(\"Notification ID required\", { status: 400 })\r\n        }\r\n\r\n        // Verify ownership\r\n        const notification = await db.notification.findUnique({ where: { id } })\r\n        if (!notification || notification.userId !== userId) {\r\n            return new NextResponse(\"Notification not found\", { status: 404 })\r\n        }\r\n\r\n        await db.notification.delete({ where: { id } })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"[NOTIFICATIONS_DELETE]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\onboarding\\complete\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":7,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\nimport { sendWelcomeEmail } from \"@/lib/email\"\r\n\r\nexport async function POST(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        await db.user.update({\r\n            where: {\r\n                id: (session.user as { id: string }).id,\r\n            },\r\n            data: {\r\n                hasCompletedOnboarding: true,\r\n            },\r\n        })\r\n\r\n        // Send welcome email\r\n        if (session.user.email) {\r\n            await sendWelcomeEmail(session.user.email, session.user.name || \"Afiliado\")\r\n        }\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"[ONBOARDING_COMPLETE]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\page-views\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\posts\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":8,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\nimport { addXp } from \"@/lib/gamification\"\r\n\r\n// GET - List all posts for the user\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const posts = await db.post.findMany({\r\n            where: { userId },\r\n            orderBy: { createdAt: \"desc\" },\r\n        })\r\n\r\n        return NextResponse.json(posts)\r\n    } catch (error) {\r\n        console.error(\"[POSTS_GET]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Create a new post\r\nexport async function POST(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const body = await req.json()\r\n        const { content, imageUrl, platforms, scheduledFor } = body\r\n\r\n        const post = await db.post.create({\r\n            data: {\r\n                content,\r\n                imageUrl,\r\n                platforms,\r\n                scheduledFor: scheduledFor ? new Date(scheduledFor) : null,\r\n                userId,\r\n            },\r\n        })\r\n\r\n        // Add XP for creating post\r\n        await addXp(userId, 20)\r\n\r\n        return NextResponse.json(post, { status: 201 })\r\n    } catch (error) {\r\n        console.error(\"[POSTS_POST]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Delete a post\r\nexport async function DELETE(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const { searchParams } = new URL(req.url)\r\n        const id = searchParams.get(\"id\")\r\n\r\n        if (!id) {\r\n            return new NextResponse(\"Post ID required\", { status: 400 })\r\n        }\r\n\r\n        // Verify ownership\r\n        const post = await db.post.findUnique({ where: { id } })\r\n        if (!post || post.userId !== userId) {\r\n            return new NextResponse(\"Post not found\", { status: 404 })\r\n        }\r\n\r\n        await db.post.delete({ where: { id } })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"[POSTS_DELETE]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\products\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":8,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\nimport { addXp } from \"@/lib/gamification\"\r\n\r\n// GET - List all products for the user\r\nexport async function GET(_req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const userId = (session.user as { id: string }).id\r\n        const products = await db.product.findMany({\r\n            where: { userId },\r\n            orderBy: { createdAt: \"desc\" },\r\n        })\r\n\r\n        return NextResponse.json(products)\r\n    } catch (error) {\r\n        console.error(\"Error fetching products:\", error)\r\n        return NextResponse.json({ error: \"Failed to fetch products\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// POST - Create a new product\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const userId = (session.user as { id: string }).id\r\n        const body = await req.json()\r\n        const { title, price, commission, platform, imageUrl, affiliateLink, targetCountry, targetState, targetCity } = body\r\n\r\n        const product = await db.product.create({\r\n            data: {\r\n                title,\r\n                price,\r\n                commission,\r\n                platform,\r\n                imageUrl,\r\n                affiliateLink,\r\n                targetCountry,\r\n                targetState,\r\n                targetCity,\r\n                userId,\r\n            },\r\n        })\r\n\r\n        // Add XP for creating product\r\n        await addXp(userId, 50)\r\n\r\n        return NextResponse.json(product, { status: 201 })\r\n    } catch (error) {\r\n        console.error(\"Error creating product:\", error)\r\n        return NextResponse.json({ error: \"Failed to create product\" }, { status: 500 })\r\n    }\r\n}\r\n\r\n// DELETE - Delete a product\r\nexport async function DELETE(req: NextRequest) {\r\n    try {\r\n        const session = await getServerSession(authOptions)\r\n        if (!session?.user) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n        }\r\n\r\n        const userId = (session.user as { id: string }).id\r\n        const { searchParams } = new URL(req.url)\r\n        const id = searchParams.get(\"id\")\r\n\r\n        if (!id) {\r\n            return NextResponse.json({ error: \"Product ID required\" }, { status: 400 })\r\n        }\r\n\r\n        // Verify ownership\r\n        const product = await db.product.findUnique({ where: { id } })\r\n        if (!product || product.userId !== userId) {\r\n            return NextResponse.json({ error: \"Product not found\" }, { status: 404 })\r\n        }\r\n\r\n        await db.product.delete({ where: { id } })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"Error deleting product:\", error)\r\n        return NextResponse.json({ error: \"Failed to delete product\" }, { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\profile\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":7,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// GET - Fetch user profile\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const user = await db.user.findUnique({\r\n            where: { id: userId },\r\n            select: {\r\n                id: true,\r\n                name: true,\r\n                email: true,\r\n                image: true,\r\n                role: true,\r\n                bio: true,\r\n                website: true,\r\n                instagram: true,\r\n                tiktok: true,\r\n                youtube: true,\r\n                twitter: true,\r\n                hasCompletedOnboarding: true,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json(user)\r\n    } catch (error) {\r\n        console.error(\"[PROFILE_GET]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\n// PATCH - Update user profile\r\nexport async function PATCH(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as { id: string }).id\r\n        const body = await req.json()\r\n        const { name, bio, website, instagram, tiktok, youtube, twitter, image } = body\r\n\r\n        const user = await db.user.update({\r\n            where: { id: userId },\r\n            data: {\r\n                name,\r\n                bio,\r\n                website,\r\n                instagram,\r\n                tiktok,\r\n                youtube,\r\n                twitter,\r\n                image,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json(user)\r\n    } catch (error) {\r\n        console.error(\"[PROFILE_PATCH]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\public-stats\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'req' is defined but never used.","line":6,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":30},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[371,374],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[371,374],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1389,1392],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1389,1392],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { db } from \"@/lib/db\"\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nexport async function GET(req: Request) {\r\n    try {\r\n        // 1. Get configuration\r\n        const settings = await db.globalSettings.findUnique({\r\n            where: { key: \"public_stats\" },\r\n        })\r\n\r\n        const config = (settings?.value as any) || {}\r\n\r\n        // 2. Get real counts\r\n        const [\r\n            realUsersCount,\r\n            realProductsCount,\r\n            realCreativesCount\r\n        ] = await Promise.all([\r\n            db.user.count(),\r\n            db.product.count(),\r\n            db.creative.count() // Maybe use this for \"Propagandas\"?\r\n        ])\r\n\r\n        // 3. Calculate final stats based on config\r\n        const stats = {\r\n            users: getStatValue(config.users, realUsersCount),\r\n            products: getStatValue(config.products, realProductsCount),\r\n            publishedProducts: getStatValue(config.publishedProducts, realProductsCount), // Assuming added = published for now\r\n            ads: getStatValue(config.ads, realCreativesCount), // Using Creatives as \"Propagandas\"\r\n        }\r\n\r\n        return NextResponse.json(stats)\r\n    } catch (error) {\r\n        console.error(\"[PUBLIC_STATS_GET]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\nfunction getStatValue(config: any, realValue: number) {\r\n    if (!config) return { value: realValue, visible: true }\r\n\r\n    if (config.mode === \"HIDDEN\") {\r\n        return { value: 0, visible: false }\r\n    }\r\n\r\n    if (config.mode === \"EDITED\") {\r\n        return { value: parseInt(config.value) || 0, visible: true }\r\n    }\r\n\r\n    // Default to REAL\r\n    return { value: realValue, visible: true }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\settings\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":6,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":33,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const user = await db.user.findUnique({\r\n            where: {\r\n                id: (session.user as { id: string }).id,\r\n            },\r\n            select: {\r\n                openaiApiKey: true,\r\n                brandName: true,\r\n                brandTone: true,\r\n                brandDescription: true,\r\n            },\r\n        })\r\n\r\n        // Never return the actual key to the client for security\r\n        return NextResponse.json({\r\n            hasKey: !!user?.openaiApiKey,\r\n            brandName: user?.brandName,\r\n            brandTone: user?.brandTone,\r\n            brandDescription: user?.brandDescription,\r\n        })\r\n    } catch (error) {\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const body = await req.json()\r\n        const { openaiApiKey, brandName, brandTone, brandDescription } = body\r\n\r\n        // If only updating brand info, skip API key check\r\n        if (!openaiApiKey && !brandName && !brandTone && !brandDescription) {\r\n            return new NextResponse(\"Missing fields\", { status: 400 })\r\n        }\r\n\r\n        interface UpdateData {\r\n            openaiApiKey?: string\r\n            brandName?: string\r\n            brandTone?: string\r\n            brandDescription?: string\r\n        }\r\n        const updateData: UpdateData = {}\r\n        if (openaiApiKey) updateData.openaiApiKey = openaiApiKey\r\n        if (brandName !== undefined) updateData.brandName = brandName\r\n        if (brandTone !== undefined) updateData.brandTone = brandTone\r\n        if (brandDescription !== undefined) updateData.brandDescription = brandDescription\r\n\r\n        await db.user.update({\r\n            where: {\r\n                id: (session.user as { id: string }).id,\r\n            },\r\n            data: updateData,\r\n        })\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"[SETTINGS_POST]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\social\\publish\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[464,467],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[464,467],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// POST - Publish post to social networks\r\nexport async function POST(req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const userId = (session.user as any).id\r\n        const body = await req.json()\r\n        const { postId } = body\r\n\r\n        if (!postId) {\r\n            return new NextResponse(\"Post ID required\", { status: 400 })\r\n        }\r\n\r\n        // Get post\r\n        const post = await db.post.findUnique({ where: { id: postId } })\r\n        if (!post || post.userId !== userId) {\r\n            return new NextResponse(\"Post not found\", { status: 404 })\r\n        }\r\n\r\n        // Get user's social integrations\r\n        const integrations = await db.integration.findMany({\r\n            where: {\r\n                userId,\r\n                platform: { in: post.platforms }\r\n            }\r\n        })\r\n\r\n        if (integrations.length === 0) {\r\n            return NextResponse.json({\r\n                success: false,\r\n                message: \"Nenhuma integra├º├úo encontrada para as plataformas selecionadas\"\r\n            })\r\n        }\r\n\r\n        // In a real app, this would call the actual social media APIs\r\n        // For now, we'll just simulate the publishing\r\n        const results = post.platforms.map(platform => ({\r\n            platform,\r\n            success: true,\r\n            message: `Post publicado com sucesso no ${platform}!`\r\n        }))\r\n\r\n        // Update post status\r\n        await db.post.update({\r\n            where: { id: postId },\r\n            data: {\r\n                status: \"published\",\r\n                publishedAt: new Date()\r\n            }\r\n        })\r\n\r\n        // Create notification\r\n        await db.notification.create({\r\n            data: {\r\n                title: \"Post Publicado!\",\r\n                message: `Seu post foi publicado em ${post.platforms.length} rede(s) social(is).`,\r\n                type: \"post\",\r\n                userId\r\n            }\r\n        })\r\n\r\n        return NextResponse.json({ success: true, results })\r\n    } catch (error) {\r\n        console.error(\"[SOCIAL_PUBLISH]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\stats\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":6,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { statsService } from \"@/lib/stats-service\"\r\n\r\nexport async function GET(_req: Request) {\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session?.user) {\r\n        return new NextResponse(\"Unauthorized\", { status: 401 })\r\n    }\r\n\r\n    try {\r\n        const stats = await statsService.getDashboardStats((session.user as { id: string }).id)\r\n        return NextResponse.json(stats)\r\n    } catch (error) {\r\n        console.error(\"[STATS_GET]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\stripe\\checkout\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[723,726],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[723,726],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { stripe } from \"@/lib/stripe\"\r\nimport { db } from \"@/lib/db\"\r\n\r\nconst settingsUrl = process.env.NEXTAUTH_URL + \"/settings\"\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        if (!process.env.STRIPE_SECRET_KEY) {\r\n            return new NextResponse(\"Stripe not configured\", { status: 503 })\r\n        }\r\n\r\n        const session = await getServerSession(authOptions)\r\n\r\n        if (!session?.user) {\r\n            return new NextResponse(\"Unauthorized\", { status: 401 })\r\n        }\r\n\r\n        const { priceId } = await req.json()\r\n        const userId = (session.user as any).id\r\n        const userEmail = session.user.email\r\n\r\n        // 1. Check if user already has a Stripe Customer ID\r\n        let stripeCustomer = await db.stripeCustomer.findUnique({\r\n            where: { userId },\r\n        })\r\n\r\n        // 2. If not, create one in Stripe and save to DB\r\n        if (!stripeCustomer) {\r\n            const customer = await stripe.customers.create({\r\n                email: userEmail!,\r\n                metadata: {\r\n                    userId,\r\n                },\r\n            })\r\n\r\n            stripeCustomer = await db.stripeCustomer.create({\r\n                data: {\r\n                    userId,\r\n                    stripeCustomerId: customer.id,\r\n                },\r\n            })\r\n        }\r\n\r\n        // 3. Create Checkout Session\r\n        const sessionStripe = await stripe.checkout.sessions.create({\r\n            customer: stripeCustomer.stripeCustomerId,\r\n            line_items: [\r\n                {\r\n                    price: priceId,\r\n                    quantity: 1,\r\n                },\r\n            ],\r\n            mode: \"subscription\", // or 'payment' for lifetime\r\n            success_url: `${settingsUrl}?success=true`,\r\n            cancel_url: `${settingsUrl}?canceled=true`,\r\n            metadata: {\r\n                userId,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json({ url: sessionStripe.url })\r\n    } catch (error) {\r\n        console.error(\"[STRIPE_CHECKOUT]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\stripe\\portal\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_req' is defined but never used.","line":9,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { stripe } from \"@/lib/stripe\"\r\nimport { db } from \"@/lib/db\"\r\n\r\nconst settingsUrl = process.env.NEXTAUTH_URL + \"/settings\"\r\n\r\nexport async function POST(_req: Request) {\r\n    try {\r\n        if (!process.env.STRIPE_SECRET_KEY) {\r\n            return new NextResponse(\"Stripe not configured\", { status: 503 })\r\n        }\r\n\r\n        const session = await getServerSession(authOptions)\r\n\r\n        if (!session?.user) {\r\n            return new NextResponse(\"Unauthorized\", { status: 401 })\r\n        }\r\n\r\n        const userId = (session.user as { id: string }).id\r\n\r\n        const stripeCustomer = await db.stripeCustomer.findUnique({\r\n            where: { userId },\r\n        })\r\n\r\n        if (!stripeCustomer) {\r\n            return new NextResponse(\"Not found\", { status: 404 })\r\n        }\r\n\r\n        const stripeSession = await stripe.billingPortal.sessions.create({\r\n            customer: stripeCustomer.stripeCustomerId,\r\n            return_url: settingsUrl,\r\n        })\r\n\r\n        return NextResponse.json({ url: stripeSession.url })\r\n    } catch (error) {\r\n        console.error(\"[STRIPE_CUSTOMER_PORTAL]\", error)\r\n        return new NextResponse(\"Internal Error\", { status: 500 })\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\api\\stripe\\webhook\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[752,755],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[752,755],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1102,1105],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1102,1105],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":64,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2154,2157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2154,2157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { headers } from \"next/headers\"\r\nimport { NextResponse } from \"next/server\"\r\nimport { stripe } from \"@/lib/stripe\"\r\nimport { db } from \"@/lib/db\"\r\nimport Stripe from \"stripe\"\r\n\r\nexport async function POST(req: Request) {\r\n    if (!process.env.STRIPE_SECRET_KEY || !process.env.STRIPE_WEBHOOK_SECRET) {\r\n        return new NextResponse(\"Stripe not configured\", { status: 503 })\r\n    }\r\n\r\n    const body = await req.text()\r\n    const headerList = await headers()\r\n    const signature = headerList.get(\"Stripe-Signature\") as string\r\n\r\n    let event: Stripe.Event\r\n\r\n    try {\r\n        event = stripe.webhooks.constructEvent(\r\n            body,\r\n            signature,\r\n            process.env.STRIPE_WEBHOOK_SECRET!\r\n        )\r\n    } catch (error: any) {\r\n        return new NextResponse(`Webhook Error: ${error.message}`, { status: 400 })\r\n    }\r\n\r\n    const session = event.data.object as Stripe.Checkout.Session\r\n\r\n    if (event.type === \"checkout.session.completed\") {\r\n        const subscription = await stripe.subscriptions.retrieve(\r\n            session.subscription as string\r\n        ) as any\r\n\r\n        if (!session?.metadata?.userId) {\r\n            return new NextResponse(\"User id is required\", { status: 400 })\r\n        }\r\n\r\n        await db.stripeCustomer.update({\r\n            where: {\r\n                userId: session.metadata.userId,\r\n            },\r\n            data: {\r\n                stripeSubscriptionId: subscription.id,\r\n                planId: subscription.items.data[0].price.id,\r\n                currentPeriodEnd: new Date(subscription.current_period_end * 1000),\r\n                status: \"active\",\r\n            },\r\n        })\r\n\r\n        // Update User subscription status\r\n        await db.user.update({\r\n            where: { id: session.metadata.userId },\r\n            data: {\r\n                subscription: \"PAID\",\r\n                subscriptionExpiresAt: new Date(subscription.current_period_end * 1000)\r\n            }\r\n        })\r\n    }\r\n\r\n    if (event.type === \"invoice.payment_succeeded\") {\r\n        const subscription = await stripe.subscriptions.retrieve(\r\n            session.subscription as string\r\n        ) as any\r\n\r\n        await db.stripeCustomer.update({\r\n            where: {\r\n                stripeSubscriptionId: subscription.id,\r\n            },\r\n            data: {\r\n                currentPeriodEnd: new Date(subscription.current_period_end * 1000),\r\n                status: \"active\",\r\n            },\r\n        })\r\n\r\n        // Find user by stripe customer id to update expiry\r\n        // This part requires a reverse lookup or storing user ID in subscription metadata\r\n    }\r\n\r\n    return new NextResponse(null, { status: 200 })\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\bio-builder\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":8,"column":52,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":67},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":62,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":87,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":87,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":98,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":98,"endColumn":23},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":278,"column":45,"nodeType":"JSXOpeningElement","endLine":278,"endColumn":128}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport DashboardLayout from \"@/components/layout/dashboard-layout\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { Plus, ExternalLink, Save, Loader2 } from \"lucide-react\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { LinkEditor } from \"@/components/bio/link-editor\"\r\nimport { BioAnalytics } from \"@/components/bio/bio-analytics\"\r\n\r\nimport { BioPage, BioLink } from \"@/types/bio\"\r\n\r\nimport { THEMES } from \"@/lib/themes\"\r\n\r\nexport default function BioBuilderPage() {\r\n    const [bioPage, setBioPage] = useState<BioPage | null>(null)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isSaving, setIsSaving] = useState(false)\r\n\r\n    // New Link State\r\n    const [newLinkTitle, setNewLinkTitle] = useState(\"\")\r\n    const [newLinkUrl, setNewLinkUrl] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        fetchBioPage()\r\n    }, [])\r\n\r\n    const fetchBioPage = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/bio\")\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                setBioPage(data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching bio page:\", error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleUpdateProfile = async () => {\r\n        if (!bioPage) return\r\n        setIsSaving(true)\r\n        try {\r\n            await fetch(\"/api/bio\", {\r\n                method: \"PATCH\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    username: bioPage.username,\r\n                    displayName: bioPage.displayName,\r\n                    bio: bioPage.bio,\r\n                    theme: bioPage.theme,\r\n                    avatarUrl: bioPage.avatarUrl\r\n                })\r\n            })\r\n            alert(\"Perfil atualizado!\")\r\n        } catch (error) {\r\n            alert(\"Erro ao atualizar perfil\")\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    const handleAddLink = async () => {\r\n        if (!newLinkTitle || !newLinkUrl) return\r\n        try {\r\n            const res = await fetch(\"/api/bio/links\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    title: newLinkTitle,\r\n                    url: newLinkUrl,\r\n                    icon: \"link\"\r\n                })\r\n            })\r\n            if (res.ok) {\r\n                const newLink = await res.json()\r\n                setBioPage(prev => prev ? { ...prev, links: [...prev.links, newLink] } : null)\r\n                setNewLinkTitle(\"\")\r\n                setNewLinkUrl(\"\")\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao adicionar link\")\r\n        }\r\n    }\r\n\r\n    const handleDeleteLink = async (id: string) => {\r\n        try {\r\n            const res = await fetch(`/api/bio/links?id=${id}`, { method: \"DELETE\" })\r\n            if (res.ok) {\r\n                setBioPage(prev => prev ? { ...prev, links: prev.links.filter(l => l.id !== id) } : null)\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao deletar link\")\r\n        }\r\n    }\r\n\r\n    const handleReorderLinks = async (newLinks: BioLink[]) => {\r\n        // Optimistic update\r\n        setBioPage(prev => prev ? { ...prev, links: newLinks } : null)\r\n\r\n        try {\r\n            await fetch(\"/api/bio/links\", {\r\n                method: \"PATCH\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    links: newLinks.map((l, index) => ({ id: l.id, order: index }))\r\n                })\r\n            })\r\n        } catch (error) {\r\n            console.error(\"Error reordering links:\", error)\r\n            // Revert on error (optional, but good practice)\r\n            fetchBioPage()\r\n        }\r\n    }\r\n\r\n    if (isLoading) return <DashboardLayout><div className=\"p-8 text-white\">Carregando...</div></DashboardLayout>\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"max-w-6xl mx-auto space-y-8\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-bold text-white\">Link na Bio</h2>\r\n                        <p className=\"text-gray-400\">Personalize sua p├ígina p├║blica de links.</p>\r\n                    </div>\r\n                    {bioPage && (\r\n                        <Button variant=\"outline\" className=\"gap-2\" asChild>\r\n                            <a href={`/u/${bioPage.username}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <ExternalLink className=\"w-4 h-4\" />\r\n                                Ver P├ígina\r\n                            </a>\r\n                        </Button>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                    {/* Editor Column */}\r\n                    <div className=\"lg:col-span-2 space-y-6\">\r\n                        <Tabs defaultValue=\"links\" className=\"w-full\">\r\n                            <TabsList className=\"grid w-full grid-cols-2 bg-white/5\">\r\n                                <TabsTrigger value=\"links\">Links</TabsTrigger>\r\n                                <TabsTrigger value=\"appearance\">Apar├¬ncia</TabsTrigger>\r\n                                <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\r\n                            </TabsList>\r\n\r\n                            <TabsContent value=\"links\" className=\"space-y-6 mt-6\">\r\n                                <Card className=\"glass border-white/10\">\r\n                                    <CardHeader>\r\n                                        <CardTitle className=\"text-white\">Adicionar Novo Link</CardTitle>\r\n                                    </CardHeader>\r\n                                    <CardContent className=\"space-y-4\">\r\n                                        <div className=\"grid gap-2\">\r\n                                            <Label className=\"text-gray-300\">T├¡tulo</Label>\r\n                                            <Input\r\n                                                value={newLinkTitle}\r\n                                                onChange={e => setNewLinkTitle(e.target.value)}\r\n                                                placeholder=\"Ex: Meu Curso de Marketing\"\r\n                                                className=\"bg-white/5 border-white/10 text-white\"\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"grid gap-2\">\r\n                                            <Label className=\"text-gray-300\">URL</Label>\r\n                                            <Input\r\n                                                value={newLinkUrl}\r\n                                                onChange={e => setNewLinkUrl(e.target.value)}\r\n                                                placeholder=\"https://...\"\r\n                                                className=\"bg-white/5 border-white/10 text-white\"\r\n                                            />\r\n                                        </div>\r\n                                        <Button onClick={handleAddLink} className=\"w-full bg-indigo-600 hover:bg-indigo-700\">\r\n                                            <Plus className=\"w-4 h-4 mr-2\" /> Adicionar Link\r\n                                        </Button>\r\n                                    </CardContent>\r\n                                </Card>\r\n\r\n                                <div className=\"space-y-4\">\r\n                                    {bioPage?.links && (\r\n                                        <LinkEditor\r\n                                            links={bioPage.links}\r\n                                            onReorder={handleReorderLinks}\r\n                                            onDelete={handleDeleteLink}\r\n                                        />\r\n                                    )}\r\n                                </div>\r\n                            </TabsContent>\r\n\r\n                            <TabsContent value=\"appearance\" className=\"space-y-6 mt-6\">\r\n                                <Card className=\"glass border-white/10\">\r\n                                    <CardHeader>\r\n                                        <CardTitle className=\"text-white\">Perfil</CardTitle>\r\n                                    </CardHeader>\r\n                                    <CardContent className=\"space-y-4\">\r\n                                        <div className=\"grid gap-2\">\r\n                                            <Label className=\"text-gray-300\">Nome de Exibi├º├úo</Label>\r\n                                            <Input\r\n                                                value={bioPage?.displayName || \"\"}\r\n                                                onChange={e => setBioPage(prev => prev ? { ...prev, displayName: e.target.value } : null)}\r\n                                                className=\"bg-white/5 border-white/10 text-white\"\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"grid gap-2\">\r\n                                            <Label className=\"text-gray-300\">Bio</Label>\r\n                                            <Textarea\r\n                                                value={bioPage?.bio || \"\"}\r\n                                                onChange={e => setBioPage(prev => prev ? { ...prev, bio: e.target.value } : null)}\r\n                                                className=\"bg-white/5 border-white/10 text-white\"\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"grid gap-2\">\r\n                                            <Label className=\"text-gray-300\">Username (URL)</Label>\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <span className=\"text-gray-500\">app.com/u/</span>\r\n                                                <Input\r\n                                                    value={bioPage?.username || \"\"}\r\n                                                    onChange={e => setBioPage(prev => prev ? { ...prev, username: e.target.value } : null)}\r\n                                                    className=\"bg-white/5 border-white/10 text-white\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <Button\r\n                                            onClick={handleUpdateProfile}\r\n                                            disabled={isSaving}\r\n                                            className=\"w-full bg-indigo-600 hover:bg-indigo-700\"\r\n                                        >\r\n                                            {isSaving ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <Save className=\"w-4 h-4 mr-2\" />}\r\n                                            Salvar Altera├º├Áes\r\n                                        </Button>\r\n                                    </CardContent>\r\n                                </Card>\r\n\r\n                                <Card className=\"glass border-white/10\">\r\n                                    <CardHeader>\r\n                                        <CardTitle className=\"text-white\">Tema</CardTitle>\r\n                                    </CardHeader>\r\n                                    <CardContent>\r\n                                        <div className=\"grid grid-cols-2 gap-4\">\r\n                                            {Object.entries(THEMES).map(([key, theme]) => (\r\n                                                <button\r\n                                                    key={key}\r\n                                                    onClick={() => setBioPage(prev => prev ? { ...prev, theme: key } : null)}\r\n                                                    className={`\r\n                                                        relative h-24 rounded-lg border-2 transition-all overflow-hidden text-left p-3 flex flex-col justify-end\r\n                                                        ${bioPage?.theme === key ? 'border-indigo-500 ring-2 ring-indigo-500/20' : 'border-white/10 hover:border-white/30'}\r\n                                                    `}\r\n                                                >\r\n                                                    <div className={`absolute inset-0 ${theme.bg}`} />\r\n                                                    <span className={`relative z-10 text-sm font-medium ${key === 'light' ? 'text-black' : 'text-white'}`}>\r\n                                                        {theme.name}\r\n                                                    </span>\r\n                                                </button>\r\n                                            ))}\r\n                                        </div>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </TabsContent>\r\n\r\n                            <TabsContent value=\"analytics\" className=\"space-y-6 mt-6\">\r\n                                {bioPage && <BioAnalytics bioPage={bioPage} />}\r\n                            </TabsContent>\r\n                        </Tabs>\r\n                    </div>\r\n\r\n                    {/* Preview Column */}\r\n                    <div className=\"hidden lg:block\">\r\n                        <div className=\"sticky top-8\">\r\n                            <h3 className=\"text-lg font-medium text-white mb-4\">Preview</h3>\r\n                            <div className=\"border-[8px] border-gray-800 rounded-[3rem] overflow-hidden h-[600px] bg-black relative shadow-2xl\">\r\n                                <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-gray-800 rounded-b-xl z-10\" />\r\n                                <div className={`h-full overflow-y-auto p-6 text-center transition-colors duration-300 ${THEMES[bioPage?.theme as keyof typeof THEMES]?.bg || THEMES.default.bg}`}>\r\n                                    <div className=\"w-24 h-24 bg-gray-700 rounded-full mx-auto mb-4 border-4 border-white/10 shadow-xl overflow-hidden\">\r\n                                        {bioPage?.avatarUrl ? (\r\n                                            <img src={bioPage.avatarUrl} alt=\"Avatar\" className=\"w-full h-full object-cover\" />\r\n                                        ) : (\r\n                                            <div className=\"w-full h-full flex items-center justify-center text-2xl font-bold text-white/50\">\r\n                                                {bioPage?.displayName?.charAt(0) || \"?\"}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <h2 className={`font-bold text-xl mb-2 ${THEMES[bioPage?.theme as keyof typeof THEMES]?.text || THEMES.default.text}`}>\r\n                                        {bioPage?.displayName || \"Seu Nome\"}\r\n                                    </h2>\r\n                                    <p className={`text-sm mb-8 opacity-80 ${THEMES[bioPage?.theme as keyof typeof THEMES]?.text || THEMES.default.text}`}>\r\n                                        {bioPage?.bio || \"Sua bio aparecer├í aqui...\"}\r\n                                    </p>\r\n\r\n                                    <div className=\"space-y-3\">\r\n                                        {bioPage?.links.map(link => (\r\n                                            <a\r\n                                                key={link.id}\r\n                                                href=\"#\" // Preview only\r\n                                                className={`block w-full p-4 rounded-xl font-medium transition-all transform hover:scale-[1.02] ${THEMES[bioPage?.theme as keyof typeof THEMES]?.card || THEMES.default.card}`}\r\n                                            >\r\n                                                {link.title}\r\n                                            </a>\r\n                                        ))}\r\n                                        {(!bioPage?.links || bioPage.links.length === 0) && (\r\n                                            <div className=\"text-gray-500 text-sm italic py-4\">Adicione links para ver aqui</div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </DashboardLayout>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\campaigns\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":81,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":81,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":101,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":101,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":114,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":114,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport DashboardLayout from \"@/components/layout/dashboard-layout\"\r\nimport { CampaignCard } from \"@/components/campaigns/campaign-card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Plus, Loader2 } from \"lucide-react\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogTrigger,\r\n} from \"@/components/ui/dialog\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\"\r\n\r\ntype Campaign = {\r\n    id: string\r\n    name: string\r\n    platform: string\r\n    status: \"active\" | \"paused\"\r\n    clicks: number\r\n    conversions: number\r\n    spent: number\r\n    revenue: number\r\n}\r\n\r\nexport default function CampaignsPage() {\r\n    const [campaigns, setCampaigns] = useState<Campaign[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [newCampaign, setNewCampaign] = useState({\r\n        name: \"\",\r\n        platform: \"Google Ads\",\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchCampaigns()\r\n    }, [])\r\n\r\n    const fetchCampaigns = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/campaigns\")\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                setCampaigns(data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching campaigns:\", error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleCreateCampaign = async () => {\r\n        if (!newCampaign.name) return\r\n\r\n        try {\r\n            const res = await fetch(\"/api/campaigns\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(newCampaign),\r\n            })\r\n\r\n            if (res.ok) {\r\n                const campaign = await res.json()\r\n                setCampaigns([campaign, ...campaigns])\r\n                setNewCampaign({ name: \"\", platform: \"Google Ads\" })\r\n                setIsDialogOpen(false)\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao criar campanha.\")\r\n        }\r\n    }\r\n\r\n    const toggleStatus = async (id: string, currentStatus: string) => {\r\n        const newStatus = currentStatus === \"active\" ? \"paused\" : \"active\"\r\n\r\n        try {\r\n            const res = await fetch(\"/api/campaigns\", {\r\n                method: \"PATCH\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ id, status: newStatus }),\r\n            })\r\n\r\n            if (res.ok) {\r\n                setCampaigns(campaigns.map(c =>\r\n                    c.id === id ? { ...c, status: newStatus as \"active\" | \"paused\" } : c\r\n                ))\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao atualizar status.\")\r\n        }\r\n    }\r\n\r\n    const handleDeleteCampaign = async (id: string) => {\r\n        if (!confirm(\"Tem certeza que deseja excluir esta campanha?\")) return\r\n\r\n        try {\r\n            const res = await fetch(`/api/campaigns?id=${id}`, { method: \"DELETE\" })\r\n            if (res.ok) {\r\n                setCampaigns(campaigns.filter(c => c.id !== id))\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao excluir campanha.\")\r\n        }\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <DashboardLayout>\r\n                <div className=\"flex items-center justify-center h-96\">\r\n                    <Loader2 className=\"w-8 h-8 animate-spin text-indigo-600\" />\r\n                </div>\r\n            </DashboardLayout>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"flex flex-col gap-8\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-bold tracking-tight\">Campanhas</h2>\r\n                        <p className=\"text-muted-foreground mt-2\">\r\n                            Acompanhe o desempenho dos seus an├║ncios em tempo real.\r\n                        </p>\r\n                    </div>\r\n                    <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n                        <DialogTrigger asChild>\r\n                            <Button>\r\n                                <Plus className=\"w-4 h-4 mr-2\" />\r\n                                Nova Campanha\r\n                            </Button>\r\n                        </DialogTrigger>\r\n                        <DialogContent>\r\n                            <DialogHeader>\r\n                                <DialogTitle>Criar Nova Campanha</DialogTitle>\r\n                                <DialogDescription>\r\n                                    Crie uma nova campanha para promover seus produtos.\r\n                                </DialogDescription>\r\n                            </DialogHeader>\r\n                            <div className=\"grid gap-4 py-4\">\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label htmlFor=\"name\">Nome da Campanha</Label>\r\n                                    <Input\r\n                                        id=\"name\"\r\n                                        placeholder=\"Ex: Fone Bluetooth - Google Ads\"\r\n                                        value={newCampaign.name}\r\n                                        onChange={(e) => setNewCampaign({ ...newCampaign, name: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label htmlFor=\"platform\">Plataforma</Label>\r\n                                    <Select\r\n                                        value={newCampaign.platform}\r\n                                        onValueChange={(value) => setNewCampaign({ ...newCampaign, platform: value })}\r\n                                    >\r\n                                        <SelectTrigger>\r\n                                            <SelectValue />\r\n                                        </SelectTrigger>\r\n                                        <SelectContent>\r\n                                            <SelectItem value=\"Google Ads\">Google Ads</SelectItem>\r\n                                            <SelectItem value=\"Meta Ads\">Meta Ads</SelectItem>\r\n                                            <SelectItem value=\"Pinterest Ads\">Pinterest Ads</SelectItem>\r\n                                            <SelectItem value=\"TikTok Ads\">TikTok Ads</SelectItem>\r\n                                        </SelectContent>\r\n                                    </Select>\r\n                                </div>\r\n                            </div>\r\n                            <DialogFooter>\r\n                                <Button onClick={handleCreateCampaign} disabled={!newCampaign.name}>\r\n                                    Criar Campanha\r\n                                </Button>\r\n                            </DialogFooter>\r\n                        </DialogContent>\r\n                    </Dialog>\r\n                </div>\r\n\r\n                {campaigns.length === 0 ? (\r\n                    <div className=\"text-center py-12\">\r\n                        <p className=\"text-muted-foreground mb-4\">Nenhuma campanha criada ainda.</p>\r\n                        <Button onClick={() => setIsDialogOpen(true)}>\r\n                            <Plus className=\"w-4 h-4 mr-2\" />\r\n                            Criar Primeira Campanha\r\n                        </Button>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                        {campaigns.map((campaign) => (\r\n                            <CampaignCard\r\n                                key={campaign.id}\r\n                                id={campaign.id}\r\n                                name={campaign.name}\r\n                                platform={campaign.platform}\r\n                                status={campaign.status}\r\n                                clicks={campaign.clicks}\r\n                                conversions={campaign.conversions}\r\n                                spent={`R$ ${campaign.spent.toFixed(2)}`}\r\n                                revenue={`R$ ${campaign.revenue.toFixed(2)}`}\r\n                                onToggleStatus={() => toggleStatus(campaign.id, campaign.status)}\r\n                                onDelete={() => handleDeleteCampaign(campaign.id)}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </DashboardLayout>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\creatives\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\integrations\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CreditCard' is defined but never used.","line":13,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plus' is defined but never used.","line":14,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Loader2' is defined but never used.","line":15,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":12},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":142,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":142,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4436,4439],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4436,4439],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used.","line":143,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":143,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":145,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":145,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4620,4623],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4620,4623],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":165,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":165,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5155,5158],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5155,5158],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":170,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":170,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5288,5291],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5288,5291],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":203,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":203,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6389,6392],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6389,6392],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport DashboardLayout from \"@/components/layout/dashboard-layout\"\r\nimport { IntegrationCard } from \"@/components/integrations/integration-card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport {\r\n    ShoppingCart,\r\n    Megaphone,\r\n    Share2,\r\n    Globe,\r\n    Search,\r\n    CreditCard,\r\n    Plus,\r\n    Loader2,\r\n    Trash2,\r\n    ShoppingBag,\r\n    Instagram,\r\n    Youtube,\r\n    Video\r\n} from \"lucide-react\"\r\nimport { ConnectionDialog } from \"@/components/integrations/connection-dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\n\r\n// Mock data for platforms\r\nconst affiliatePlatforms = [\r\n    {\r\n        id: \"amazon\",\r\n        name: \"Amazon Associates\",\r\n        description: \"Maior programa de afiliados do mundo. Venda livros, eletr├┤nicos e mais.\",\r\n        icon: ShoppingCart,\r\n        color: \"text-orange-500\",\r\n        signupUrl: \"https://affiliate-program.amazon.com/\",\r\n    },\r\n    {\r\n        id: \"hotmart\",\r\n        name: \"Hotmart\",\r\n        description: \"L├¡der em produtos digitais na Am├®rica Latina. Cursos, ebooks e mais.\",\r\n        icon: Globe,\r\n        color: \"text-red-500\",\r\n        signupUrl: \"https://www.hotmart.com/pt-br/affiliates\",\r\n    },\r\n    {\r\n        id: \"magalu\",\r\n        name: \"Parceiro Magalu\",\r\n        description: \"Divulgue produtos do Magazine Luiza e ganhe comiss├Áes.\",\r\n        icon: ShoppingCart,\r\n        color: \"text-blue-600\",\r\n        signupUrl: \"https://especiais.magazineluiza.com.br/parceiromagalu/\",\r\n    },\r\n    {\r\n        id: \"shopee\",\r\n        name: \"Shopee Afiliados\",\r\n        description: \"Programa de afiliados da Shopee com altas taxas de convers├úo.\",\r\n        icon: ShoppingCart,\r\n        color: \"text-orange-600\",\r\n        signupUrl: \"https://shopee.com.br/m/afiliados\",\r\n    },\r\n    {\r\n        id: \"shein\",\r\n        name: \"Shein Afiliados\",\r\n        description: \"Moda e acess├│rios com altas comiss├Áes e popularidade global.\",\r\n        icon: ShoppingBag,\r\n        color: \"text-black\",\r\n        signupUrl: \"https://br.shein.com/campaign/affiliate-program\",\r\n    },\r\n    {\r\n        id: \"eduzz\",\r\n        name: \"Eduzz\",\r\n        description: \"Plataforma focada em infoprodutos e servi├ºos digitais.\",\r\n        icon: Globe,\r\n        color: \"text-yellow-500\",\r\n        signupUrl: \"https://www.eduzz.com/\",\r\n    },\r\n]\r\n\r\nconst adPlatforms = [\r\n    {\r\n        id: \"google_ads\",\r\n        name: \"Google Ads\",\r\n        description: \"Anuncie na pesquisa do Google, YouTube e sites parceiros.\",\r\n        icon: Search,\r\n        color: \"text-blue-500\",\r\n        signupUrl: \"https://ads.google.com/\",\r\n    },\r\n    {\r\n        id: \"meta_ads\",\r\n        name: \"Meta Ads\",\r\n        description: \"Alcance bilh├Áes de pessoas no Facebook e Instagram.\",\r\n        icon: Share2,\r\n        color: \"text-blue-700\",\r\n        signupUrl: \"https://www.facebook.com/business/ads\",\r\n    },\r\n    {\r\n        id: \"tiktok_ads\",\r\n        name: \"TikTok Ads\",\r\n        description: \"Crie an├║ncios virais na plataforma de v├¡deos curtos.\",\r\n        icon: Megaphone,\r\n        color: \"text-black\",\r\n        signupUrl: \"https://ads.tiktok.com/\",\r\n    },\r\n]\r\n\r\nconst socialPlatforms = [\r\n    {\r\n        id: \"instagram\",\r\n        name: \"Instagram\",\r\n        description: \"Conecte sua conta para publicar stories e reels automaticamente.\",\r\n        icon: Instagram,\r\n        color: \"text-pink-600\",\r\n        signupUrl: \"https://instagram.com\",\r\n    },\r\n    {\r\n        id: \"tiktok\",\r\n        name: \"TikTok\",\r\n        description: \"Publique v├¡deos curtos e virais diretamente da plataforma.\",\r\n        icon: Video,\r\n        color: \"text-black\",\r\n        signupUrl: \"https://tiktok.com\",\r\n    },\r\n    {\r\n        id: \"youtube\",\r\n        name: \"YouTube\",\r\n        description: \"Gerencie seu canal e publique v├¡deos longos ou Shorts.\",\r\n        icon: Youtube,\r\n        color: \"text-red-600\",\r\n        signupUrl: \"https://youtube.com\",\r\n    },\r\n    {\r\n        id: \"pinterest\",\r\n        name: \"Pinterest\",\r\n        description: \"Crie pins para seus produtos e aumente o tr├ífego org├ónico.\",\r\n        icon: Share2,\r\n        color: \"text-red-500\",\r\n        signupUrl: \"https://pinterest.com\",\r\n    },\r\n]\r\n\r\nexport default function IntegrationsPage() {\r\n    const [integrations, setIntegrations] = useState<any[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [dialogOpen, setDialogOpen] = useState(false)\r\n    const [selectedPlatform, setSelectedPlatform] = useState<any>(null)\r\n\r\n    useEffect(() => {\r\n        fetchIntegrations()\r\n    }, [])\r\n\r\n    const fetchIntegrations = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/integrations\")\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                setIntegrations(data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching integrations:\", error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleConnectClick = (platform: any) => {\r\n        setSelectedPlatform(platform)\r\n        setDialogOpen(true)\r\n    }\r\n\r\n    const handleConnectSubmit = async (data: any) => {\r\n        try {\r\n            const res = await fetch(\"/api/integrations\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    platform: selectedPlatform.id,\r\n                    ...data\r\n                }),\r\n            })\r\n\r\n            if (res.ok) {\r\n                fetchIntegrations()\r\n                setDialogOpen(false)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error connecting:\", error)\r\n        }\r\n    }\r\n\r\n    const handleDeleteIntegration = async (id: string) => {\r\n        if (!confirm(\"Tem certeza que deseja remover esta conex├úo?\")) return\r\n\r\n        try {\r\n            await fetch(`/api/integrations?id=${id}`, { method: \"DELETE\" })\r\n            setIntegrations(integrations.filter(i => i.id !== id))\r\n        } catch (error) {\r\n            console.error(\"Error deleting integration:\", error)\r\n        }\r\n    }\r\n\r\n    const [testingId, setTestingId] = useState<string | null>(null)\r\n\r\n    const handleTestConnection = async (integration: any) => {\r\n        setTestingId(integration.id)\r\n\r\n        try {\r\n            let url = \"\"\r\n            if (integration.platform === \"google_ads\") {\r\n                url = \"/api/integrations/google-ads/test\"\r\n            } else if (integration.platform === \"tiktok_ads\") {\r\n                url = \"/api/integrations/tiktok-ads/test\"\r\n            } else {\r\n                return\r\n            }\r\n\r\n            const res = await fetch(url, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ integrationId: integration.id }),\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (res.ok && data.success) {\r\n                const count = data.customersCount !== undefined ? data.customersCount : data.advertisersCount\r\n                alert(`Sucesso! ${count} contas encontradas.`)\r\n            } else {\r\n                alert(`Erro: ${data.message}`)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Test failed\", error)\r\n            alert(\"Falha ao testar conex├úo.\")\r\n        } finally {\r\n            setTestingId(null)\r\n        }\r\n    }\r\n\r\n    const connectedPlatformIds = integrations.map(i => i.platform)\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"flex flex-col gap-8\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-bold tracking-tight text-white\">Conex├Áes</h2>\r\n                        <p className=\"text-gray-400 mt-2\">\r\n                            Gerencie suas integra├º├Áes com redes de afiliados e plataformas de an├║ncios.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Active Connections */}\r\n                {integrations.length > 0 && (\r\n                    <div className=\"space-y-4\">\r\n                        <h3 className=\"text-xl font-semibold text-white\">Minhas Conex├Áes Ativas</h3>\r\n                        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n                            {integrations.map((integration) => {\r\n                                const platformInfo = [...affiliatePlatforms, ...adPlatforms, ...socialPlatforms].find(p => p.id === integration.platform)\r\n                                const Icon = platformInfo?.icon || Globe\r\n\r\n                                return (\r\n                                    <Card key={integration.id} className=\"glass border-white/10 hover:border-indigo-500/50 transition-all\">\r\n                                        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <div className={`p-1.5 rounded-md bg-white/5 ${platformInfo?.color || \"text-gray-400\"}`}>\r\n                                                    <Icon className=\"w-4 h-4\" />\r\n                                                </div>\r\n                                                <CardTitle className=\"text-sm font-medium text-white\">\r\n                                                    {integration.name}\r\n                                                </CardTitle>\r\n                                            </div>\r\n                                            <Badge variant=\"outline\" className=\"border-emerald-500/30 text-emerald-400 bg-emerald-500/10\">\r\n                                                Ativo\r\n                                            </Badge>\r\n                                        </CardHeader>\r\n                                        <CardContent>\r\n                                            <div className=\"text-xl font-bold text-white capitalize mb-2\">\r\n                                                {platformInfo?.name || integration.platform}\r\n                                            </div>\r\n                                            <div className=\"text-xs text-gray-400 space-y-1\">\r\n                                                <p className=\"flex items-center gap-1\">\r\n                                                    <Globe className=\"w-3 h-3\" />\r\n                                                    Regi├úo: {integration.targetCountry === \"BR\" ? \"Brasil ­ƒçº­ƒçÀ\" : integration.targetCountry === \"US\" ? \"EUA ­ƒç║­ƒç©\" : integration.targetCountry || \"Global\"}\r\n                                                </p>\r\n                                                {integration.targetState && <p>Estado: {integration.targetState}</p>}\r\n                                                {integration.accountId && (\r\n                                                    <p className=\"font-mono bg-white/5 px-1.5 py-0.5 rounded inline-block\">\r\n                                                        ID: {integration.accountId}\r\n                                                    </p>\r\n                                                )}\r\n                                                {integration.expiresAt && (\r\n                                                    <p className=\"text-amber-400/80\">\r\n                                                        Expira em: {new Date(integration.expiresAt).toLocaleDateString()}\r\n                                                    </p>\r\n                                                )}\r\n                                            </div>\r\n                                            <Button\r\n                                                variant=\"ghost\"\r\n                                                size=\"sm\"\r\n                                                className=\"mt-4 w-full text-red-400 hover:text-red-300 hover:bg-red-500/10\"\r\n                                                onClick={() => handleDeleteIntegration(integration.id)}\r\n                                            >\r\n                                                <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                                                Desconectar\r\n                                            </Button>\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <Tabs defaultValue=\"affiliates\" className=\"space-y-6\">\r\n                    <TabsList className=\"bg-white/5 border border-white/10\">\r\n                        <TabsTrigger value=\"affiliates\" className=\"data-[state=active]:bg-indigo-600 data-[state=active]:text-white text-gray-400\">Redes de Afiliados</TabsTrigger>\r\n                        <TabsTrigger value=\"ads\" className=\"data-[state=active]:bg-indigo-600 data-[state=active]:text-white text-gray-400\">Plataformas de An├║ncios</TabsTrigger>\r\n                        <TabsTrigger value=\"social\" className=\"data-[state=active]:bg-indigo-600 data-[state=active]:text-white text-gray-400\">Redes Sociais</TabsTrigger>\r\n                    </TabsList>\r\n\r\n                    <TabsContent value=\"affiliates\" className=\"space-y-4\">\r\n                        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                            {affiliatePlatforms.map((platform) => (\r\n                                <IntegrationCard\r\n                                    key={platform.id}\r\n                                    {...platform}\r\n                                    isConnected={connectedPlatformIds.includes(platform.id)}\r\n                                    onConnect={() => handleConnectClick(platform)}\r\n                                    onConfigure={() => handleConnectClick(platform)}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </TabsContent>\r\n\r\n                    <TabsContent value=\"ads\" className=\"space-y-4\">\r\n                        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                            {adPlatforms.map((platform) => {\r\n                                const integration = integrations.find(i => i.platform === platform.id)\r\n                                return (\r\n                                    <IntegrationCard\r\n                                        key={platform.id}\r\n                                        {...platform}\r\n                                        isConnected={!!integration}\r\n                                        onConnect={() => handleConnectClick(platform)}\r\n                                        onConfigure={() => handleConnectClick(platform)}\r\n                                        onTest={(platform.id === \"google_ads\" || platform.id === \"tiktok_ads\") && integration ? () => handleTestConnection(integration) : undefined}\r\n                                        isTesting={integration && testingId === integration.id}\r\n                                    />\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </TabsContent>\r\n\r\n                    <TabsContent value=\"social\" className=\"space-y-4\">\r\n                        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                            {socialPlatforms.map((platform) => (\r\n                                <IntegrationCard\r\n                                    key={platform.id}\r\n                                    {...platform}\r\n                                    isConnected={connectedPlatformIds.includes(platform.id)}\r\n                                    onConnect={() => handleConnectClick(platform)}\r\n                                    onConfigure={() => handleConnectClick(platform)}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </TabsContent>\r\n                </Tabs>\r\n\r\n                <ConnectionDialog\r\n                    isOpen={dialogOpen}\r\n                    onClose={() => setDialogOpen(false)}\r\n                    onConnect={handleConnectSubmit}\r\n                    platformName={selectedPlatform?.name || \"\"}\r\n                />\r\n            </div>\r\n        </DashboardLayout>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3368,3371],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3368,3371],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3448,3451],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3448,3451],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Globe, Mail } from \"lucide-react\"\r\nimport { signIn } from \"next-auth/react\"\r\nimport Link from \"next/link\"\r\n\r\nexport default function LoginPage() {\r\n    return (\r\n        <div className=\"min-h-screen flex flex-col items-center justify-center\">\r\n            <div className=\"mb-8 text-center animate-fade-in\">\r\n                <div className=\"flex items-center justify-center mb-4\">\r\n                    <div className=\"relative w-12 h-12 mr-4\">\r\n                        <Globe className=\"w-12 h-12 text-indigo-500\" />\r\n                    </div>\r\n                    <h1 className=\"text-4xl font-bold text-white\">\r\n                        Affiliate<span className=\"text-indigo-500\">AI</span>\r\n                    </h1>\r\n                </div>\r\n                <p className=\"text-gray-300 text-lg\">\r\n                    Sua plataforma de automa├º├úo de vendas.\r\n                </p>\r\n            </div>\r\n\r\n            <Card className=\"w-full max-w-md glass border-white/10 animate-scale-in\">\r\n                <CardHeader className=\"space-y-1\">\r\n                    <CardTitle className=\"text-2xl font-bold text-center text-white\">Entrar na conta</CardTitle>\r\n                    <CardDescription className=\"text-center text-gray-400\">\r\n                        Escolha uma op├º├úo para continuar\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent className=\"grid gap-4\">\r\n                    <Button variant=\"outline\" onClick={() => signIn(\"google\", { callbackUrl: \"/\" })} className=\"bg-white/5 border-white/10 hover:bg-white/10 hover:text-white text-gray-200\">\r\n                        <svg className=\"mr-2 h-4 w-4\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fab\" data-icon=\"google\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 488 512\">\r\n                            <path fill=\"currentColor\" d=\"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z\"></path>\r\n                        </svg>\r\n                        Continuar com Google\r\n                    </Button>\r\n                    <p className=\"text-xs text-gray-500 text-center\">\r\n                        ÔÜá´©Å No mobile, use o login com email abaixo\r\n                    </p>\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute inset-0 flex items-center\">\r\n                            <span className=\"w-full border-t border-white/10\" />\r\n                        </div>\r\n                        <div className=\"relative flex justify-center text-xs uppercase\">\r\n                            <span className=\"bg-transparent px-2 text-gray-400\">\r\n                                Ou continue com email\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"grid gap-2\">\r\n                        <form\r\n                            onSubmit={(e) => {\r\n                                e.preventDefault()\r\n                                const email = (e.target as any).email.value\r\n                                const password = (e.target as any).password.value\r\n                                signIn(\"credentials\", { email, password, callbackUrl: \"/\" })\r\n                            }}\r\n                            className=\"grid gap-2\"\r\n                        >\r\n                            <div className=\"grid gap-1\">\r\n                                <input\r\n                                    name=\"email\"\r\n                                    placeholder=\"Email (admin@admin.com)\"\r\n                                    className=\"flex h-9 w-full rounded-md border border-white/10 bg-white/5 px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 text-white focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                                    defaultValue=\"admin@admin.com\"\r\n                                />\r\n                                <input\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Senha (admin)\"\r\n                                    className=\"flex h-9 w-full rounded-md border border-white/10 bg-white/5 px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 text-white focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                                    defaultValue=\"admin\"\r\n                                />\r\n                            </div>\r\n                            <Button className=\"bg-indigo-600 hover:bg-indigo-700 text-white\">\r\n                                <Mail className=\"mr-2 h-4 w-4\" />\r\n                                Entrar com Email\r\n                            </Button>\r\n                        </form>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <p className=\"mt-4 text-center text-sm text-gray-400\">\r\n                Ao clicar em continuar, voc├¬ concorda com nossos{\" \"}\r\n                <Link href=\"/terms\" className=\"underline hover:text-indigo-400\">\r\n                    Termos de Servi├ºo\r\n                </Link>{\" \"}\r\n                e{\" \"}\r\n                <Link href=\"/privacy\" className=\"underline hover:text-indigo-400\">\r\n                    Pol├¡tica de Privacidade\r\n                </Link>\r\n                .\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\nitroflare-gallery\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":4,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":44},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":164,"column":41,"nodeType":"JSXOpeningElement","endLine":168,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { ExternalLink, Download, Calendar, Image as ImageIcon, Upload, Trash2, Edit2, MoreVertical } from \"lucide-react\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { UploadDialog } from \"@/components/nitroflare/upload-dialog\"\r\nimport { Lightbox } from \"@/components/nitroflare/lightbox\"\r\nimport DashboardLayout from \"@/components/layout/dashboard-layout\"\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\n\r\ntype GalleryImage = {\r\n    id: string\r\n    imageUrl: string | null\r\n    nitroflareUrl: string | null\r\n    prompt: string | null\r\n    headline: string\r\n    createdAt: string\r\n}\r\n\r\nexport default function NitroflareGalleryPage() {\r\n    const [images, setImages] = useState<GalleryImage[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [uploadDialogOpen, setUploadDialogOpen] = useState(false)\r\n    const [lightboxOpen, setLightboxOpen] = useState(false)\r\n    const [currentImageIndex, setCurrentImageIndex] = useState(0)\r\n    const [renameDialogOpen, setRenameDialogOpen] = useState(false)\r\n    const [deleteDialogOpen, setDeleteDialogOpen] = useState(false)\r\n    const [selectedImage, setSelectedImage] = useState<GalleryImage | null>(null)\r\n    const [newName, setNewName] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        fetchGallery()\r\n    }, [])\r\n\r\n    const fetchGallery = async () => {\r\n        try {\r\n            const response = await fetch(\"/api/nitroflare/gallery\")\r\n            if (response.ok) {\r\n                const data = await response.json()\r\n                setImages(data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching gallery:\", error)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const openLightbox = (index: number) => {\r\n        setCurrentImageIndex(index)\r\n        setLightboxOpen(true)\r\n    }\r\n\r\n    const handleRename = async () => {\r\n        if (!selectedImage || !newName) return\r\n\r\n        try {\r\n            const response = await fetch(\"/api/nitroflare/files\", {\r\n                method: \"PATCH\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    id: selectedImage.id,\r\n                    headline: newName\r\n                })\r\n            })\r\n\r\n            if (response.ok) {\r\n                fetchGallery()\r\n                setRenameDialogOpen(false)\r\n                setNewName(\"\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error renaming file:\", error)\r\n        }\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        if (!selectedImage) return\r\n\r\n        try {\r\n            const response = await fetch(`/api/nitroflare/files?id=${selectedImage.id}`, {\r\n                method: \"DELETE\"\r\n            })\r\n\r\n            if (response.ok) {\r\n                fetchGallery()\r\n                setDeleteDialogOpen(false)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error deleting file:\", error)\r\n        }\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <DashboardLayout>\r\n                <div className=\"flex items-center justify-center min-h-screen\">\r\n                    <div className=\"text-white\">Carregando galeria...</div>\r\n                </div>\r\n            </DashboardLayout>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"container mx-auto p-8\">\r\n                <div className=\"mb-8 flex items-start justify-between\">\r\n                    <div>\r\n                        <h1 className=\"text-4xl font-bold text-white mb-2\">\r\n                            Galeria Ôÿü´©Å\r\n                        </h1>\r\n                        <p className=\"text-gray-400\">\r\n                            Todas as suas imagens geradas por IA, armazenadas em nuvem\r\n                        </p>\r\n                        <Badge variant=\"outline\" className=\"mt-2\">\r\n                            {images.length} {images.length === 1 ? 'imagem' : 'imagens'} armazenadas\r\n                        </Badge>\r\n                    </div>\r\n                    <Button\r\n                        onClick={() => setUploadDialogOpen(true)}\r\n                        className=\"bg-indigo-500 hover:bg-indigo-600\"\r\n                    >\r\n                        <Upload className=\"w-4 h-4 mr-2\" />\r\n                        Upload\r\n                    </Button>\r\n                </div>\r\n\r\n                {images.length === 0 ? (\r\n                    <Card className=\"glass border-white/10\">\r\n                        <CardContent className=\"flex flex-col items-center justify-center py-12\">\r\n                            <ImageIcon className=\"w-16 h-16 text-gray-500 mb-4\" />\r\n                            <p className=\"text-gray-400 text-center\">\r\n                                Nenhuma imagem encontrada.<br />\r\n                                Gere imagens no Creative Studio ou fa├ºa upload!\r\n                            </p>\r\n                        </CardContent>\r\n                    </Card>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3\">\r\n                        {images.map((image, index) => (\r\n                            <Card key={image.id} className=\"glass border-white/10 overflow-hidden hover:border-indigo-500/50 transition-all group\">\r\n                                <div\r\n                                    className=\"relative aspect-square bg-gray-900 cursor-pointer\"\r\n                                    onClick={() => openLightbox(index)}\r\n                                >\r\n                                    {image.imageUrl && (\r\n                                        <img\r\n                                            src={image.imageUrl}\r\n                                            alt={image.headline}\r\n                                            className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\r\n                                        />\r\n                                    )}\r\n                                    <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                        <DropdownMenu>\r\n                                            <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\r\n                                                <Button\r\n                                                    variant=\"secondary\"\r\n                                                    size=\"icon\"\r\n                                                    className=\"h-8 w-8 bg-black/50 hover:bg-black/70\"\r\n                                                >\r\n                                                    <MoreVertical className=\"h-4 w-4\" />\r\n                                                </Button>\r\n                                            </DropdownMenuTrigger>\r\n                                            <DropdownMenuContent align=\"end\" className=\"bg-black border-white/10\">\r\n                                                <DropdownMenuItem\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation()\r\n                                                        setSelectedImage(image)\r\n                                                        setNewName(image.headline)\r\n                                                        setRenameDialogOpen(true)\r\n                                                    }}\r\n                                                >\r\n                                                    <Edit2 className=\"w-4 h-4 mr-2\" />\r\n                                                    Renomear\r\n                                                </DropdownMenuItem>\r\n                                                <DropdownMenuItem\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation()\r\n                                                        setSelectedImage(image)\r\n                                                        setDeleteDialogOpen(true)\r\n                                                    }}\r\n                                                    className=\"text-red-400\"\r\n                                                >\r\n                                                    <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                                                    Deletar\r\n                                                </DropdownMenuItem>\r\n                                            </DropdownMenuContent>\r\n                                        </DropdownMenu>\r\n                                    </div>\r\n                                </div>\r\n                                <CardHeader className=\"p-3\">\r\n                                    <CardTitle className=\"text-white text-xs line-clamp-1\">\r\n                                        {image.headline}\r\n                                    </CardTitle>\r\n                                </CardHeader>\r\n                                <CardContent className=\"p-3 pt-0 space-y-2\">\r\n                                    <div className=\"flex items-center text-xs text-gray-400\">\r\n                                        <Calendar className=\"w-3 h-3 mr-1\" />\r\n                                        {new Date(image.createdAt).toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' })}\r\n                                    </div>\r\n\r\n                                    <div className=\"flex gap-1\">\r\n                                        {image.nitroflareUrl && (\r\n                                            <>\r\n                                                <Button\r\n                                                    variant=\"outline\"\r\n                                                    size=\"sm\"\r\n                                                    className=\"flex-1 h-7 text-xs px-2\"\r\n                                                    onClick={() => window.open(image.nitroflareUrl!, '_blank')}\r\n                                                >\r\n                                                    <ExternalLink className=\"w-3 h-3\" />\r\n                                                </Button>\r\n                                                <Button\r\n                                                    variant=\"outline\"\r\n                                                    size=\"sm\"\r\n                                                    className=\"flex-1 h-7 text-xs px-2\"\r\n                                                    onClick={() => {\r\n                                                        const link = document.createElement('a')\r\n                                                        link.href = image.imageUrl || ''\r\n                                                        link.download = `${image.headline}.png`\r\n                                                        link.click()\r\n                                                    }}\r\n                                                >\r\n                                                    <Download className=\"w-3 h-3\" />\r\n                                                </Button>\r\n                                            </>\r\n                                        )}\r\n                                    </div>\r\n                                </CardContent>\r\n                            </Card>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Upload Dialog */}\r\n            <UploadDialog\r\n                open={uploadDialogOpen}\r\n                onOpenChange={setUploadDialogOpen}\r\n                onUploadComplete={fetchGallery}\r\n            />\r\n\r\n            {/* Lightbox */}\r\n            {lightboxOpen && (\r\n                <Lightbox\r\n                    images={images}\r\n                    currentIndex={currentImageIndex}\r\n                    onClose={() => setLightboxOpen(false)}\r\n                    onNavigate={setCurrentImageIndex}\r\n                />\r\n            )}\r\n\r\n            {/* Rename Dialog */}\r\n            <Dialog open={renameDialogOpen} onOpenChange={setRenameDialogOpen}>\r\n                <DialogContent className=\"bg-black border-white/10\">\r\n                    <DialogHeader>\r\n                        <DialogTitle className=\"text-white\">Renomear Arquivo</DialogTitle>\r\n                        <DialogDescription>\r\n                            Digite o novo nome para o arquivo\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <div className=\"grid gap-4 py-4\">\r\n                        <div className=\"grid gap-2\">\r\n                            <Label htmlFor=\"name\">Nome</Label>\r\n                            <Input\r\n                                id=\"name\"\r\n                                value={newName}\r\n                                onChange={(e) => setNewName(e.target.value)}\r\n                                placeholder=\"Novo nome\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setRenameDialogOpen(false)}>\r\n                            Cancelar\r\n                        </Button>\r\n                        <Button onClick={handleRename} disabled={!newName}>\r\n                            Renomear\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            {/* Delete Dialog */}\r\n            <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n                <DialogContent className=\"bg-black border-white/10\">\r\n                    <DialogHeader>\r\n                        <DialogTitle className=\"text-white\">Deletar Arquivo</DialogTitle>\r\n                        <DialogDescription>\r\n                            Tem certeza que deseja deletar &quot;{selectedImage?.headline}&quot;? Esta a├º├úo n├úo pode ser desfeita.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setDeleteDialogOpen(false)}>\r\n                            Cancelar\r\n                        </Button>\r\n                        <Button variant=\"destructive\" onClick={handleDelete}>\r\n                            Deletar\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </DashboardLayout>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'session' is assigned a value but never used.","line":16,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":17,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { LoginModal } from \"@/components/auth/login-modal\"\nimport { ArrowRight, CheckCircle2, BarChart3, Zap, Shield } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { useSession } from \"next-auth/react\"\nimport { useRouter } from \"next/navigation\"\nimport { LocaleProvider, useLocale } from \"@/contexts/locale-context\"\nimport { LanguageSelector } from \"@/components/ui/language-selector\"\nimport { Users, Package, Megaphone, Share2 } from \"lucide-react\"\nimport { Logo3D } from \"@/components/ui/logo-3d\"\n\nfunction LandingPageContent() {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const { t } = useLocale()\n  const [accessCount, setAccessCount] = useState(0)\n  const [stats, setStats] = useState({\n    users: { value: 0, visible: false },\n    products: { value: 0, visible: false },\n    publishedProducts: { value: 0, visible: false },\n    ads: { value: 0, visible: false },\n  })\n\n  useEffect(() => {\n    // Track page view\n    fetch(\"/api/page-views\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ page: \"/\" }),\n    })\n\n    // Fetch access count\n    fetch(\"/api/page-views?page=/\")\n      .then(res => res.json())\n      .then(data => setAccessCount(data.count))\n\n    // Fetch public stats\n    fetch(\"/api/public-stats\")\n      .then(res => res.json())\n      .then(data => setStats(data))\n      .catch(err => console.error(\"Error fetching access count:\", err))\n  }, [])\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      {/* Header */}\n      <header className=\"fixed top-0 w-full z-50 glass border-b border-white/10\">\n        <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Logo3D className=\"w-10 h-10\" />\n            <span className=\"text-xl font-bold text-white\">Affiliate<span className=\"text-yellow-500\">AI</span></span>\n          </div>\n          <nav className=\"hidden md:flex items-center gap-8\">\n            <Link href=\"#features\" className=\"text-sm font-medium text-gray-300 hover:text-white transition-colors\">\n              {t('landing.features')}\n            </Link>\n            <Link href=\"#how-it-works\" className=\"text-sm font-medium text-gray-300 hover:text-white transition-colors\">\n              {t('landing.howItWorks')}\n            </Link>\n            <Link href=\"#pricing\" className=\"text-sm font-medium text-gray-300 hover:text-white transition-colors\">\n              {t('landing.pricing')}\n            </Link>\n          </nav>\n          <div className=\"flex items-center gap-2\">\n            <LanguageSelector />\n            {status === \"authenticated\" ? (\n              <Link href=\"/dashboard\">\n                <Button className=\"bg-indigo-600 hover:bg-indigo-700 text-white\">\n                  {t('landing.dashboard')}\n                  <ArrowRight className=\"ml-2 h-4 w-4\" />\n                </Button>\n              </Link>\n            ) : (\n              <>\n                <LoginModal>\n                  <Button variant=\"ghost\" className=\"text-white hover:bg-white/10\">\n                    {t('landing.login')}\n                  </Button>\n                </LoginModal>\n                <LoginModal>\n                  <Button className=\"bg-indigo-600 hover:bg-indigo-700 text-white\">\n                    {t('landing.start')}\n                    <ArrowRight className=\"ml-2 h-4 w-4\" />\n                  </Button>\n                </LoginModal>\n              </>\n            )}\n          </div>\n        </div>\n      </header>\n\n      {/* Hero Section */}\n      <section className=\"pt-32 pb-20 px-4\">\n        <div className=\"container mx-auto text-center max-w-4xl\">\n          <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 mb-8 animate-fade-in\">\n            <span className=\"relative flex h-2 w-2\">\n              <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75\"></span>\n              <span className=\"relative inline-flex rounded-full h-2 w-2 bg-indigo-500\"></span>\n            </span>\n            <span className=\"text-sm font-medium\">Plataforma em Crescimento</span>\n          </div>\n          <div className=\"flex flex-wrap justify-center gap-4 mb-8\">\n            <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-xs text-gray-400\">\n              <span className=\"relative flex h-2 w-2\">\n                <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75\"></span>\n                <span className=\"relative inline-flex rounded-full h-2 w-2 bg-indigo-500\"></span>\n              </span>\n              {accessCount.toLocaleString()}+ acessos\n            </div>\n\n            {stats.users.visible && (\n              <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-xs text-gray-400\">\n                <Users className=\"w-3 h-3 text-purple-400\" />\n                {stats.users.value.toLocaleString()}+ usu├írios\n              </div>\n            )}\n\n            {stats.products.visible && (\n              <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-xs text-gray-400\">\n                <Package className=\"w-3 h-3 text-blue-400\" />\n                {stats.products.value.toLocaleString()}+ produtos\n              </div>\n            )}\n\n            {stats.publishedProducts.visible && (\n              <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-xs text-gray-400\">\n                <Share2 className=\"w-3 h-3 text-green-400\" />\n                {stats.publishedProducts.value.toLocaleString()}+ publicados\n              </div>\n            )}\n\n            {stats.ads.visible && (\n              <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-xs text-gray-400\">\n                <Megaphone className=\"w-3 h-3 text-pink-400\" />\n                {stats.ads.value.toLocaleString()}+ an├║ncios\n              </div>\n            )}\n          </div>\n          <h1 className=\"text-5xl md:text-7xl font-bold text-white mb-6 tracking-tight animate-slide-in\">\n            Automatize suas Vendas com <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400\">Intelig├¬ncia Artificial</span>\n          </h1>\n          <p className=\"text-xl text-gray-400 mb-10 max-w-2xl mx-auto animate-fade-in delay-100\">\n            Crie campanhas, gerencie produtos e otimize seus resultados em uma ├║nica plataforma. Aumente seu ROI com o poder da IA.\n          </p>\n          <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in delay-200\">\n            <LoginModal>\n              <Button size=\"lg\" className=\"h-12 px-8 text-lg bg-white text-indigo-900 hover:bg-gray-100 w-full sm:w-auto\">\n                Come├ºar Gratuitamente\n                <ArrowRight className=\"ml-2 w-5 h-5\" />\n              </Button>\n            </LoginModal>\n            <Button size=\"lg\" variant=\"outline\" className=\"h-12 px-8 text-lg border-white/20 text-white hover:bg-white/10 w-full sm:w-auto\">\n              Ver Demonstra├º├úo\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      {/* Features Grid */}\n      <section id=\"features\" className=\"py-20 bg-black/20\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"grid md:grid-cols-3 gap-8\">\n            <div className=\"p-8 rounded-2xl glass border border-white/10 hover:border-indigo-500/30 transition-all hover-lift\">\n              <div className=\"w-12 h-12 rounded-lg bg-indigo-500/20 flex items-center justify-center mb-6\">\n                <Zap className=\"w-6 h-6 text-indigo-400\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-white mb-3\">Automa├º├úo Inteligente</h3>\n              <p className=\"text-gray-400\">\n                Nossa IA cria copys, seleciona imagens e otimiza suas campanhas automaticamente para maximizar convers├Áes.\n              </p>\n            </div>\n            <div className=\"p-8 rounded-2xl glass border border-white/10 hover:border-indigo-500/30 transition-all hover-lift\">\n              <div className=\"w-12 h-12 rounded-lg bg-purple-500/20 flex items-center justify-center mb-6\">\n                <BarChart3 className=\"w-6 h-6 text-purple-400\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-white mb-3\">Analytics em Tempo Real</h3>\n              <p className=\"text-gray-400\">\n                Acompanhe cada clique e venda. Dashboards detalhados para voc├¬ tomar decis├Áes baseadas em dados.\n              </p>\n            </div>\n            <div className=\"p-8 rounded-2xl glass border border-white/10 hover:border-indigo-500/30 transition-all hover-lift\">\n              <div className=\"w-12 h-12 rounded-lg bg-emerald-500/20 flex items-center justify-center mb-6\">\n                <Shield className=\"w-6 h-6 text-emerald-400\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-white mb-3\">Gest├úo Centralizada</h3>\n              <p className=\"text-gray-400\">\n                Gerencie todos os seus produtos e campanhas de diferentes plataformas em um ├║nico lugar.\n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* How it Works */}\n      <section id=\"how-it-works\" className=\"py-20\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-4\">Como Funciona</h2>\n            <p className=\"text-gray-400 max-w-2xl mx-auto\">\n              Simples, r├ípido e eficiente. Comece a vender em minutos.\n            </p>\n          </div>\n          <div className=\"grid md:grid-cols-2 gap-12 items-center\">\n            <div className=\"space-y-8\">\n              <div className=\"flex gap-4\">\n                <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold\">1</div>\n                <div>\n                  <h3 className=\"text-xl font-bold text-white mb-2\">Conecte suas Contas</h3>\n                  <p className=\"text-gray-400\">Integre suas plataformas de afiliados e redes sociais com apenas alguns cliques.</p>\n                </div>\n              </div>\n              <div className=\"flex gap-4\">\n                <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold\">2</div>\n                <div>\n                  <h3 className=\"text-xl font-bold text-white mb-2\">Selecione os Produtos</h3>\n                  <p className=\"text-gray-400\">Escolha os melhores produtos para promover. Nossa IA sugere os mais rent├íveis.</p>\n                </div>\n              </div>\n              <div className=\"flex gap-4\">\n                <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold\">3</div>\n                <div>\n                  <h3 className=\"text-xl font-bold text-white mb-2\">Lance Campanhas</h3>\n                  <p className=\"text-gray-400\">A IA gera o conte├║do e publica suas campanhas automaticamente.</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 bg-gradient-to-r from-indigo-500 to-purple-500 blur-3xl opacity-20 rounded-full\"></div>\n              <div className=\"relative glass rounded-2xl p-6 border border-white/10\">\n                <div className=\"space-y-4\">\n                  <div className=\"h-8 bg-white/10 rounded w-3/4\"></div>\n                  <div className=\"h-32 bg-white/5 rounded w-full\"></div>\n                  <div className=\"flex gap-4\">\n                    <div className=\"h-20 bg-white/5 rounded w-1/2\"></div>\n                    <div className=\"h-20 bg-white/5 rounded w-1/2\"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      {/* Pricing Section */}\n      <section id=\"pricing\" className=\"py-20 bg-black/20\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-4\">Planos e Pre├ºos</h2>\n            <p className=\"text-gray-400 max-w-2xl mx-auto\">\n              Escolha o plano ideal para o seu momento e comece a escalar suas vendas hoje mesmo.\n            </p>\n          </div>\n          <div className=\"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto\">\n            {/* Free Plan */}\n            <div className=\"p-8 rounded-3xl glass border border-white/10 flex flex-col hover:border-white/20 transition-all\">\n              <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold text-white mb-2\">Free</h3>\n                <div className=\"flex items-baseline gap-1\">\n                  <span className=\"text-4xl font-bold text-white\">R$ 0</span>\n                  <span className=\"text-gray-500\">/m├¬s</span>\n                </div>\n                <p className=\"text-sm text-gray-500 mt-2\">Para quem est├í come├ºando.</p>\n              </div>\n              <ul className=\"space-y-4 mb-8 flex-1\">\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-green-500 shrink-0\" />\n                  At├® 3 produtos ativos\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-green-500 shrink-0\" />\n                  5 criativos por m├¬s\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-green-500 shrink-0\" />\n                  Analytics b├ísico\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-500 text-sm line-through\">\n                  Automa├º├úo Social\n                </li>\n              </ul>\n              <LoginModal>\n                <Button variant=\"outline\" className=\"w-full border-white/10 text-white hover:bg-white/5\">\n                  Come├ºar Agora\n                </Button>\n              </LoginModal>\n            </div>\n\n            {/* Pro Plan */}\n            <div className=\"p-8 rounded-3xl glass border-2 border-indigo-500/50 flex flex-col relative transform scale-105 shadow-2xl shadow-indigo-500/10\">\n              <div className=\"absolute -top-4 left-1/2 -translate-x-1/2 bg-indigo-500 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider\">\n                Mais Popular\n              </div>\n              <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold text-white mb-2\">Pro</h3>\n                <div className=\"flex items-baseline gap-1\">\n                  <span className=\"text-4xl font-bold text-white\">R$ 97</span>\n                  <span className=\"text-gray-500\">/m├¬s</span>\n                </div>\n                <p className=\"text-sm text-indigo-400 mt-2\">Para afiliados profissionais.</p>\n              </div>\n              <ul className=\"space-y-4 mb-8 flex-1\">\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-indigo-500 shrink-0\" />\n                  Produtos ilimitados\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-indigo-500 shrink-0\" />\n                  50 criativos por m├¬s\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-indigo-500 shrink-0\" />\n                  IA de Copy Avan├ºada\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-indigo-500 shrink-0\" />\n                  Analytics Detalhado\n                </li>\n              </ul>\n              <LoginModal>\n                <Button className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-500/20\">\n                  Assinar Agora\n                </Button>\n              </LoginModal>\n            </div>\n\n            {/* Business Plan */}\n            <div className=\"p-8 rounded-3xl glass border border-white/10 flex flex-col hover:border-white/20 transition-all\">\n              <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold text-white mb-2\">Business</h3>\n                <div className=\"flex items-baseline gap-1\">\n                  <span className=\"text-4xl font-bold text-white\">R$ 197</span>\n                  <span className=\"text-gray-500\">/m├¬s</span>\n                </div>\n                <p className=\"text-sm text-gray-500 mt-2\">Para ag├¬ncias e grandes opera├º├Áes.</p>\n              </div>\n              <ul className=\"space-y-4 mb-8 flex-1\">\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-green-500 shrink-0\" />\n                  Tudo no Pro\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-green-500 shrink-0\" />\n                  Automa├º├úo Social Ilimitada\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-green-500 shrink-0\" />\n                  Suporte Priorit├írio 24/7\n                </li>\n                <li className=\"flex items-center gap-3 text-gray-300 text-sm\">\n                  <CheckCircle2 className=\"w-5 h-5 text-green-500 shrink-0\" />\n                  Acesso Antecipado a Novas IAs\n                </li>\n              </ul>\n              <LoginModal>\n                <Button variant=\"outline\" className=\"w-full border-white/10 text-white hover:bg-white/5\">\n                  Falar com Consultor\n                </Button>\n              </LoginModal>\n            </div>\n          </div>\n        </div>\n      </section>\n      {/* Testimonials Section */}\n      <section id=\"testimonials\" className=\"py-20\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-4\">O que dizem nossos usu├írios</h2>\n            <p className=\"text-gray-400\">Junte-se a centenas de afiliados que j├í est├úo escalando com IA.</p>\n          </div>\n          <div className=\"grid md:grid-cols-3 gap-8\">\n            <div className=\"p-8 rounded-2xl glass border border-white/10\">\n              <div className=\"flex gap-1 text-yellow-500 mb-4\">\n                {\"Ôÿà\".repeat(5)}\n              </div>\n              <p className=\"text-gray-300 mb-6 italic\">\n                &quot;O AffiliateAI mudou o meu jogo. Antes eu perdia horas criando copys, agora a IA faz tudo em segundos e com muito mais convers├úo.&quot;\n              </p>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 rounded-full bg-indigo-500/20 flex items-center justify-center font-bold text-indigo-400\">\n                  JS\n                </div>\n                <div>\n                  <p className=\"text-white font-bold text-sm\">Jo├úo Silva</p>\n                  <p className=\"text-gray-500 text-xs\">Afiliado Pro</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-8 rounded-2xl glass border border-white/10\">\n              <div className=\"flex gap-1 text-yellow-500 mb-4\">\n                {\"Ôÿà\".repeat(5)}\n              </div>\n              <p className=\"text-gray-300 mb-6 italic\">\n                &quot;A integra├º├úo com o Instagram e TikTok ├® fant├ística. Postar criativos nunca foi t├úo f├ícil. Recomendo muito!&quot;\n              </p>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center font-bold text-purple-400\">\n                  MA\n                </div>\n                <div>\n                  <p className=\"text-white font-bold text-sm\">Maria Almeida</p>\n                  <p className=\"text-gray-500 text-xs\">Social Media</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-8 rounded-2xl glass border border-white/10\">\n              <div className=\"flex gap-1 text-yellow-500 mb-4\">\n                {\"Ôÿà\".repeat(5)}\n              </div>\n              <p className=\"text-gray-300 mb-6 italic\">\n                &quot;O suporte ├® excelente e a plataforma ├® muito intuitiva. O ROI das minhas campanhas subiu 40% no primeiro m├¬s.&quot;\n              </p>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center font-bold text-emerald-400\">\n                  RC\n                </div>\n                <div>\n                  <p className=\"text-white font-bold text-sm\">Ricardo Costa</p>\n                  <p className=\"text-gray-500 text-xs\">Infoprodutor</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* FAQ Section */}\n      <section id=\"faq\" className=\"py-20 bg-black/20\">\n        <div className=\"container mx-auto px-4 max-w-4xl\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-4\">Perguntas Frequentes</h2>\n            <p className=\"text-gray-400\">\n              Tudo o que voc├¬ precisa saber sobre o AffiliateAI.\n            </p>\n          </div>\n          <div className=\"space-y-4\">\n            <div className=\"p-6 rounded-2xl glass border border-white/10\">\n              <h3 className=\"text-lg font-bold text-white mb-2\">Como a IA gera os criativos?</h3>\n              <p className=\"text-gray-400\">\n                Nossa IA analisa o seu link de produto, extrai as principais caracter├¡sticas e benef├¡cios, e gera automaticamente copys persuasivas e sugest├Áes de imagens/v├¡deos otimizados para convers├úo.\n              </p>\n            </div>\n            <div className=\"p-6 rounded-2xl glass border border-white/10\">\n              <h3 className=\"text-lg font-bold text-white mb-2\">Quais plataformas s├úo suportadas?</h3>\n              <p className=\"text-gray-400\">\n                Atualmente suportamos Hotmart, Eduzz, Kiwify e integra├º├úo direta com Meta Ads (Facebook/Instagram), Google Ads, TikTok e Pinterest.\n              </p>\n            </div>\n            <div className=\"p-6 rounded-2xl glass border border-white/10\">\n              <h3 className=\"text-lg font-bold text-white mb-2\">Preciso ter experi├¬ncia com tr├ífego pago?</h3>\n              <p className=\"text-gray-400\">\n                N├úo! O AffiliateAI foi desenhado tanto para iniciantes quanto para profissionais. A IA cuida da parte t├®cnica e criativa para voc├¬.\n              </p>\n            </div>\n            <div className=\"p-6 rounded-2xl glass border border-white/10\">\n              <h3 className=\"text-lg font-bold text-white mb-2\">Posso cancelar minha assinatura a qualquer momento?</h3>\n              <p className=\"text-gray-400\">\n                Sim, voc├¬ pode cancelar sua assinatura Pro ou Business a qualquer momento diretamente pelo seu painel de configura├º├Áes, sem letras mi├║das.\n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <footer className=\"py-12 border-t border-white/10 bg-black/40 mt-auto\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex flex-col md:flex-row justify-between items-center gap-6\">\n            <div className=\"flex items-center gap-2\">\n              <Logo3D className=\"w-8 h-8\" />\n              <span className=\"text-lg font-bold text-white\">Affiliate<span className=\"text-yellow-500\">AI</span></span>\n            </div>\n            <div className=\"text-gray-500 text-sm\">\n              ┬® 2024 AffiliateAI. Todos os direitos reservados.\n            </div>\n            <div className=\"flex gap-6\">\n              <Link href=\"#\" className=\"text-gray-400 hover:text-white transition-colors\">Termos</Link>\n              <Link href=\"/privacy\" className=\"text-gray-400 hover:text-white transition-colors\">Privacidade</Link>\n              <Link href=\"#\" className=\"text-gray-400 hover:text-white transition-colors\">Contato</Link>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  )\n}\n\nexport default function LandingPage() {\n  return (\n    <LocaleProvider>\n      <LandingPageContent />\n    </LocaleProvider>\n  )\n}\n\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\pricing\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":5,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shield' is defined but never used.","line":5,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Star' is defined but never used.","line":5,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Check, Loader2, Zap, Shield, Star } from \"lucide-react\"\r\nimport { useSession } from \"next-auth/react\"\r\nimport { LoginModal } from \"@/components/auth/login-modal\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\n\r\nexport default function PricingPage() {\r\n    const { data: session } = useSession()\r\n    const [isLoading, setIsLoading] = useState<string | null>(null)\r\n\r\n    const handleSubscribe = async (priceId: string) => {\r\n        if (!session) return // Should be handled by LoginModal wrapper\r\n\r\n        setIsLoading(priceId)\r\n        try {\r\n            const res = await fetch(\"/api/stripe/checkout\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ priceId }),\r\n            })\r\n\r\n            const data = await res.json()\r\n            if (data.url) {\r\n                window.location.href = data.url\r\n            } else {\r\n                alert(\"Erro ao iniciar checkout.\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error:\", error)\r\n            alert(\"Erro ao iniciar checkout.\")\r\n        } finally {\r\n            setIsLoading(null)\r\n        }\r\n    }\r\n\r\n    const plans = [\r\n        {\r\n            id: \"free\",\r\n            name: \"Gratuito\",\r\n            price: \"R$ 0\",\r\n            period: \"/m├¬s\",\r\n            description: \"Para quem est├í come├ºando.\",\r\n            features: [\r\n                \"3 Produtos\",\r\n                \"5 Campanhas\",\r\n                \"Gera├º├úo de Copy Limitada\",\r\n                \"Sem acesso ao Creative Studio\",\r\n                \"Suporte da Comunidade\"\r\n            ],\r\n            buttonText: \"Come├ºar Gr├ítis\",\r\n            popular: false,\r\n            priceId: null // Free plan\r\n        },\r\n        {\r\n            id: \"pro\",\r\n            name: \"Pro\",\r\n            price: \"R$ 49,90\",\r\n            period: \"/m├¬s\",\r\n            description: \"Para afiliados profissionais.\",\r\n            features: [\r\n                \"Produtos Ilimitados\",\r\n                \"Campanhas Ilimitadas\",\r\n                \"Gera├º├úo de Copy Ilimitada\",\r\n                \"Acesso ao Creative Studio (IA)\",\r\n                \"P├ígina na Bio Personalizada\",\r\n                \"Suporte Priorit├írio\"\r\n            ],\r\n            buttonText: \"Assinar Pro\",\r\n            popular: true,\r\n            priceId: \"price_1234567890\" // Replace with real Stripe Price ID\r\n        },\r\n        {\r\n            id: \"lifetime\",\r\n            name: \"Lifetime\",\r\n            price: \"R$ 497\",\r\n            period: \"/├║nico\",\r\n            description: \"Acesso vital├¡cio com desconto.\",\r\n            features: [\r\n                \"Tudo do plano Pro\",\r\n                \"Pagamento ├Ünico\",\r\n                \"Acesso Vital├¡cio\",\r\n                \"Badge Exclusiva 'Founder'\",\r\n                \"Acesso Antecipado a Novas Features\",\r\n                \"Mentoria Mensal em Grupo\"\r\n            ],\r\n            buttonText: \"Comprar Lifetime\",\r\n            popular: false,\r\n            priceId: \"price_0987654321\" // Replace with real Stripe Price ID\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-black text-white py-20 px-4\">\r\n            <div className=\"container mx-auto max-w-6xl\">\r\n                <div className=\"text-center mb-16 space-y-4\">\r\n                    <h1 className=\"text-4xl md:text-5xl font-bold tracking-tight\">\r\n                        Escolha o plano ideal para <span className=\"text-indigo-500\">escalar</span>\r\n                    </h1>\r\n                    <p className=\"text-xl text-gray-400 max-w-2xl mx-auto\">\r\n                        Comece gratuitamente e fa├ºa upgrade quando precisar de mais poder.\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"grid md:grid-cols-3 gap-8\">\r\n                    {plans.map((plan) => (\r\n                        <div\r\n                            key={plan.id}\r\n                            className={`relative rounded-2xl p-8 border ${plan.popular\r\n                                    ? \"bg-white/5 border-indigo-500 shadow-2xl shadow-indigo-500/20\"\r\n                                    : \"bg-white/5 border-white/10\"\r\n                                } flex flex-col`}\r\n                        >\r\n                            {plan.popular && (\r\n                                <div className=\"absolute -top-4 left-1/2 -translate-x-1/2\">\r\n                                    <Badge className=\"bg-indigo-500 hover:bg-indigo-600 px-4 py-1\">\r\n                                        Mais Popular\r\n                                    </Badge>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"mb-8\">\r\n                                <h3 className=\"text-xl font-semibold mb-2\">{plan.name}</h3>\r\n                                <div className=\"flex items-baseline gap-1\">\r\n                                    <span className=\"text-4xl font-bold\">{plan.price}</span>\r\n                                    <span className=\"text-gray-400 text-sm\">{plan.period}</span>\r\n                                </div>\r\n                                <p className=\"text-gray-400 mt-4 text-sm\">{plan.description}</p>\r\n                            </div>\r\n\r\n                            <ul className=\"space-y-4 mb-8 flex-1\">\r\n                                {plan.features.map((feature, i) => (\r\n                                    <li key={i} className=\"flex items-start gap-3 text-sm text-gray-300\">\r\n                                        <Check className=\"w-5 h-5 text-indigo-500 shrink-0\" />\r\n                                        {feature}\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n\r\n                            {session ? (\r\n                                <Button\r\n                                    className={`w-full ${plan.popular\r\n                                            ? \"bg-indigo-600 hover:bg-indigo-700\"\r\n                                            : \"bg-white/10 hover:bg-white/20\"\r\n                                        }`}\r\n                                    onClick={() => plan.priceId && handleSubscribe(plan.priceId)}\r\n                                    disabled={!plan.priceId || !!isLoading}\r\n                                >\r\n                                    {isLoading === plan.priceId ? (\r\n                                        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                                    ) : (\r\n                                        plan.buttonText\r\n                                    )}\r\n                                </Button>\r\n                            ) : (\r\n                                <LoginModal>\r\n                                    <Button\r\n                                        className={`w-full ${plan.popular\r\n                                                ? \"bg-indigo-600 hover:bg-indigo-700\"\r\n                                                : \"bg-white/10 hover:bg-white/20\"\r\n                                            }`}\r\n                                    >\r\n                                        {plan.buttonText}\r\n                                    </Button>\r\n                                </LoginModal>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"mt-20 text-center\">\r\n                    <p className=\"text-gray-500 text-sm\">\r\n                        Pagamentos processados com seguran├ºa pelo Stripe. Cancele quando quiser.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\privacy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\products\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":108,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":108,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":123,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":123,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":133,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":133,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4517,4520],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4517,4520],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport DashboardLayout from \"@/components/layout/dashboard-layout\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { ProductCard } from \"@/components/products/product-card\"\r\nimport { Plus, Search, Sparkles, Loader2 } from \"lucide-react\"\r\nimport { generateCopyAction, scrapeProductAction } from \"@/app/actions\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogTrigger,\r\n} from \"@/components/ui/dialog\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\"\r\n\r\ntype Product = {\r\n    id: string\r\n    title: string\r\n    price: string\r\n    commission: string\r\n    platform: string\r\n    imageUrl: string | null\r\n    affiliateLink: string | null\r\n    targetCountry?: string\r\n    targetState?: string\r\n    targetCity?: string\r\n}\r\n\r\nimport { CreateCampaignModal } from \"@/components/campaigns/create-campaign-modal\"\r\nimport { ImagePicker } from \"@/components/creatives/image-picker\"\r\n\r\nexport default function ProductsPage() {\r\n    const [products, setProducts] = useState<Product[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isGenerating, setIsGenerating] = useState(false)\r\n    const [newProductUrl, setNewProductUrl] = useState(\"\")\r\n    const [targetCountry, setTargetCountry] = useState(\"\")\r\n    const [targetState, setTargetState] = useState(\"\")\r\n    const [targetCity, setTargetCity] = useState(\"\")\r\n    const [isAdding, setIsAdding] = useState(false)\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [manualImageUrl, setManualImageUrl] = useState(\"\")\r\n\r\n    // Campaign Modal State\r\n    const [isCampaignModalOpen, setIsCampaignModalOpen] = useState(false)\r\n    const [selectedProduct, setSelectedProduct] = useState<Product | null>(null)\r\n\r\n    useEffect(() => {\r\n        fetchProducts()\r\n    }, [])\r\n\r\n    const fetchProducts = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/products\")\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                setProducts(data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching products:\", error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleAddProduct = async () => {\r\n        setIsAdding(true)\r\n        try {\r\n            const scrapedData = await scrapeProductAction(newProductUrl)\r\n\r\n            const res = await fetch(\"/api/products\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    title: scrapedData.title,\r\n                    price: scrapedData.price,\r\n                    commission: \"R$ 0,00\", // Placeholder\r\n                    platform: scrapedData.platform,\r\n                    imageUrl: manualImageUrl || scrapedData.imageUrl,\r\n                    affiliateLink: newProductUrl,\r\n                    targetCountry,\r\n                    targetState,\r\n                    targetCity,\r\n                }),\r\n            })\r\n\r\n            if (res.ok) {\r\n                const newProduct = await res.json()\r\n                setProducts([newProduct, ...products])\r\n                setNewProductUrl(\"\")\r\n                setTargetCountry(\"\")\r\n                setTargetState(\"\")\r\n                setTargetCity(\"\")\r\n                setIsDialogOpen(false)\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao importar produto. Verifique o link.\")\r\n        } finally {\r\n            setIsAdding(false)\r\n        }\r\n    }\r\n\r\n    const handleDeleteProduct = async (id: string) => {\r\n        if (!confirm(\"Tem certeza que deseja excluir este produto?\")) return\r\n\r\n        try {\r\n            const res = await fetch(`/api/products?id=${id}`, { method: \"DELETE\" })\r\n            if (res.ok) {\r\n                setProducts(products.filter((p) => p.id !== id))\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao excluir produto.\")\r\n        }\r\n    }\r\n\r\n    const handleGenerateCopy = async (productTitle: string) => {\r\n        setIsGenerating(true)\r\n        try {\r\n            const copy = await generateCopyAction(productTitle)\r\n            alert(`Copy gerada para \"${productTitle}\":\\n\\n\"${copy}\"`)\r\n        } catch (error: any) {\r\n            alert(error.message || \"Erro ao gerar copy.\")\r\n        } finally {\r\n            setIsGenerating(false)\r\n        }\r\n    }\r\n\r\n    const handlePromote = (product: Product) => {\r\n        setSelectedProduct(product)\r\n        setIsCampaignModalOpen(true)\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <DashboardLayout>\r\n                <div className=\"flex items-center justify-center h-96\">\r\n                    <Loader2 className=\"w-8 h-8 animate-spin text-indigo-600\" />\r\n                </div>\r\n            </DashboardLayout>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"flex flex-col gap-8\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-bold tracking-tight text-white\">Produtos</h2>\r\n                        <p className=\"text-gray-400 mt-2\">\r\n                            Gerencie seus produtos afiliados e crie campanhas com IA.\r\n                        </p>\r\n                    </div>\r\n                    <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n                        <DialogTrigger asChild>\r\n                            <Button>\r\n                                <Plus className=\"w-4 h-4 mr-2\" />\r\n                                Adicionar Produto\r\n                            </Button>\r\n                        </DialogTrigger>\r\n                        <DialogContent className=\"glass border-white/10 bg-black/80 backdrop-blur-xl\">\r\n                            <DialogHeader>\r\n                                <DialogTitle className=\"text-white\">Adicionar Novo Produto</DialogTitle>\r\n                                <DialogDescription className=\"text-gray-400\">\r\n                                    Cole o link do produto e defina onde ele pode ser vendido.\r\n                                </DialogDescription>\r\n                            </DialogHeader>\r\n                            <div className=\"grid gap-4 py-4\">\r\n                                <div className=\"grid grid-cols-4 items-center gap-4\">\r\n                                    <Label htmlFor=\"url\" className=\"text-right text-gray-300\">\r\n                                        Link do Produto\r\n                                    </Label>\r\n                                    <Input\r\n                                        id=\"url\"\r\n                                        placeholder=\"https://...\"\r\n                                        className=\"col-span-3 bg-white/5 border-white/10 text-white\"\r\n                                        value={newProductUrl}\r\n                                        onChange={(e) => setNewProductUrl(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid grid-cols-4 items-center gap-4\">\r\n                                    <Label className=\"text-right text-gray-300\">\r\n                                        Imagem (Opcional)\r\n                                    </Label>\r\n                                    <div className=\"col-span-3\">\r\n                                        <ImagePicker\r\n                                            value={manualImageUrl}\r\n                                            onChange={setManualImageUrl}\r\n                                            label=\"Selecionar da Galeria\"\r\n                                        />\r\n                                        <p className=\"text-[10px] text-gray-500 mt-1\">\r\n                                            Se deixado em branco, tentaremos capturar a imagem do link automaticamente.\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"grid grid-cols-4 items-center gap-4\">\r\n                                    <Label className=\"text-right text-gray-300\">Pa├¡s Alvo</Label>\r\n                                    <Select onValueChange={setTargetCountry}>\r\n                                        <SelectTrigger className=\"col-span-3 bg-white/5 border-white/10 text-white\">\r\n                                            <SelectValue placeholder=\"Selecione o pa├¡s\" />\r\n                                        </SelectTrigger>\r\n                                        <SelectContent>\r\n                                            <SelectItem value=\"BR\">Brasil ­ƒçº­ƒçÀ</SelectItem>\r\n                                            <SelectItem value=\"US\">Estados Unidos ­ƒç║­ƒç©</SelectItem>\r\n                                            <SelectItem value=\"PT\">Portugal ­ƒçÁ­ƒç╣</SelectItem>\r\n                                            <SelectItem value=\"ES\">Espanha ­ƒç¬­ƒç©</SelectItem>\r\n                                        </SelectContent>\r\n                                    </Select>\r\n                                </div>\r\n                                <div className=\"grid grid-cols-4 items-center gap-4\">\r\n                                    <Label htmlFor=\"state\" className=\"text-right text-gray-300\">\r\n                                        Estado\r\n                                    </Label>\r\n                                    <Input\r\n                                        id=\"state\"\r\n                                        placeholder=\"Ex: SP, California\"\r\n                                        className=\"col-span-3 bg-white/5 border-white/10 text-white\"\r\n                                        value={targetState}\r\n                                        onChange={(e) => setTargetState(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid grid-cols-4 items-center gap-4\">\r\n                                    <Label htmlFor=\"city\" className=\"text-right text-gray-300\">\r\n                                        Cidade\r\n                                    </Label>\r\n                                    <Input\r\n                                        id=\"city\"\r\n                                        placeholder=\"Ex: S├úo Paulo, Los Angeles\"\r\n                                        className=\"col-span-3 bg-white/5 border-white/10 text-white\"\r\n                                        value={targetCity}\r\n                                        onChange={(e) => setTargetCity(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <DialogFooter>\r\n                                <Button onClick={handleAddProduct} disabled={isAdding || !newProductUrl} className=\"bg-indigo-600 hover:bg-indigo-700 text-white\">\r\n                                    {isAdding ? (\r\n                                        <>\r\n                                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                            Analisando...\r\n                                        </>\r\n                                    ) : (\r\n                                        \"Importar Produto\"\r\n                                    )}\r\n                                </Button>\r\n                            </DialogFooter>\r\n                        </DialogContent>\r\n                    </Dialog>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"relative flex-1 max-w-sm\">\r\n                        <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400\" />\r\n                        <Input\r\n                            type=\"search\"\r\n                            placeholder=\"Buscar produtos...\"\r\n                            className=\"pl-8 bg-white/5 border-white/10 text-white placeholder:text-gray-500\"\r\n                        />\r\n                    </div>\r\n                    <Button variant=\"secondary\" className=\"bg-white/10 text-white hover:bg-white/20\">\r\n                        <Sparkles className=\"w-4 h-4 mr-2\" />\r\n                        Encontrar Melhores Produtos\r\n                    </Button>\r\n                </div>\r\n\r\n                {isGenerating && (\r\n                    <div className=\"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center\">\r\n                        <div className=\"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center\">\r\n                            <Loader2 className=\"w-8 h-8 text-indigo-600 animate-spin mb-4\" />\r\n                            <p className=\"font-medium text-gray-900\">A IA est├í escrevendo sua copy...</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {products.length === 0 ? (\r\n                    <div className=\"text-center py-12\">\r\n                        <p className=\"text-gray-400 mb-4\">Nenhum produto cadastrado ainda.</p>\r\n                        <Button onClick={() => setIsDialogOpen(true)} className=\"bg-indigo-600 hover:bg-indigo-700 text-white\">\r\n                            <Plus className=\"w-4 h-4 mr-2\" />\r\n                            Adicionar Primeiro Produto\r\n                        </Button>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n                        {products.map((product) => (\r\n                            <ProductCard\r\n                                key={product.id}\r\n                                id={product.id}\r\n                                title={product.title}\r\n                                price={product.price}\r\n                                commission={product.commission}\r\n                                platform={product.platform}\r\n                                imageUrl={product.imageUrl || \"https://placehold.co/600x400/png?text=Produto\"}\r\n                                onGenerateCopy={() => handleGenerateCopy(product.title)}\r\n                                onViewLink={() => window.open(product.affiliateLink || \"#\", \"_blank\")}\r\n                                onDelete={() => handleDeleteProduct(product.id)}\r\n                                onPromote={() => handlePromote(product)}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {selectedProduct && (\r\n                    <CreateCampaignModal\r\n                        isOpen={isCampaignModalOpen}\r\n                        onClose={() => setIsCampaignModalOpen(false)}\r\n                        product={{\r\n                            id: selectedProduct.id,\r\n                            title: selectedProduct.title,\r\n                            description: \"\", // We might want to store description in DB later\r\n                            url: selectedProduct.affiliateLink || \"\"\r\n                        }}\r\n                    />\r\n                )}\r\n            </div>\r\n        </DashboardLayout>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\profile\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport DashboardLayout from \"@/components/layout/dashboard-layout\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Loader2, Save, Key, ShieldCheck, Megaphone, Zap } from \"lucide-react\"\r\n\r\nexport default function SettingsPage() {\r\n    const [apiKey, setApiKey] = useState(\"\")\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isSaving, setIsSaving] = useState(false)\r\n    const [hasKey, setHasKey] = useState(false)\r\n    const [brandName, setBrandName] = useState(\"\")\r\n    const [brandTone, setBrandTone] = useState(\"\")\r\n    const [brandDescription, setBrandDescription] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        fetchSettings()\r\n    }, [])\r\n\r\n    const fetchSettings = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/settings\")\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                if (data.hasKey) {\r\n                    setHasKey(true)\r\n                    setApiKey(\"********************\")\r\n                }\r\n                setBrandName(data.brandName || \"\")\r\n                setBrandTone(data.brandTone || \"\")\r\n                setBrandDescription(data.brandDescription || \"\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching settings:\", error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleSave = async () => {\r\n        setIsSaving(true)\r\n        try {\r\n            const res = await fetch(\"/api/settings\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    openaiApiKey: apiKey,\r\n                    brandName,\r\n                    brandTone,\r\n                    brandDescription\r\n                }),\r\n            })\r\n\r\n            if (res.ok) {\r\n                setHasKey(true)\r\n                alert(\"Configura├º├Áes salvas com sucesso!\")\r\n            } else {\r\n                alert(\"Erro ao salvar configura├º├Áes.\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error saving settings:\", error)\r\n            alert(\"Erro ao salvar configura├º├Áes.\")\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"max-w-4xl mx-auto space-y-8\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-bold tracking-tight text-white\">Configura├º├Áes</h2>\r\n                    <p className=\"text-gray-400 mt-2\">\r\n                        Gerencie suas prefer├¬ncias e chaves de API.\r\n                    </p>\r\n                </div>\r\n\r\n                <Card className=\"glass border-white/10\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"flex items-center gap-2 text-white\">\r\n                            <Key className=\"w-5 h-5 text-indigo-400\" />\r\n                            Configura├º├úo de IA\r\n                        </CardTitle>\r\n                        <CardDescription className=\"text-gray-400\">\r\n                            Configure sua chave da OpenAI para gerar copys e criativos ilimitados.\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"apiKey\" className=\"text-gray-300\">OpenAI API Key</Label>\r\n                            <div className=\"flex gap-2\">\r\n                                <Input\r\n                                    id=\"apiKey\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"sk-...\"\r\n                                    value={apiKey}\r\n                                    onChange={(e) => setApiKey(e.target.value)}\r\n                                    className=\"bg-white/5 border-white/10 text-white\"\r\n                                />\r\n                                <Button\r\n                                    onClick={handleSave}\r\n                                    disabled={isSaving || !apiKey}\r\n                                    className=\"bg-indigo-600 hover:bg-indigo-700 text-white\"\r\n                                >\r\n                                    {isSaving ? (\r\n                                        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                                    ) : (\r\n                                        <Save className=\"w-4 h-4\" />\r\n                                    )}\r\n                                    <span className=\"ml-2\">Salvar</span>\r\n                                </Button>\r\n                            </div>\r\n                            <p className=\"text-xs text-gray-500\">\r\n                                Sua chave ├® armazenada de forma segura e usada apenas para suas requisi├º├Áes.\r\n                            </p>\r\n                        </div>\r\n\r\n                        {hasKey && (\r\n                            <div className=\"flex items-center gap-2 p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm\">\r\n                                <ShieldCheck className=\"w-4 h-4\" />\r\n                                <span>Chave de API configurada e ativa.</span>\r\n                            </div>\r\n                        )}\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Brand Voice Settings */}\r\n                <Card className=\"glass border-white/10\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"flex items-center gap-2 text-white\">\r\n                            <Megaphone className=\"w-5 h-5 text-pink-500\" />\r\n                            Voz da Marca (Brand Voice)\r\n                        </CardTitle>\r\n                        <CardDescription className=\"text-gray-400\">\r\n                            Configure a identidade da sua marca para que a IA gere conte├║dos personalizados.\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6\">\r\n                        <div className=\"grid gap-4 md:grid-cols-2\">\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"brandName\" className=\"text-gray-300\">Nome da Marca</Label>\r\n                                <Input\r\n                                    id=\"brandName\"\r\n                                    placeholder=\"Ex: AffiliateAI\"\r\n                                    value={brandName}\r\n                                    onChange={(e) => setBrandName(e.target.value)}\r\n                                    className=\"bg-white/5 border-white/10 text-white\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"brandTone\" className=\"text-gray-300\">Tom de Voz</Label>\r\n                                <Input\r\n                                    id=\"brandTone\"\r\n                                    placeholder=\"Ex: Profissional, Divertido, Urgente\"\r\n                                    value={brandTone}\r\n                                    onChange={(e) => setBrandTone(e.target.value)}\r\n                                    className=\"bg-white/5 border-white/10 text-white\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"brandDescription\" className=\"text-gray-300\">Descri├º├úo da Marca</Label>\r\n                            <Input\r\n                                id=\"brandDescription\"\r\n                                placeholder=\"Descreva o que sua marca faz e seus valores...\"\r\n                                value={brandDescription}\r\n                                onChange={(e) => setBrandDescription(e.target.value)}\r\n                                className=\"bg-white/5 border-white/10 text-white\"\r\n                            />\r\n                            <p className=\"text-xs text-gray-500\">\r\n                                Essas informa├º├Áes ser├úo usadas para contextualizar a IA ao gerar copys e criativos.\r\n                            </p>\r\n                        </div>\r\n                        <Button\r\n                            onClick={handleSave}\r\n                            disabled={isSaving}\r\n                            className=\"bg-pink-600 hover:bg-pink-700 text-white\"\r\n                        >\r\n                            {isSaving ? (\r\n                                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                            ) : (\r\n                                <Save className=\"w-4 h-4\" />\r\n                            )}\r\n                            <span className=\"ml-2\">Salvar Voz da Marca</span>\r\n                        </Button>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Subscription Management */}\r\n                <Card className=\"glass border-white/10\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"flex items-center gap-2 text-white\">\r\n                            <Zap className=\"w-5 h-5 text-yellow-500\" />\r\n                            Assinatura\r\n                        </CardTitle>\r\n                        <CardDescription className=\"text-gray-400\">\r\n                            Gerencie seu plano e informa├º├Áes de pagamento.\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <Button\r\n                            onClick={async () => {\r\n                                try {\r\n                                    const res = await fetch(\"/api/stripe/portal\", { method: \"POST\" })\r\n                                    const data = await res.json()\r\n                                    window.location.href = data.url\r\n                                } catch (error) {\r\n                                    console.error(\"Error accessing portal:\", error)\r\n                                    alert(\"Erro ao acessar portal de assinatura.\")\r\n                                }\r\n                            }}\r\n                            className=\"w-full bg-white/10 hover:bg-white/20 text-white\"\r\n                        >\r\n                            Gerenciar Assinatura\r\n                        </Button>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Admin Panel Link */}\r\n                <Card className=\"glass border-white/10\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"flex items-center gap-2 text-white\">\r\n                            <ShieldCheck className=\"w-5 h-5 text-red-400\" />\r\n                            Painel de Administra├º├úo\r\n                        </CardTitle>\r\n                        <CardDescription className=\"text-gray-400\">\r\n                            Acesse o painel administrativo para gerenciar usu├írios e visualizar estat├¡sticas.\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <Button\r\n                            onClick={() => window.location.href = '/admin'}\r\n                            className=\"w-full bg-red-600 hover:bg-red-700 text-white\"\r\n                        >\r\n                            <ShieldCheck className=\"w-4 h-4 mr-2\" />\r\n                            Acessar Painel Admin\r\n                        </Button>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </DashboardLayout>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\social\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":89,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":89,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":107,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":107,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":122,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":122,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4213,4216],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4213,4216],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport DashboardLayout from \"@/components/layout/dashboard-layout\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Calendar, Send, Clock, CheckCircle2, XCircle, Loader2, Image as ImageIcon } from \"lucide-react\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\n\r\ntype Post = {\r\n    id: string\r\n    content: string\r\n    imageUrl?: string\r\n    platforms: string[]\r\n    status: string\r\n    scheduledFor?: string\r\n    publishedAt?: string\r\n    createdAt: string\r\n}\r\n\r\nconst platformOptions = [\r\n    { id: \"instagram\", name: \"Instagram\", icon: \"­ƒô©\" },\r\n    { id: \"tiktok\", name: \"TikTok\", icon: \"­ƒÄÁ\" },\r\n    { id: \"youtube\", name: \"YouTube\", icon: \"ÔûÂ´©Å\" },\r\n    { id: \"pinterest\", name: \"Pinterest\", icon: \"­ƒôî\" },\r\n]\r\n\r\nexport default function SocialPage() {\r\n    const [posts, setPosts] = useState<Post[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isPublishing, setIsPublishing] = useState(false)\r\n\r\n    // Form state\r\n    const [content, setContent] = useState(\"\")\r\n    const [imageUrl, setImageUrl] = useState(\"\")\r\n    const [selectedPlatforms, setSelectedPlatforms] = useState<string[]>([])\r\n    const [scheduledFor, setScheduledFor] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        fetchPosts()\r\n    }, [])\r\n\r\n    const fetchPosts = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/posts\")\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                setPosts(data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching posts:\", error)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleCreatePost = async () => {\r\n        if (!content || selectedPlatforms.length === 0) {\r\n            alert(\"Preencha o conte├║do e selecione pelo menos uma plataforma\")\r\n            return\r\n        }\r\n\r\n        try {\r\n            const res = await fetch(\"/api/posts\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    content,\r\n                    imageUrl: imageUrl || null,\r\n                    platforms: selectedPlatforms,\r\n                    scheduledFor: scheduledFor || null,\r\n                }),\r\n            })\r\n\r\n            if (res.ok) {\r\n                const newPost = await res.json()\r\n                setPosts([newPost, ...posts])\r\n                // Reset form\r\n                setContent(\"\")\r\n                setImageUrl(\"\")\r\n                setSelectedPlatforms([])\r\n                setScheduledFor(\"\")\r\n                alert(\"Post criado com sucesso!\")\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao criar post\")\r\n        }\r\n    }\r\n\r\n    const handlePublishNow = async (postId: string) => {\r\n        setIsPublishing(true)\r\n        try {\r\n            const res = await fetch(\"/api/social/publish\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ postId }),\r\n            })\r\n\r\n            if (res.ok) {\r\n                fetchPosts()\r\n                alert(\"Post publicado com sucesso!\")\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao publicar post\")\r\n        } finally {\r\n            setIsPublishing(false)\r\n        }\r\n    }\r\n\r\n    const handleDeletePost = async (id: string) => {\r\n        if (!confirm(\"Tem certeza que deseja excluir este post?\")) return\r\n\r\n        try {\r\n            const res = await fetch(`/api/posts?id=${id}`, { method: \"DELETE\" })\r\n            if (res.ok) {\r\n                setPosts(posts.filter(p => p.id !== id))\r\n            }\r\n        } catch (error) {\r\n            alert(\"Erro ao excluir post\")\r\n        }\r\n    }\r\n\r\n    const getStatusBadge = (status: string) => {\r\n        const variants: Record<string, { color: string; icon: any }> = {\r\n            draft: { color: \"bg-gray-500/20 text-gray-400 border-gray-500/30\", icon: Clock },\r\n            scheduled: { color: \"bg-blue-500/20 text-blue-400 border-blue-500/30\", icon: Calendar },\r\n            published: { color: \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\", icon: CheckCircle2 },\r\n            failed: { color: \"bg-red-500/20 text-red-400 border-red-500/30\", icon: XCircle },\r\n        }\r\n\r\n        const variant = variants[status] || variants.draft\r\n        const Icon = variant.icon\r\n\r\n        return (\r\n            <Badge variant=\"outline\" className={variant.color}>\r\n                <Icon className=\"w-3 h-3 mr-1\" />\r\n                {status.charAt(0).toUpperCase() + status.slice(1)}\r\n            </Badge>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"space-y-8\">\r\n                <div>\r\n                    <h2 className=\"text-3xl font-bold tracking-tight text-white\">Automa├º├úo Social</h2>\r\n                    <p className=\"text-gray-400 mt-2\">\r\n                        Crie e agende posts para suas redes sociais conectadas.\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Post Composer */}\r\n                <Card className=\"glass border-white/10\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"text-white\">Criar Novo Post</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-4\">\r\n                        <div>\r\n                            <Label className=\"text-gray-300\">Conte├║do</Label>\r\n                            <Textarea\r\n                                placeholder=\"Escreva sua mensagem...\"\r\n                                value={content}\r\n                                onChange={(e) => setContent(e.target.value)}\r\n                                className=\"bg-white/5 border-white/10 text-white min-h-[120px]\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <Label className=\"text-gray-300\">URL da Imagem (opcional)</Label>\r\n                            <div className=\"flex gap-2\">\r\n                                <Input\r\n                                    placeholder=\"https://...\"\r\n                                    value={imageUrl}\r\n                                    onChange={(e) => setImageUrl(e.target.value)}\r\n                                    className=\"bg-white/5 border-white/10 text-white\"\r\n                                />\r\n                                {imageUrl && (\r\n                                    <Button variant=\"outline\" size=\"icon\" className=\"shrink-0\">\r\n                                        <ImageIcon className=\"w-4 h-4\" />\r\n                                    </Button>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <Label className=\"text-gray-300 mb-3 block\">Plataformas</Label>\r\n                            <div className=\"grid grid-cols-2 gap-3\">\r\n                                {platformOptions.map((platform) => (\r\n                                    <div key={platform.id} className=\"flex items-center space-x-2\">\r\n                                        <Checkbox\r\n                                            id={platform.id}\r\n                                            checked={selectedPlatforms.includes(platform.id)}\r\n                                            onCheckedChange={(checked) => {\r\n                                                if (checked) {\r\n                                                    setSelectedPlatforms([...selectedPlatforms, platform.id])\r\n                                                } else {\r\n                                                    setSelectedPlatforms(selectedPlatforms.filter(p => p !== platform.id))\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                        <label htmlFor={platform.id} className=\"text-sm text-gray-300 cursor-pointer\">\r\n                                            {platform.icon} {platform.name}\r\n                                        </label>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <Label className=\"text-gray-300\">Agendar para (opcional)</Label>\r\n                            <Input\r\n                                type=\"datetime-local\"\r\n                                value={scheduledFor}\r\n                                onChange={(e) => setScheduledFor(e.target.value)}\r\n                                className=\"bg-white/5 border-white/10 text-white\"\r\n                            />\r\n                        </div>\r\n\r\n                        <Button onClick={handleCreatePost} className=\"w-full bg-indigo-600 hover:bg-indigo-700\">\r\n                            <Send className=\"w-4 h-4 mr-2\" />\r\n                            {scheduledFor ? \"Agendar Post\" : \"Criar Rascunho\"}\r\n                        </Button>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Posts List */}\r\n                <div className=\"space-y-4\">\r\n                    <h3 className=\"text-xl font-semibold text-white\">Meus Posts</h3>\r\n\r\n                    {isLoading ? (\r\n                        <div className=\"flex justify-center py-12\">\r\n                            <Loader2 className=\"w-8 h-8 animate-spin text-indigo-600\" />\r\n                        </div>\r\n                    ) : posts.length === 0 ? (\r\n                        <Card className=\"glass border-white/10\">\r\n                            <CardContent className=\"py-12 text-center\">\r\n                                <p className=\"text-gray-400\">Nenhum post criado ainda.</p>\r\n                            </CardContent>\r\n                        </Card>\r\n                    ) : (\r\n                        <div className=\"grid gap-4\">\r\n                            {posts.map((post) => (\r\n                                <Card key={post.id} className=\"glass border-white/10 hover:border-indigo-500/50 transition-all\">\r\n                                    <CardContent className=\"p-6\">\r\n                                        <div className=\"flex justify-between items-start mb-4\">\r\n                                            <div className=\"flex-1\">\r\n                                                <p className=\"text-white whitespace-pre-wrap mb-3\">{post.content}</p>\r\n                                                <div className=\"flex flex-wrap gap-2\">\r\n                                                    {post.platforms.map((platform) => (\r\n                                                        <Badge key={platform} variant=\"outline\" className=\"border-white/20 text-gray-300\">\r\n                                                            {platformOptions.find(p => p.id === platform)?.icon} {platform}\r\n                                                        </Badge>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                            {getStatusBadge(post.status)}\r\n                                        </div>\r\n\r\n                                        <div className=\"flex justify-between items-center pt-4 border-t border-white/10\">\r\n                                            <span className=\"text-sm text-gray-400\">\r\n                                                {post.publishedAt\r\n                                                    ? `Publicado em ${new Date(post.publishedAt).toLocaleString(\"pt-BR\")}`\r\n                                                    : post.scheduledFor\r\n                                                        ? `Agendado para ${new Date(post.scheduledFor).toLocaleString(\"pt-BR\")}`\r\n                                                        : `Criado em ${new Date(post.createdAt).toLocaleString(\"pt-BR\")}`}\r\n                                            </span>\r\n                                            <div className=\"flex gap-2\">\r\n                                                {post.status === \"draft\" && (\r\n                                                    <Button\r\n                                                        size=\"sm\"\r\n                                                        onClick={() => handlePublishNow(post.id)}\r\n                                                        disabled={isPublishing}\r\n                                                        className=\"bg-emerald-600 hover:bg-emerald-700\"\r\n                                                    >\r\n                                                        Publicar Agora\r\n                                                    </Button>\r\n                                                )}\r\n                                                <Button\r\n                                                    size=\"sm\"\r\n                                                    variant=\"ghost\"\r\n                                                    onClick={() => handleDeletePost(post.id)}\r\n                                                    className=\"text-red-400 hover:text-red-300 hover:bg-red-500/10\"\r\n                                                >\r\n                                                    Excluir\r\n                                                </Button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </DashboardLayout>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\app\\u\\[username]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ExternalLink' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":22},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":60,"column":29,"nodeType":"JSXOpeningElement","endLine":60,"endColumn":131}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { db } from \"@/lib/db\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { ExternalLink } from \"lucide-react\"\r\nimport { Metadata } from \"next\"\r\nimport { THEMES, ThemeKey } from \"@/lib/themes\"\r\nimport { BioTracker } from \"@/components/bio/bio-tracker\"\r\nimport { BioLinkItem } from \"@/components/bio/bio-link-item\"\r\n\r\n// Force dynamic rendering for public profile\r\nexport const dynamic = 'force-dynamic'\r\n\r\ntype Props = {\r\n    params: Promise<{ username: string }>\r\n}\r\n\r\nexport async function generateMetadata({ params }: Props): Promise<Metadata> {\r\n    const { username } = await params\r\n    const bioPage = await db.bioPage.findUnique({\r\n        where: { username }\r\n    })\r\n\r\n    return {\r\n        title: bioPage?.displayName || \"Link na Bio\",\r\n        description: bioPage?.bio || \"Confira meus links!\",\r\n    }\r\n}\r\n\r\nexport default async function PublicBioPage({ params }: Props) {\r\n    const { username } = await params\r\n    const bioPage = await db.bioPage.findUnique({\r\n        where: { username },\r\n        include: { links: { orderBy: { order: 'asc' } } }\r\n    })\r\n\r\n    if (!bioPage) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-black text-white\">\r\n                <div className=\"text-center\">\r\n                    <h1 className=\"text-4xl font-bold mb-4\">404</h1>\r\n                    <p className=\"text-gray-400\">P├ígina n├úo encontrada.</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    // Increment views (fire and forget)\r\n    // In a real app, use a separate API route or server action to avoid blocking\r\n    // await db.bioPage.update({ where: { id: bioPage.id }, data: { views: { increment: 1 } } })\r\n\r\n    const theme = THEMES[bioPage.theme as ThemeKey] || THEMES.default\r\n\r\n    return (\r\n        <div className={`min-h-screen p-6 ${theme.bg} ${theme.text}`}>\r\n            <BioTracker bioPageId={bioPage.id} />\r\n            <div className=\"max-w-md mx-auto pt-12 text-center space-y-8\">\r\n                {/* Profile Header */}\r\n                <div className=\"space-y-4\">\r\n                    <div className={`w-24 h-24 rounded-full mx-auto overflow-hidden border-4 shadow-xl ${bioPage.theme === 'light' ? 'border-gray-200' : 'border-white/10'}`}>\r\n                        {bioPage.avatarUrl ? (\r\n                            <img src={bioPage.avatarUrl} alt={bioPage.displayName || \"\"} className=\"w-full h-full object-cover\" />\r\n                        ) : (\r\n                            <div className=\"w-full h-full flex items-center justify-center text-2xl font-bold bg-gray-700\">\r\n                                {bioPage.displayName?.[0] || \"U\"}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div>\r\n                        <h1 className=\"text-2xl font-bold\">{bioPage.displayName}</h1>\r\n                        <p className={`mt-2 opacity-80 ${theme.text}`}>{bioPage.bio}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Links */}\r\n                <div className=\"space-y-4\">\r\n                    {bioPage.links.map((link) => (\r\n                        <BioLinkItem\r\n                            key={link.id}\r\n                            link={{\r\n                                ...link,\r\n                                icon: link.icon || \"\"\r\n                            }}\r\n                            bioPageId={bioPage.id}\r\n                            theme={bioPage.theme as ThemeKey}\r\n                        />\r\n                    ))}\r\n\r\n                    {bioPage.links.length === 0 && (\r\n                        <p className=\"opacity-50 italic\">Nenhum link adicionado ainda.</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"pt-12 pb-6\">\r\n                    <p className=\"text-xs opacity-60\">\r\n                        Powered by <span className=\"font-bold\">AffiliateAI</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\admin\\stats-config.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2290,2293],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2290,2293],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":133,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":133,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4723,4726],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4723,4726],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Loader2, Save } from \"lucide-react\"\r\n\r\ntype StatConfig = {\r\n    mode: \"REAL\" | \"EDITED\" | \"HIDDEN\"\r\n    value: number\r\n}\r\n\r\ntype GlobalSettings = {\r\n    users: StatConfig\r\n    products: StatConfig\r\n    publishedProducts: StatConfig\r\n    ads: StatConfig\r\n}\r\n\r\nconst DEFAULT_CONFIG: StatConfig = { mode: \"REAL\", value: 0 }\r\n\r\nexport function StatsConfig() {\r\n    const [settings, setSettings] = useState<GlobalSettings>({\r\n        users: { ...DEFAULT_CONFIG },\r\n        products: { ...DEFAULT_CONFIG },\r\n        publishedProducts: { ...DEFAULT_CONFIG },\r\n        ads: { ...DEFAULT_CONFIG },\r\n    })\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isSaving, setIsSaving] = useState(false)\r\n\r\n    useEffect(() => {\r\n        fetch(\"/api/admin/settings\")\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data && Object.keys(data).length > 0) {\r\n                    setSettings(data)\r\n                }\r\n            })\r\n            .catch(err => console.error(\"Failed to load settings\", err))\r\n            .finally(() => setIsLoading(false))\r\n    }, [])\r\n\r\n    const handleSave = async () => {\r\n        setIsSaving(true)\r\n        try {\r\n            const res = await fetch(\"/api/admin/settings\", {\r\n                method: \"PATCH\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(settings),\r\n            })\r\n\r\n            if (res.ok) {\r\n                alert(\"Configura├º├Áes salvas com sucesso!\")\r\n            } else {\r\n                alert(\"Erro ao salvar configura├º├Áes\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error saving settings:\", error)\r\n            alert(\"Erro ao salvar configura├º├Áes\")\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    const updateSetting = (key: keyof GlobalSettings, field: keyof StatConfig, value: any) => {\r\n        setSettings(prev => ({\r\n            ...prev,\r\n            [key]: {\r\n                ...prev[key],\r\n                [field]: value\r\n            }\r\n        }))\r\n    }\r\n\r\n    if (isLoading) {\r\n        return <div className=\"flex justify-center p-8\"><Loader2 className=\"animate-spin\" /></div>\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader>\r\n                <CardTitle>Configura├º├úo da Landing Page</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n                <div className=\"grid gap-6 md:grid-cols-2\">\r\n                    {/* Users Config */}\r\n                    <ConfigItem\r\n                        label=\"Usu├írios Cadastrados\"\r\n                        config={settings.users}\r\n                        onChange={(field, value) => updateSetting(\"users\", field, value)}\r\n                    />\r\n\r\n                    {/* Products Config */}\r\n                    <ConfigItem\r\n                        label=\"Produtos Adicionados\"\r\n                        config={settings.products}\r\n                        onChange={(field, value) => updateSetting(\"products\", field, value)}\r\n                    />\r\n\r\n                    {/* Published Products Config */}\r\n                    <ConfigItem\r\n                        label=\"Produtos Publicados\"\r\n                        config={settings.publishedProducts}\r\n                        onChange={(field, value) => updateSetting(\"publishedProducts\", field, value)}\r\n                    />\r\n\r\n                    {/* Ads Config */}\r\n                    <ConfigItem\r\n                        label=\"Propagandas Publicadas\"\r\n                        config={settings.ads}\r\n                        onChange={(field, value) => updateSetting(\"ads\", field, value)}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex justify-end pt-4\">\r\n                    <Button onClick={handleSave} disabled={isSaving} className=\"bg-indigo-600 hover:bg-indigo-700 text-white\">\r\n                        {isSaving ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Save className=\"mr-2 h-4 w-4\" />}\r\n                        Salvar Altera├º├Áes\r\n                    </Button>\r\n                </div>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nfunction ConfigItem({ label, config, onChange }: {\r\n    label: string,\r\n    config: StatConfig,\r\n    onChange: (field: keyof StatConfig, value: any) => void\r\n}) {\r\n    return (\r\n        <div className=\"space-y-2 p-4 border border-white/10 rounded-lg bg-white/5\">\r\n            <Label className=\"text-base font-medium text-white\">{label}</Label>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-1\">\r\n                    <Label className=\"text-xs text-gray-400\">Modo de Exibi├º├úo</Label>\r\n                    <Select\r\n                        value={config.mode}\r\n                        onValueChange={(val) => onChange(\"mode\", val)}\r\n                    >\r\n                        <SelectTrigger className=\"bg-gray-900 border-white/10\">\r\n                            <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                            <SelectItem value=\"REAL\">Valor Real (Banco de Dados)</SelectItem>\r\n                            <SelectItem value=\"EDITED\">Valor Editado (Manual)</SelectItem>\r\n                            <SelectItem value=\"HIDDEN\">N├úo Mostrar</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-1\">\r\n                    <Label className=\"text-xs text-gray-400\">Valor Manual</Label>\r\n                    <Input\r\n                        type=\"number\"\r\n                        value={config.value}\r\n                        onChange={(e) => onChange(\"value\", parseInt(e.target.value) || 0)}\r\n                        disabled={config.mode !== \"EDITED\"}\r\n                        className=\"bg-gray-900 border-white/10\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\admin\\user-edit-modal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1336,1339],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1336,1339],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Loader2 } from \"lucide-react\"\r\n\r\ntype UserEditModalProps = {\r\n    user: {\r\n        id: string\r\n        name: string | null\r\n        email: string | null\r\n        level: number\r\n        subscription: string\r\n        subscriptionExpiresAt?: string | null\r\n    }\r\n    open: boolean\r\n    onClose: () => void\r\n    onSuccess: () => void\r\n}\r\n\r\nexport function UserEditModal({ user, open, onClose, onSuccess }: UserEditModalProps) {\r\n    const [level, setLevel] = useState(user.level.toString())\r\n    const [subscription, setSubscription] = useState(user.subscription)\r\n    const [expiryType, setExpiryType] = useState<\"date\" | \"days\">(\"days\")\r\n    const [expiryDate, setExpiryDate] = useState(\"\")\r\n    const [expiryDays, setExpiryDays] = useState(\"30\")\r\n    const [isSaving, setIsSaving] = useState(false)\r\n\r\n    const handleSave = async () => {\r\n        setIsSaving(true)\r\n        try {\r\n            const body: any = {\r\n                level: parseInt(level),\r\n                subscription,\r\n            }\r\n\r\n            if (subscription === \"PAID\") {\r\n                if (expiryType === \"date\") {\r\n                    body.subscriptionExpiresAt = expiryDate\r\n                } else {\r\n                    body.subscriptionDays = parseInt(expiryDays)\r\n                }\r\n            }\r\n\r\n            const res = await fetch(`/api/admin/users/${user.id}`, {\r\n                method: \"PATCH\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(body),\r\n            })\r\n\r\n            if (res.ok) {\r\n                alert(\"Usu├írio atualizado com sucesso!\")\r\n                onSuccess()\r\n                onClose()\r\n            } else {\r\n                alert(\"Erro ao atualizar usu├írio.\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error updating user:\", error)\r\n            alert(\"Erro ao atualizar usu├írio.\")\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onClose}>\r\n            <DialogContent className=\"sm:max-w-[500px] bg-gray-900 border-white/10\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"text-white\">Editar Usu├írio</DialogTitle>\r\n                    <DialogDescription className=\"text-gray-400\">\r\n                        {user.name} ({user.email})\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"space-y-4 py-4\">\r\n                    {/* Level */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"level\" className=\"text-gray-300\">N├¡vel</Label>\r\n                        <Input\r\n                            id=\"level\"\r\n                            type=\"number\"\r\n                            min=\"1\"\r\n                            value={level}\r\n                            onChange={(e) => setLevel(e.target.value)}\r\n                            className=\"bg-white/5 border-white/10 text-white\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Subscription Type */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"subscription\" className=\"text-gray-300\">Tipo de Assinatura</Label>\r\n                        <Select value={subscription} onValueChange={setSubscription}>\r\n                            <SelectTrigger className=\"bg-white/5 border-white/10 text-white\">\r\n                                <SelectValue />\r\n                            </SelectTrigger>\r\n                            <SelectContent className=\"bg-gray-900 border-white/10\">\r\n                                <SelectItem value=\"FREE\">FREE</SelectItem>\r\n                                <SelectItem value=\"PAID\">PAID</SelectItem>\r\n                                <SelectItem value=\"LIFETIME\">LIFETIME</SelectItem>\r\n                            </SelectContent>\r\n                        </Select>\r\n                    </div>\r\n\r\n                    {/* Expiry Configuration (only for PAID) */}\r\n                    {subscription === \"PAID\" && (\r\n                        <>\r\n                            <div className=\"space-y-2\">\r\n                                <Label className=\"text-gray-300\">Configurar Vencimento</Label>\r\n                                <Select value={expiryType} onValueChange={(v: \"date\" | \"days\") => setExpiryType(v)}>\r\n                                    <SelectTrigger className=\"bg-white/5 border-white/10 text-white\">\r\n                                        <SelectValue />\r\n                                    </SelectTrigger>\r\n                                    <SelectContent className=\"bg-gray-900 border-white/10\">\r\n                                        <SelectItem value=\"days\">Por Quantidade de Dias</SelectItem>\r\n                                        <SelectItem value=\"date\">Por Data Espec├¡fica</SelectItem>\r\n                                    </SelectContent>\r\n                                </Select>\r\n                            </div>\r\n\r\n                            {expiryType === \"days\" ? (\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"expiryDays\" className=\"text-gray-300\">Quantidade de Dias</Label>\r\n                                    <Input\r\n                                        id=\"expiryDays\"\r\n                                        type=\"number\"\r\n                                        min=\"1\"\r\n                                        value={expiryDays}\r\n                                        onChange={(e) => setExpiryDays(e.target.value)}\r\n                                        className=\"bg-white/5 border-white/10 text-white\"\r\n                                        placeholder=\"30\"\r\n                                    />\r\n                                    <p className=\"text-xs text-gray-500\">\r\n                                        Vencer├í em {expiryDays} dias a partir de agora\r\n                                    </p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"expiryDate\" className=\"text-gray-300\">Data de Vencimento</Label>\r\n                                    <Input\r\n                                        id=\"expiryDate\"\r\n                                        type=\"datetime-local\"\r\n                                        value={expiryDate}\r\n                                        onChange={(e) => setExpiryDate(e.target.value)}\r\n                                        className=\"bg-white/5 border-white/10 text-white\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                <DialogFooter>\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        onClick={onClose}\r\n                        disabled={isSaving}\r\n                        className=\"text-gray-300 hover:bg-white/10\"\r\n                    >\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button\r\n                        onClick={handleSave}\r\n                        disabled={isSaving}\r\n                        className=\"bg-indigo-600 hover:bg-indigo-700 text-white\"\r\n                    >\r\n                        {isSaving ? (\r\n                            <>\r\n                                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                Salvando...\r\n                            </>\r\n                        ) : (\r\n                            \"Salvar Altera├º├Áes\"\r\n                        )}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\auth\\login-modal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Globe' is defined but never used.","line":12,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[798,801],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[798,801],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[861,864],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[861,864],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogTrigger,\r\n} from \"@/components/ui/dialog\"\r\nimport { Globe, Mail } from \"lucide-react\"\r\nimport { signIn } from \"next-auth/react\"\r\nimport { useState } from \"react\"\r\n\r\nexport function LoginModal({ children }: { children: React.ReactNode }) {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n\r\n    const handleGoogleLogin = async () => {\r\n        setIsLoading(true)\r\n        await signIn(\"google\", { callbackUrl: \"/dashboard\" })\r\n    }\r\n\r\n    const handleEmailLogin = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        setIsLoading(true)\r\n        const email = (e.currentTarget as any).email.value\r\n        const password = (e.currentTarget as any).password.value\r\n        await signIn(\"credentials\", { email, password, callbackUrl: \"/dashboard\" })\r\n    }\r\n\r\n    return (\r\n        <Dialog>\r\n            <DialogTrigger asChild>\r\n                {children}\r\n            </DialogTrigger>\r\n            <DialogContent className=\"sm:max-w-md glass border-white/10 bg-black/80 backdrop-blur-xl\">\r\n                <DialogHeader className=\"space-y-1\">\r\n                    <DialogTitle className=\"text-2xl font-bold text-center text-white\">Entrar na conta</DialogTitle>\r\n                    <DialogDescription className=\"text-center text-gray-400\">\r\n                        Escolha uma op├º├úo para continuar\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n                <div className=\"grid gap-4 py-4\">\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        onClick={handleGoogleLogin}\r\n                        disabled={isLoading}\r\n                        className=\"bg-white/5 border-white/10 hover:bg-white/10 hover:text-white text-gray-200\"\r\n                    >\r\n                        <svg className=\"mr-2 h-4 w-4\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fab\" data-icon=\"google\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 488 512\">\r\n                            <path fill=\"currentColor\" d=\"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z\"></path>\r\n                        </svg>\r\n                        Continuar com Google\r\n                    </Button>\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute inset-0 flex items-center\">\r\n                            <span className=\"w-full border-t border-white/10\" />\r\n                        </div>\r\n                        <div className=\"relative flex justify-center text-xs uppercase\">\r\n                            <span className=\"bg-transparent px-2 text-gray-400\">\r\n                                Ou continue com email\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <form onSubmit={handleEmailLogin} className=\"grid gap-2\">\r\n                        <div className=\"grid gap-1\">\r\n                            <input\r\n                                name=\"email\"\r\n                                placeholder=\"Email (admin@admin.com)\"\r\n                                className=\"flex h-9 w-full rounded-md border border-white/10 bg-white/5 px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 text-white focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                                defaultValue=\"admin@admin.com\"\r\n                                disabled={isLoading}\r\n                            />\r\n                            <input\r\n                                name=\"password\"\r\n                                type=\"password\"\r\n                                placeholder=\"Senha (admin)\"\r\n                                className=\"flex h-9 w-full rounded-md border border-white/10 bg-white/5 px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 text-white focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                                defaultValue=\"admin\"\r\n                                disabled={isLoading}\r\n                            />\r\n                        </div>\r\n                        <Button className=\"bg-indigo-600 hover:bg-indigo-700 text-white\" disabled={isLoading}>\r\n                            <Mail className=\"mr-2 h-4 w-4\" />\r\n                            Entrar com Email\r\n                        </Button>\r\n                    </form>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\bio\\bio-analytics.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BarChart' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BioLink' is defined but never used.","line":6,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { BarChart, Eye, MousePointerClick, TrendingUp } from \"lucide-react\"\r\n\r\nimport { BioPage, BioLink } from \"@/types/bio\"\r\n\r\nexport function BioAnalytics({ bioPage }: { bioPage: BioPage }) {\r\n    const totalClicks = bioPage.links.reduce((acc, link) => acc + link.clicks, 0)\r\n    const ctr = bioPage.views > 0 ? ((totalClicks / bioPage.views) * 100).toFixed(1) : \"0.0\"\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Key Metrics */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <Card className=\"bg-white/5 border-white/10\">\r\n                    <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium text-gray-400\">Visualiza├º├Áes Totais</CardTitle>\r\n                        <Eye className=\"w-4 h-4 text-blue-400\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold text-white\">{bioPage.views}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card className=\"bg-white/5 border-white/10\">\r\n                    <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium text-gray-400\">Cliques Totais</CardTitle>\r\n                        <MousePointerClick className=\"w-4 h-4 text-green-400\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold text-white\">{totalClicks}</div>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card className=\"bg-white/5 border-white/10\">\r\n                    <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium text-gray-400\">CTR (Taxa de Clique)</CardTitle>\r\n                        <TrendingUp className=\"w-4 h-4 text-purple-400\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold text-white\">{ctr}%</div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Link Performance */}\r\n            <Card className=\"bg-white/5 border-white/10\">\r\n                <CardHeader>\r\n                    <CardTitle className=\"text-white\">Desempenho dos Links</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"space-y-4\">\r\n                        {bioPage.links.map((link) => (\r\n                            <div key={link.id} className=\"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/5\">\r\n                                <div className=\"flex-1 min-w-0 mr-4\">\r\n                                    <h4 className=\"font-medium text-white truncate\">{link.title}</h4>\r\n                                    <p className=\"text-sm text-gray-400 truncate\">{link.url}</p>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"text-right\">\r\n                                        <div className=\"text-sm font-medium text-white\">{link.clicks} cliques</div>\r\n                                        <div className=\"text-xs text-gray-500\">\r\n                                            {bioPage.views > 0 ? ((link.clicks / bioPage.views) * 100).toFixed(1) : \"0.0\"}% CTR\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* Simple Bar Visualization */}\r\n                                    <div className=\"w-24 h-2 bg-gray-800 rounded-full overflow-hidden\">\r\n                                        <div\r\n                                            className=\"h-full bg-indigo-500\"\r\n                                            style={{ width: `${bioPage.views > 0 ? Math.min((link.clicks / bioPage.views) * 100, 100) : 0}%` }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        {bioPage.links.length === 0 && (\r\n                            <div className=\"text-center text-gray-500 py-8\">\r\n                                Nenhum link para mostrar dados.\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\bio\\bio-link-item.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\bio\\bio-tracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\bio\\link-editor.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Pencil' is defined but never used.","line":21,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":38}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport {\r\n    DndContext,\r\n    closestCenter,\r\n    KeyboardSensor,\r\n    PointerSensor,\r\n    useSensor,\r\n    useSensors,\r\n    DragEndEvent\r\n} from \"@dnd-kit/core\"\r\nimport {\r\n    arrayMove,\r\n    SortableContext,\r\n    sortableKeyboardCoordinates,\r\n    useSortable,\r\n    verticalListSortingStrategy\r\n} from \"@dnd-kit/sortable\"\r\nimport { CSS } from \"@dnd-kit/utilities\"\r\nimport { GripVertical, Trash2, Pencil } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card } from \"@/components/ui/card\"\r\n\r\nimport { BioLink } from \"@/types/bio\"\r\n\r\ninterface LinkEditorProps {\r\n    links: BioLink[]\r\n    onReorder: (links: BioLink[]) => void\r\n    onDelete: (id: string) => void\r\n}\r\n\r\nfunction SortableLink({ link, onDelete }: { link: BioLink, onDelete: (id: string) => void }) {\r\n    const {\r\n        attributes,\r\n        listeners,\r\n        setNodeRef,\r\n        transform,\r\n        transition,\r\n        isDragging\r\n    } = useSortable({ id: link.id })\r\n\r\n    const style = {\r\n        transform: CSS.Transform.toString(transform),\r\n        transition,\r\n        zIndex: isDragging ? 10 : 1,\r\n        opacity: isDragging ? 0.5 : 1\r\n    }\r\n\r\n    return (\r\n        <div ref={setNodeRef} style={style} className=\"mb-3\">\r\n            <Card className=\"p-4 flex items-center gap-4 bg-white/5 border-white/10 hover:border-white/20 transition-colors\">\r\n                <div {...attributes} {...listeners} className=\"cursor-move text-gray-500 hover:text-white transition-colors\">\r\n                    <GripVertical className=\"w-5 h-5\" />\r\n                </div>\r\n\r\n                <div className=\"flex-1 min-w-0\">\r\n                    <h4 className=\"font-medium text-white truncate\">{link.title}</h4>\r\n                    <p className=\"text-sm text-gray-400 truncate\">{link.url}</p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                    {/* Future: Edit Button */}\r\n                    {/* <Button variant=\"ghost\" size=\"icon\" className=\"text-gray-400 hover:text-white\">\r\n                        <Pencil className=\"w-4 h-4\" />\r\n                    </Button> */}\r\n\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className=\"text-red-400 hover:bg-red-500/10 hover:text-red-300\"\r\n                        onClick={() => onDelete(link.id)}\r\n                    >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                    </Button>\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function LinkEditor({ links, onReorder, onDelete }: LinkEditorProps) {\r\n    const sensors = useSensors(\r\n        useSensor(PointerSensor),\r\n        useSensor(KeyboardSensor, {\r\n            coordinateGetter: sortableKeyboardCoordinates,\r\n        })\r\n    )\r\n\r\n    function handleDragEnd(event: DragEndEvent) {\r\n        const { active, over } = event\r\n\r\n        if (over && active.id !== over.id) {\r\n            const oldIndex = links.findIndex((item) => item.id === active.id)\r\n            const newIndex = links.findIndex((item) => item.id === over.id)\r\n\r\n            const newLinks = arrayMove(links, oldIndex, newIndex)\r\n\r\n            // Update order property\r\n            const updatedLinks = newLinks.map((link, index) => ({\r\n                ...link,\r\n                order: index\r\n            }))\r\n\r\n            onReorder(updatedLinks)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DndContext\r\n            sensors={sensors}\r\n            collisionDetection={closestCenter}\r\n            onDragEnd={handleDragEnd}\r\n        >\r\n            <SortableContext\r\n                items={links.map(l => l.id)}\r\n                strategy={verticalListSortingStrategy}\r\n            >\r\n                <div className=\"space-y-3\">\r\n                    {links.map((link) => (\r\n                        <SortableLink key={link.id} link={link} onDelete={onDelete} />\r\n                    ))}\r\n                </div>\r\n            </SortableContext>\r\n        </DndContext>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\campaigns\\campaign-card.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BarChart3' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'id' is defined but never used.","line":20,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":7}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { BarChart3, PauseCircle, PlayCircle, Trash2 } from \"lucide-react\"\r\n\r\ninterface CampaignCardProps {\r\n    id: string\r\n    name: string\r\n    platform: string\r\n    status: \"active\" | \"paused\" | \"ended\"\r\n    clicks: number\r\n    conversions: number\r\n    spent: string\r\n    revenue: string\r\n    onToggleStatus: () => void\r\n    onDelete?: () => void\r\n}\r\n\r\nexport function CampaignCard({\r\n    id,\r\n    name,\r\n    platform,\r\n    status,\r\n    clicks,\r\n    conversions,\r\n    spent,\r\n    revenue,\r\n    onToggleStatus,\r\n    onDelete,\r\n}: CampaignCardProps) {\r\n    const isActive = status === \"active\"\r\n\r\n    return (\r\n        <Card className=\"hover-lift animate-fade-in border-white/10 hover:border-indigo-500/50 transition-all duration-300 glass\">\r\n            <CardHeader className=\"flex flex-row items-start justify-between space-y-0 pb-3 bg-white/5 border-b border-white/5\">\r\n                <div className=\"space-y-2 flex-1\">\r\n                    <CardTitle className=\"text-base font-semibold text-white line-clamp-1\">\r\n                        {name}\r\n                    </CardTitle>\r\n                    <div className=\"flex items-center gap-2 flex-wrap\">\r\n                        <Badge variant=\"outline\" className=\"border-white/20 text-gray-300 font-medium\">\r\n                            {platform}\r\n                        </Badge>\r\n                        <Badge\r\n                            className={`${isActive\r\n                                ? \"bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 border-0 shadow-sm text-white\"\r\n                                : \"bg-white/10 text-gray-400 border-0\"\r\n                                } font-medium`}\r\n                        >\r\n                            {isActive ? \"ÔùÅ Ativo\" : \"Ôùï Pausado\"}\r\n                        </Badge>\r\n                    </div>\r\n                </div>\r\n            </CardHeader>\r\n            <CardContent className=\"py-4\">\r\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div className=\"space-y-1\">\r\n                        <p className=\"text-gray-400 text-xs font-medium\">Cliques</p>\r\n                        <p className=\"font-bold text-lg text-white\">{clicks.toLocaleString()}</p>\r\n                    </div>\r\n                    <div className=\"space-y-1\">\r\n                        <p className=\"text-gray-400 text-xs font-medium\">Convers├Áes</p>\r\n                        <p className=\"font-bold text-lg text-indigo-400\">{conversions}</p>\r\n                    </div>\r\n                    <div className=\"space-y-1\">\r\n                        <p className=\"text-gray-400 text-xs font-medium\">Gasto</p>\r\n                        <p className=\"font-semibold text-gray-200\">{spent}</p>\r\n                    </div>\r\n                    <div className=\"space-y-1\">\r\n                        <p className=\"text-gray-400 text-xs font-medium\">Receita</p>\r\n                        <p className=\"font-bold text-lg bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent\">\r\n                            {revenue}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </CardContent>\r\n            <CardFooter className=\"flex justify-between border-t border-white/10 p-4 bg-white/5\">\r\n                {onDelete && (\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"text-gray-400 hover:text-red-400 hover:bg-red-500/10 transition-all\"\r\n                        onClick={onDelete}\r\n                    >\r\n                        <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                        Excluir\r\n                    </Button>\r\n                )}\r\n                <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={onToggleStatus}\r\n                    className={`ml-auto ${isActive\r\n                        ? \"text-amber-400 hover:text-amber-300 hover:bg-amber-500/10 border-amber-500/20\"\r\n                        : \"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10 border-emerald-500/20\"\r\n                        } transition-all font-medium bg-transparent`}\r\n                >\r\n                    {isActive ? (\r\n                        <>\r\n                            <PauseCircle className=\"w-4 h-4 mr-2\" />\r\n                            Pausar\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <PlayCircle className=\"w-4 h-4 mr-2\" />\r\n                            Ativar\r\n                        </>\r\n                    )}\r\n                </Button>\r\n            </CardFooter>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\campaigns\\create-campaign-modal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Copy' is defined but never used.","line":11,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":44},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used.","line":11,"column":46,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":51},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ImageIcon' is defined but never used.","line":11,"column":62,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":71}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { generateCopyAction } from \"@/app/actions\"\r\nimport { Megaphone, Sparkles, Loader2, Copy, Check, Image as ImageIcon } from \"lucide-react\"\r\nimport { toast } from \"sonner\"\r\nimport { ImagePicker } from \"@/components/creatives/image-picker\"\r\n\r\ninterface CreateCampaignModalProps {\r\n    isOpen: boolean\r\n    onClose: () => void\r\n    product: {\r\n        id: string\r\n        title: string\r\n        description?: string\r\n        url: string\r\n        imageUrl?: string\r\n    }\r\n}\r\n\r\nexport function CreateCampaignModal({ isOpen, onClose, product }: CreateCampaignModalProps) {\r\n    const [platform, setPlatform] = useState(\"google_ads\")\r\n    const [campaignName, setCampaignName] = useState(`Campanha - ${product.title}`)\r\n    const [dailyBudget, setDailyBudget] = useState(\"20.00\")\r\n\r\n    const [adHeadlines, setAdHeadlines] = useState<string[]>([])\r\n    const [adDescriptions, setAdDescriptions] = useState<string[]>([])\r\n    const [isGenerating, setIsGenerating] = useState(false)\r\n    const [isSaving, setIsSaving] = useState(false)\r\n    const [selectedImage, setSelectedImage] = useState<string>(product.imageUrl || \"\")\r\n\r\n    const handleGenerateCopy = async () => {\r\n        setIsGenerating(true)\r\n        try {\r\n            // We'll use the existing action but might need to parse the result if it returns a single string\r\n            // For now, let's assume the action returns a string and we split it manually or ask for JSON\r\n            // To keep it simple and robust, we'll just generate a block of text and let the user edit\r\n\r\n            const copy = await generateCopyAction(product.title, product.description || \"\")\r\n\r\n            // Simple heuristic to split into headlines and descriptions if possible\r\n            // Or just put everything in description for now\r\n            setAdDescriptions([copy || \"\"])\r\n            setAdHeadlines([`Compre ${product.title}`, \"Oferta Imperd├¡vel\", \"Melhor Pre├ºo Garantido\"])\r\n\r\n        } catch (error) {\r\n            console.error(\"Failed to generate copy\", error)\r\n            toast.error(\"Falha ao gerar copy com IA\")\r\n        } finally {\r\n            setIsGenerating(false)\r\n        }\r\n    }\r\n\r\n    const handleCreateCampaign = async () => {\r\n        setIsSaving(true)\r\n        try {\r\n            const res = await fetch(\"/api/campaigns/create\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    productId: product.id,\r\n                    platform,\r\n                    name: campaignName,\r\n                    budget: parseFloat(dailyBudget),\r\n                    headlines: adHeadlines,\r\n                    descriptions: adDescriptions,\r\n                    imageUrl: selectedImage\r\n                })\r\n            })\r\n\r\n            if (res.ok) {\r\n                toast.success(\"Campanha criada com sucesso!\")\r\n                onClose()\r\n            } else {\r\n                const data = await res.json()\r\n                toast.error(data.message || \"Erro ao criar campanha\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error creating campaign\", error)\r\n            toast.error(\"Erro ao conectar com o servidor\")\r\n        } finally {\r\n            setIsSaving(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={onClose}>\r\n            <DialogContent className=\"sm:max-w-[600px] bg-[#0f172a] border-white/10 text-white\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"flex items-center gap-2 text-xl\">\r\n                        <Megaphone className=\"w-5 h-5 text-indigo-400\" />\r\n                        Promover Produto\r\n                    </DialogTitle>\r\n                    <DialogDescription className=\"text-gray-400\">\r\n                        Crie uma campanha de an├║ncios para <strong>{product.title}</strong> em segundos.\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"grid gap-6 py-4\">\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Plataforma</Label>\r\n                            <Select value={platform} onValueChange={setPlatform}>\r\n                                <SelectTrigger className=\"bg-white/5 border-white/10 text-white\">\r\n                                    <SelectValue />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"google_ads\">Google Ads</SelectItem>\r\n                                    <SelectItem value=\"tiktok_ads\">TikTok Ads</SelectItem>\r\n                                    <SelectItem value=\"meta_ads\">Meta Ads</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Or├ºamento Di├írio (R$)</Label>\r\n                            <Input\r\n                                type=\"number\"\r\n                                value={dailyBudget}\r\n                                onChange={(e) => setDailyBudget(e.target.value)}\r\n                                className=\"bg-white/5 border-white/10 text-white\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label>Nome da Campanha</Label>\r\n                        <Input\r\n                            value={campaignName}\r\n                            onChange={(e) => setCampaignName(e.target.value)}\r\n                            className=\"bg-white/5 border-white/10 text-white\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label>Imagem do An├║ncio</Label>\r\n                        <ImagePicker\r\n                            value={selectedImage}\r\n                            onChange={setSelectedImage}\r\n                            label=\"Selecionar Criativo da Galeria\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4 border-t border-white/10 pt-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <Label className=\"text-base font-semibold text-indigo-300\">Criativo do An├║ncio (IA)</Label>\r\n                            <Button\r\n                                size=\"sm\"\r\n                                onClick={handleGenerateCopy}\r\n                                disabled={isGenerating}\r\n                                className=\"bg-indigo-600 hover:bg-indigo-700 text-white\"\r\n                            >\r\n                                {isGenerating ? (\r\n                                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                ) : (\r\n                                    <Sparkles className=\"w-4 h-4 mr-2\" />\r\n                                )}\r\n                                Gerar Copy\r\n                            </Button>\r\n                        </div>\r\n\r\n                        {adHeadlines.length > 0 && (\r\n                            <div className=\"space-y-3 animate-fade-in\">\r\n                                <div className=\"space-y-2\">\r\n                                    <Label className=\"text-xs uppercase text-gray-500\">T├¡tulos Sugeridos</Label>\r\n                                    <div className=\"grid gap-2\">\r\n                                        {adHeadlines.map((headline, i) => (\r\n                                            <div key={i} className=\"flex gap-2\">\r\n                                                <Input value={headline} readOnly className=\"bg-white/5 border-white/10 text-sm h-9\" />\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <Label className=\"text-xs uppercase text-gray-500\">Descri├º├úo do An├║ncio</Label>\r\n                                    <Textarea\r\n                                        value={adDescriptions[0]}\r\n                                        onChange={(e) => {\r\n                                            const newDesc = [...adDescriptions]\r\n                                            newDesc[0] = e.target.value\r\n                                            setAdDescriptions(newDesc)\r\n                                        }}\r\n                                        className=\"bg-white/5 border-white/10 text-sm min-h-[100px]\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <DialogFooter>\r\n                    <Button variant=\"ghost\" onClick={onClose} className=\"text-gray-400 hover:text-white\">Cancelar</Button>\r\n                    <Button onClick={handleCreateCampaign} disabled={isSaving} className=\"bg-emerald-600 hover:bg-emerald-700 text-white\">\r\n                        {isSaving && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\r\n                        Criar Campanha\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\chat\\customer-chat.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\chat\\internal-chat.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MessageCircle' is defined but never used.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { MessageCircle, X, Send, Loader2, Sparkles } from \"lucide-react\"\r\n\r\ntype Message = {\r\n    role: \"user\" | \"assistant\"\r\n    content: string\r\n}\r\n\r\nexport function InternalChat() {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const [messages, setMessages] = useState<Message[]>([\r\n        {\r\n            role: \"assistant\",\r\n            content: \"Ol├í! Sou seu assistente de marketing. Como posso ajudar voc├¬ hoje?\"\r\n        }\r\n    ])\r\n    const [input, setInput] = useState(\"\")\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const messagesEndRef = useRef<HTMLDivElement>(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n    useEffect(() => {\r\n        scrollToBottom()\r\n    }, [messages])\r\n\r\n    const handleSend = async () => {\r\n        if (!input.trim() || isLoading) return\r\n\r\n        const userMessage: Message = { role: \"user\", content: input }\r\n        setMessages(prev => [...prev, userMessage])\r\n        setInput(\"\")\r\n        setIsLoading(true)\r\n\r\n        try {\r\n            const res = await fetch(\"/api/chat/internal\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ messages: [...messages, userMessage] })\r\n            })\r\n\r\n            if (!res.ok) throw new Error(\"Failed to get response\")\r\n\r\n            const data = await res.json()\r\n            setMessages(prev => [...prev, { role: \"assistant\", content: data.message }])\r\n        } catch (error) {\r\n            console.error(\"Chat error:\", error)\r\n            setMessages(prev => [...prev, {\r\n                role: \"assistant\",\r\n                content: \"Desculpe, ocorreu um erro. Verifique se sua chave OpenAI est├í configurada em Configura├º├Áes.\"\r\n            }])\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* Floating Button */}\r\n            {!isOpen && (\r\n                <Button\r\n                    onClick={() => setIsOpen(true)}\r\n                    className=\"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-indigo-600 hover:bg-indigo-700 z-50\"\r\n                    size=\"icon\"\r\n                >\r\n                    <Sparkles className=\"h-6 w-6 text-white\" />\r\n                </Button>\r\n            )}\r\n\r\n            {/* Chat Window */}\r\n            {isOpen && (\r\n                <Card className=\"fixed bottom-6 right-6 w-96 h-[500px] flex flex-col shadow-2xl z-50 glass border-white/10 bg-black/90 backdrop-blur-xl\">\r\n                    {/* Header */}\r\n                    <div className=\"flex items-center justify-between p-4 border-b border-white/10\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Sparkles className=\"h-5 w-5 text-indigo-400\" />\r\n                            <h3 className=\"font-semibold text-white\">Assistente IA</h3>\r\n                        </div>\r\n                        <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            onClick={() => setIsOpen(false)}\r\n                            className=\"hover:bg-white/10 text-gray-400\"\r\n                        >\r\n                            <X className=\"h-4 w-4\" />\r\n                        </Button>\r\n                    </div>\r\n\r\n                    {/* Messages */}\r\n                    <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n                        {messages.map((msg, idx) => (\r\n                            <div\r\n                                key={idx}\r\n                                className={`flex ${msg.role === \"user\" ? \"justify-end\" : \"justify-start\"}`}\r\n                            >\r\n                                <div\r\n                                    className={`max-w-[80%] rounded-lg px-4 py-2 ${msg.role === \"user\"\r\n                                            ? \"bg-indigo-600 text-white\"\r\n                                            : \"bg-white/10 text-gray-200\"\r\n                                        }`}\r\n                                >\r\n                                    <p className=\"text-sm whitespace-pre-wrap\">{msg.content}</p>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        {isLoading && (\r\n                            <div className=\"flex justify-start\">\r\n                                <div className=\"bg-white/10 rounded-lg px-4 py-2\">\r\n                                    <Loader2 className=\"h-4 w-4 animate-spin text-indigo-400\" />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        <div ref={messagesEndRef} />\r\n                    </div>\r\n\r\n                    {/* Input */}\r\n                    <div className=\"p-4 border-t border-white/10\">\r\n                        <div className=\"flex gap-2\">\r\n                            <Input\r\n                                value={input}\r\n                                onChange={(e) => setInput(e.target.value)}\r\n                                onKeyPress={(e) => e.key === \"Enter\" && handleSend()}\r\n                                placeholder=\"Digite sua mensagem...\"\r\n                                className=\"bg-white/5 border-white/10 text-white placeholder:text-gray-500\"\r\n                                disabled={isLoading}\r\n                            />\r\n                            <Button\r\n                                onClick={handleSend}\r\n                                disabled={isLoading || !input.trim()}\r\n                                className=\"bg-indigo-600 hover:bg-indigo-700\"\r\n                                size=\"icon\"\r\n                            >\r\n                                <Send className=\"h-4 w-4\" />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\creatives\\ad-canvas.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[578,581],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[578,581],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'activeTab' is assigned a value but never used.","line":24,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1704,1707],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1704,1707],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"@/components/ui/tabs\"\r\nimport { Image as ImageIcon, Type, Layout, Wand2, Loader2 } from \"lucide-react\"\r\nimport { generateImageAction } from \"@/app/actions\"\r\n\r\nimport { VideoGenerator } from \"@/components/creatives/video-generator\"\r\n\r\ninterface AdCanvasProps {\r\n    onUpdate: (data: any) => void\r\n}\r\n\r\nexport function AdCanvas({ onUpdate }: AdCanvasProps) {\r\n    const [headline, setHeadline] = useState(\"Seu T├¡tulo Incr├¡vel Aqui\")\r\n    const [description, setDescription] = useState(\"Descri├º├úo persuasiva do seu produto vai aqui.\")\r\n    const [cta, setCta] = useState(\"Saiba Mais\")\r\n    const [image, setImage] = useState<string | null>(null)\r\n    const [isGenerating, setIsGenerating] = useState(false)\r\n    const [activeTab, setActiveTab] = useState(\"image\")\r\n\r\n    const handleUpdate = (key: string, value: string) => {\r\n        if (key === \"headline\") setHeadline(value)\r\n        if (key === \"description\") setDescription(value)\r\n        if (key === \"cta\") setCta(value)\r\n\r\n        onUpdate({ headline, description, cta, image, [key]: value })\r\n    }\r\n\r\n    const handleGenerateImage = async () => {\r\n        setIsGenerating(true)\r\n        try {\r\n            const newImageUrl = await generateImageAction(headline)\r\n            if (newImageUrl) {\r\n                setImage(newImageUrl)\r\n                onUpdate({ headline, description, cta, image: newImageUrl })\r\n            }\r\n        } catch (error: any) {\r\n            console.error(error)\r\n            alert(error.message || \"Erro ao gerar imagem.\")\r\n        } finally {\r\n            setIsGenerating(false)\r\n        }\r\n    }\r\n\r\n    const handleScriptGenerated = (script: string) => {\r\n        onUpdate({ script, type: \"video\" })\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <Tabs defaultValue=\"image\" className=\"w-full\" onValueChange={setActiveTab}>\r\n                <TabsList className=\"grid w-full grid-cols-2 mb-4\">\r\n                    <TabsTrigger value=\"image\">An├║ncio de Imagem</TabsTrigger>\r\n                    <TabsTrigger value=\"video\">Roteiro de V├¡deo</TabsTrigger>\r\n                </TabsList>\r\n\r\n                <TabsContent value=\"image\">\r\n                    <Card className=\"p-6\">\r\n                        <div className=\"space-y-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <h3 className=\"text-lg font-semibold\">Editor de Criativo</h3>\r\n                                <Button variant=\"outline\" size=\"sm\" onClick={handleGenerateImage} disabled={isGenerating}>\r\n                                    {isGenerating ? (\r\n                                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                    ) : (\r\n                                        <Wand2 className=\"w-4 h-4 mr-2\" />\r\n                                    )}\r\n                                    {isGenerating ? \"Gerando...\" : \"Gerar Imagem com IA\"}\r\n                                </Button>\r\n                            </div>\r\n\r\n                            <div className=\"grid gap-4\">\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label htmlFor=\"headline\">T├¡tulo Principal</Label>\r\n                                    <Input\r\n                                        id=\"headline\"\r\n                                        value={headline}\r\n                                        onChange={(e) => handleUpdate(\"headline\", e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label htmlFor=\"description\">Texto do An├║ncio</Label>\r\n                                    <Input\r\n                                        id=\"description\"\r\n                                        value={description}\r\n                                        onChange={(e) => handleUpdate(\"description\", e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"grid gap-2\">\r\n                                    <Label htmlFor=\"cta\">Bot├úo (Call to Action)</Label>\r\n                                    <Input\r\n                                        id=\"cta\"\r\n                                        value={cta}\r\n                                        onChange={(e) => handleUpdate(\"cta\", e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n\r\n                    <div className=\"flex gap-2 mt-4\">\r\n                        <Button variant=\"outline\" className=\"flex-1\">\r\n                            <ImageIcon className=\"w-4 h-4 mr-2\" />\r\n                            Trocar Imagem\r\n                        </Button>\r\n                        <Button variant=\"outline\" className=\"flex-1\">\r\n                            <Type className=\"w-4 h-4 mr-2\" />\r\n                            Editar Fonte\r\n                        </Button>\r\n                        <Button variant=\"outline\" className=\"flex-1\">\r\n                            <Layout className=\"w-4 h-4 mr-2\" />\r\n                            Layout\r\n                        </Button>\r\n                    </div>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"video\">\r\n                    <Card className=\"p-6\">\r\n                        <VideoGenerator\r\n                            productName={headline}\r\n                            productDescription={description}\r\n                            onScriptGenerated={handleScriptGenerated}\r\n                        />\r\n                    </Card>\r\n                </TabsContent>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\creatives\\ad-preview.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":37,"column":25,"nodeType":"JSXOpeningElement","endLine":37,"endColumn":106}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Card } from \"@/components/ui/card\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\r\nimport { Heart, MessageCircle, Send, Bookmark, MoreHorizontal } from \"lucide-react\"\r\n\r\ninterface AdPreviewProps {\r\n    platform: \"instagram_feed\" | \"instagram_story\" | \"google_search\"\r\n    data: {\r\n        headline: string\r\n        description: string\r\n        cta: string\r\n        image: string | null\r\n    }\r\n}\r\n\r\nexport function AdPreview({ platform, data }: AdPreviewProps) {\r\n    if (platform === \"instagram_feed\") {\r\n        return (\r\n            <Card className=\"max-w-[375px] mx-auto overflow-hidden border-gray-200\">\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between p-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <Avatar className=\"w-8 h-8\">\r\n                            <AvatarImage src=\"https://github.com/shadcn.png\" />\r\n                            <AvatarFallback>CN</AvatarFallback>\r\n                        </Avatar>\r\n                        <div className=\"flex flex-col\">\r\n                            <span className=\"text-sm font-semibold\">sua_loja_oficial</span>\r\n                            <span className=\"text-xs text-muted-foreground\">Patrocinado</span>\r\n                        </div>\r\n                    </div>\r\n                    <MoreHorizontal className=\"w-5 h-5 text-gray-500\" />\r\n                </div>\r\n\r\n                {/* Image */}\r\n                <div className=\"aspect-square bg-gray-100 relative flex items-center justify-center overflow-hidden\">\r\n                    {data.image ? (\r\n                        <img src={data.image} alt=\"Ad Creative\" className=\"object-cover w-full h-full\" />\r\n                    ) : (\r\n                        <span className=\"text-gray-400\">Imagem do An├║ncio</span>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Action Bar */}\r\n                <div className=\"p-3 pb-0\">\r\n                    <div className=\"flex items-center justify-between bg-blue-50 p-2 rounded mb-3\">\r\n                        <span className=\"text-sm font-medium text-blue-900\">{data.cta}</span>\r\n                        <span className=\"text-xs text-blue-700 font-bold\"> &gt; </span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <div className=\"flex gap-4\">\r\n                            <Heart className=\"w-6 h-6\" />\r\n                            <MessageCircle className=\"w-6 h-6\" />\r\n                            <Send className=\"w-6 h-6\" />\r\n                        </div>\r\n                        <Bookmark className=\"w-6 h-6\" />\r\n                    </div>\r\n                    <div className=\"text-sm\">\r\n                        <span className=\"font-semibold mr-2\">sua_loja_oficial</span>\r\n                        {data.headline} {data.description}\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n\r\n    if (platform === \"google_search\") {\r\n        return (\r\n            <Card className=\"max-w-[600px] mx-auto p-4 border-none shadow-none bg-white\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                    <span className=\"font-bold text-black text-sm\">An├║ncio</span>\r\n                    <span className=\"text-xs text-gray-500\">┬À www.sualoja.com.br/oferta</span>\r\n                </div>\r\n                <h3 className=\"text-xl text-[#1a0dab] hover:underline cursor-pointer mb-1\">\r\n                    {data.headline} | Melhor Pre├ºo Garantido\r\n                </h3>\r\n                <p className=\"text-sm text-[#4d5156] mb-4\">\r\n                    {data.description} Compre agora com frete gr├ítis e parcelamento em at├® 12x.\r\n                </p>\r\n                <div className=\"flex gap-2\">\r\n                    <span className=\"text-xs text-blue-700 hover:underline cursor-pointer\">Promo├º├Áes</span>\r\n                    <span className=\"text-xs text-blue-700 hover:underline cursor-pointer\">Novidades</span>\r\n                    <span className=\"text-xs text-blue-700 hover:underline cursor-pointer\">Contato</span>\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n\r\n    return <div>Preview n├úo dispon├¡vel</div>\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\creatives\\creative-gallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\creatives\\image-generator.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Download' is defined but never used.","line":8,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":47},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":87,"column":33,"nodeType":"JSXOpeningElement","endLine":91,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Loader2, Image as ImageIcon, Download, ExternalLink, Wand2 } from \"lucide-react\"\r\nimport { generateImageAction } from \"@/app/actions\"\r\n\r\nexport function ImageGenerator() {\r\n    const [prompt, setPrompt] = useState(\"\")\r\n    const [isGenerating, setIsGenerating] = useState(false)\r\n    const [generatedImage, setGeneratedImage] = useState<string | null>(null)\r\n\r\n    const handleGenerate = async () => {\r\n        if (!prompt) return\r\n        setIsGenerating(true)\r\n        try {\r\n            const imageUrl = await generateImageAction(prompt)\r\n            if (imageUrl) {\r\n                setGeneratedImage(imageUrl)\r\n                alert(\"Imagem gerada e salva com sucesso! (+30 XP)\")\r\n            } else {\r\n                alert(\"Falha ao gerar imagem.\")\r\n            }\r\n        } catch (error) {\r\n            console.error(error)\r\n            alert(\"Erro ao gerar imagem.\")\r\n        } finally {\r\n            setIsGenerating(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                    <ImageIcon className=\"w-5 h-5 text-purple-500\" />\r\n                    Gerador de Imagens (DALL-E 3)\r\n                </h3>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                {/* Input Area */}\r\n                <Card className=\"glass border-white/10 h-fit\">\r\n                    <div className=\"p-6 space-y-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label className=\"text-gray-300\">Prompt da Imagem</Label>\r\n                            <Textarea\r\n                                placeholder=\"Ex: Um t├¬nis de corrida futurista flutuando em um fundo neon, ilumina├º├úo cinematogr├ífica, 8k...\"\r\n                                value={prompt}\r\n                                onChange={e => setPrompt(e.target.value)}\r\n                                className=\"bg-white/5 border-white/10 text-white min-h-[150px]\"\r\n                            />\r\n                            <p className=\"text-xs text-gray-500\">\r\n                                Dica: Seja detalhado sobre luz, estilo e composi├º├úo para melhores resultados.\r\n                            </p>\r\n                        </div>\r\n                        <Button\r\n                            onClick={handleGenerate}\r\n                            disabled={isGenerating || !prompt}\r\n                            className=\"w-full bg-purple-600 hover:bg-purple-700\"\r\n                        >\r\n                            {isGenerating ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <Wand2 className=\"w-4 h-4 mr-2\" />}\r\n                            Gerar Imagem\r\n                        </Button>\r\n                    </div>\r\n                </Card>\r\n\r\n                {/* Result Area */}\r\n                <Card className=\"glass border-white/10 min-h-[400px] flex flex-col\">\r\n                    <div className=\"p-6 flex-1 flex flex-col\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h4 className=\"font-medium text-white\">Resultado</h4>\r\n                            {generatedImage && (\r\n                                <Button variant=\"outline\" size=\"sm\" asChild>\r\n                                    <a href={generatedImage} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                        <ExternalLink className=\"w-4 h-4 mr-2\" /> Abrir Original\r\n                                    </a>\r\n                                </Button>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 flex items-center justify-center bg-black/20 rounded-lg border border-white/5 overflow-hidden relative group\">\r\n                            {generatedImage ? (\r\n                                <img\r\n                                    src={generatedImage}\r\n                                    alt=\"Generated\"\r\n                                    className=\"max-w-full max-h-[400px] object-contain rounded-md shadow-2xl\"\r\n                                />\r\n                            ) : (\r\n                                <div className=\"text-center text-gray-500\">\r\n                                    <ImageIcon className=\"w-12 h-12 mx-auto mb-4 opacity-20\" />\r\n                                    <p>Sua imagem aparecer├í aqui.</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\creatives\\image-picker.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Image' is defined but never used.","line":14,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":13},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":34,"column":21,"nodeType":"JSXOpeningElement","endLine":38,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogTrigger,\r\n} from \"@/components/ui/dialog\"\r\nimport { Plus } from \"lucide-react\"\r\nimport { CreativeGallery } from \"./creative-gallery\"\r\nimport Image from \"next/image\"\r\n\r\ninterface ImagePickerProps {\r\n    value?: string\r\n    onChange: (url: string) => void\r\n    label?: string\r\n}\r\n\r\nexport function ImagePicker({ value, onChange, label = \"Selecionar Imagem\" }: ImagePickerProps) {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n\r\n    const handleSelect = (url: string) => {\r\n        onChange(url)\r\n        setIsOpen(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            {value ? (\r\n                <div className=\"relative group aspect-video rounded-lg overflow-hidden border border-white/10 bg-white/5\">\r\n                    <img\r\n                        src={value}\r\n                        alt=\"Preview\"\r\n                        className=\"w-full h-full object-cover\"\r\n                    />\r\n                    <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\r\n                        <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n                            <DialogTrigger asChild>\r\n                                <Button variant=\"secondary\" size=\"sm\">\r\n                                    Alterar\r\n                                </Button>\r\n                            </DialogTrigger>\r\n                            <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col glass border-white/10\">\r\n                                <DialogHeader>\r\n                                    <DialogTitle className=\"text-white\">Minha Galeria</DialogTitle>\r\n                                </DialogHeader>\r\n                                <div className=\"flex-1 overflow-y-auto p-1\">\r\n                                    <CreativeGallery onSelect={handleSelect} />\r\n                                </div>\r\n                            </DialogContent>\r\n                        </Dialog>\r\n                        <Button\r\n                            variant=\"destructive\"\r\n                            size=\"sm\"\r\n                            onClick={() => onChange(\"\")}\r\n                        >\r\n                            Remover\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n                    <DialogTrigger asChild>\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            className=\"w-full h-32 border-dashed border-white/10 hover:border-indigo-500/50 hover:bg-indigo-500/5 flex flex-col gap-2\"\r\n                        >\r\n                            <div className=\"bg-indigo-500/20 p-2 rounded-full\">\r\n                                <Plus className=\"w-6 h-6 text-indigo-400\" />\r\n                            </div>\r\n                            <span className=\"text-gray-400 text-sm\">{label}</span>\r\n                        </Button>\r\n                    </DialogTrigger>\r\n                    <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col glass border-white/10\">\r\n                        <DialogHeader>\r\n                            <DialogTitle className=\"text-white\">Minha Galeria</DialogTitle>\r\n                        </DialogHeader>\r\n                        <div className=\"flex-1 overflow-y-auto p-1\">\r\n                            <CreativeGallery onSelect={handleSelect} />\r\n                        </div>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\creatives\\video-generator.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Textarea' is defined but never used.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Loader2, Clapperboard, Copy, ExternalLink, Wand2 } from \"lucide-react\"\r\nimport { generateVideoScriptAction } from \"@/app/actions\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\n\r\ninterface VideoGeneratorProps {\r\n    productName: string\r\n    productDescription: string\r\n    onScriptGenerated: (script: string) => void\r\n}\r\n\r\ninterface Scene {\r\n    scene_number: number\r\n    duration: number\r\n    visual_description: string\r\n    audio_script: string\r\n}\r\n\r\nexport function VideoGenerator({ productName, productDescription, onScriptGenerated }: VideoGeneratorProps) {\r\n    const [isGenerating, setIsGenerating] = useState(false)\r\n    const [script, setScript] = useState<Scene[] | null>(null)\r\n\r\n    const handleGenerate = async () => {\r\n        setIsGenerating(true)\r\n        try {\r\n            const generatedScript = await generateVideoScriptAction(productName, productDescription)\r\n            setScript(generatedScript)\r\n            onScriptGenerated(JSON.stringify(generatedScript, null, 2))\r\n        } catch (error) {\r\n            console.error(error)\r\n            alert(\"Erro ao gerar roteiro.\")\r\n        } finally {\r\n            setIsGenerating(false)\r\n        }\r\n    }\r\n\r\n    const copyToClipboard = (text: string) => {\r\n        navigator.clipboard.writeText(text)\r\n        alert(\"Copiado para a ├írea de transfer├¬ncia!\")\r\n    }\r\n\r\n    const getInVideoPrompt = () => {\r\n        if (!script) return \"\"\r\n        return `Create a 30s video for ${productName}. Script: ${script.map((s) => s.audio_script).join(\" \")}`\r\n    }\r\n\r\n    const getHeyGenPrompt = () => {\r\n        if (!script) return \"\"\r\n        return script.map((s) => s.audio_script).join(\" \")\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                    <Clapperboard className=\"w-5 h-5 text-indigo-500\" />\r\n                    Gerador de Roteiro de V├¡deo\r\n                </h3>\r\n                <Button onClick={handleGenerate} disabled={isGenerating || !productName}>\r\n                    {isGenerating ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <Wand2 className=\"w-4 h-4 mr-2\" />}\r\n                    Gerar Roteiro\r\n                </Button>\r\n            </div>\r\n\r\n            {script && (\r\n                <div className=\"space-y-6\">\r\n                    <ScrollArea className=\"h-[400px] rounded-md border p-4 bg-gray-50\">\r\n                        <div className=\"space-y-4\">\r\n                            {script.map((scene, index) => (\r\n                                <Card key={index} className=\"p-4 border-l-4 border-l-indigo-500\">\r\n                                    <div className=\"flex justify-between mb-2\">\r\n                                        <span className=\"font-bold text-sm text-gray-500\">Cena {scene.scene_number}</span>\r\n                                        <span className=\"text-xs bg-gray-200 px-2 py-1 rounded\">{scene.duration}s</span>\r\n                                    </div>\r\n                                    <div className=\"grid gap-4 md:grid-cols-2\">\r\n                                        <div>\r\n                                            <Label className=\"text-xs text-gray-500 uppercase\">Visual</Label>\r\n                                            <p className=\"text-sm mt-1\">{scene.visual_description}</p>\r\n                                        </div>\r\n                                        <div>\r\n                                            <Label className=\"text-xs text-gray-500 uppercase\">├üudio / Locu├º├úo</Label>\r\n                                            <p className=\"text-sm mt-1 font-medium text-indigo-700\">&quot;{scene.audio_script}&quot;</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </Card>\r\n                            ))}\r\n                        </div>\r\n                    </ScrollArea>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <h4 className=\"font-medium text-sm text-gray-500 uppercase\">Exportar para Ferramentas de IA</h4>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <Card className=\"p-4 space-y-3 hover:border-indigo-500 transition-colors\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"font-bold\">InVideo AI</span>\r\n                                    <ExternalLink className=\"w-4 h-4 text-gray-400\" />\r\n                                </div>\r\n                                <p className=\"text-xs text-gray-500\">Melhor para v├¡deos com banco de imagens e legendas din├ómicas.</p>\r\n                                <div className=\"flex gap-2\">\r\n                                    <Button variant=\"outline\" size=\"sm\" className=\"w-full\" onClick={() => copyToClipboard(getInVideoPrompt())}>\r\n                                        <Copy className=\"w-3 h-3 mr-2\" /> Copiar Prompt\r\n                                    </Button>\r\n                                    <Button size=\"sm\" className=\"w-full\" asChild>\r\n                                        <a href=\"https://invideo.io\" target=\"_blank\" rel=\"noopener noreferrer\">Abrir InVideo</a>\r\n                                    </Button>\r\n                                </div>\r\n                            </Card>\r\n\r\n                            <Card className=\"p-4 space-y-3 hover:border-indigo-500 transition-colors\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"font-bold\">HeyGen / ElevenLabs</span>\r\n                                    <ExternalLink className=\"w-4 h-4 text-gray-400\" />\r\n                                </div>\r\n                                <p className=\"text-xs text-gray-500\">Melhor para avatares falantes e narra├º├úo ultra-realista.</p>\r\n                                <div className=\"flex gap-2\">\r\n                                    <Button variant=\"outline\" size=\"sm\" className=\"w-full\" onClick={() => copyToClipboard(getHeyGenPrompt())}>\r\n                                        <Copy className=\"w-3 h-3 mr-2\" /> Copiar Texto\r\n                                    </Button>\r\n                                    <Button size=\"sm\" className=\"w-full\" asChild>\r\n                                        <a href=\"https://app.heygen.com\" target=\"_blank\" rel=\"noopener noreferrer\">Abrir HeyGen</a>\r\n                                    </Button>\r\n                                </div>\r\n                            </Card>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\dashboard\\stats-dashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":177,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":177,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8527,8530],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8527,8530],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport {\r\n    Area,\r\n    AreaChart,\r\n    CartesianGrid,\r\n    ResponsiveContainer,\r\n    Tooltip,\r\n    XAxis,\r\n    YAxis\r\n} from \"recharts\"\r\nimport {\r\n    ArrowUpRight,\r\n    ArrowDownRight,\r\n    MousePointerClick,\r\n    DollarSign,\r\n    Target,\r\n    TrendingUp,\r\n    Activity\r\n} from \"lucide-react\"\r\nimport { StatsData } from \"@/lib/stats-service\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\n\r\nexport function StatsDashboard() {\r\n    const [data, setData] = useState<StatsData | null>(null)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        fetch(\"/api/stats\")\r\n            .then((res) => res.json())\r\n            .then((data) => setData(data))\r\n            .catch((err) => console.error(\"Failed to load stats\", err))\r\n            .finally(() => setIsLoading(false))\r\n    }, [])\r\n\r\n    if (isLoading) {\r\n        return <DashboardSkeleton />\r\n    }\r\n\r\n    if (!data) return null\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            {/* Summary Cards */}\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n                <StatCard\r\n                    title=\"Total de Cliques\"\r\n                    value={data.summary.clicks.toLocaleString()}\r\n                    icon={MousePointerClick}\r\n                    trend=\"+12.5%\"\r\n                    trendUp={true}\r\n                    description=\"vs. ├║ltimos 30 dias\"\r\n                />\r\n                <StatCard\r\n                    title=\"Convers├Áes\"\r\n                    value={data.summary.conversions.toLocaleString()}\r\n                    icon={Target}\r\n                    trend=\"+4.3%\"\r\n                    trendUp={true}\r\n                    description=\"vs. ├║ltimos 30 dias\"\r\n                />\r\n                <StatCard\r\n                    title=\"Taxa de Convers├úo (CTR)\"\r\n                    value={`${data.summary.ctr}%`}\r\n                    icon={TrendingUp}\r\n                    trend=\"-1.2%\"\r\n                    trendUp={false}\r\n                    description=\"vs. ├║ltimos 30 dias\"\r\n                />\r\n                <StatCard\r\n                    title=\"Ganhos Estimados\"\r\n                    value={`R$ ${data.summary.earnings.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}`}\r\n                    icon={DollarSign}\r\n                    trend=\"+24.5%\"\r\n                    trendUp={true}\r\n                    description=\"vs. ├║ltimos 30 dias\"\r\n                />\r\n            </div>\r\n\r\n            {/* Main Chart */}\r\n            <div className=\"grid gap-4 md:grid-cols-7\">\r\n                <Card className=\"col-span-4 glass border-white/10\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"text-white\">Performance de Vendas</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"pl-2\">\r\n                        <div className=\"h-[300px] w-full\">\r\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                <AreaChart data={data.chartData}>\r\n                                    <defs>\r\n                                        <linearGradient id=\"colorEarnings\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                            <stop offset=\"5%\" stopColor=\"#818cf8\" stopOpacity={0.3} />\r\n                                            <stop offset=\"95%\" stopColor=\"#818cf8\" stopOpacity={0} />\r\n                                        </linearGradient>\r\n                                    </defs>\r\n                                    <XAxis\r\n                                        dataKey=\"date\"\r\n                                        stroke=\"#6b7280\"\r\n                                        fontSize={12}\r\n                                        tickLine={false}\r\n                                        axisLine={false}\r\n                                    />\r\n                                    <YAxis\r\n                                        stroke=\"#6b7280\"\r\n                                        fontSize={12}\r\n                                        tickLine={false}\r\n                                        axisLine={false}\r\n                                        tickFormatter={(value) => `R$${value}`}\r\n                                    />\r\n                                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" vertical={false} />\r\n                                    <Tooltip\r\n                                        contentStyle={{ backgroundColor: '#1f2937', borderColor: '#374151', color: '#fff' }}\r\n                                        itemStyle={{ color: '#fff' }}\r\n                                        formatter={(value: number) => [`R$ ${value.toFixed(2)}`, 'Ganhos']}\r\n                                    />\r\n                                    <Area\r\n                                        type=\"monotone\"\r\n                                        dataKey=\"earnings\"\r\n                                        stroke=\"#818cf8\"\r\n                                        strokeWidth={2}\r\n                                        fillOpacity={1}\r\n                                        fill=\"url(#colorEarnings)\"\r\n                                    />\r\n                                </AreaChart>\r\n                            </ResponsiveContainer>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Recent Activity */}\r\n                <Card className=\"col-span-3 glass border-white/10\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"text-white flex items-center gap-2\">\r\n                            <Activity className=\"w-5 h-5 text-indigo-400\" />\r\n                            Atividade Recente\r\n                        </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"space-y-6\">\r\n                            {data.recentActivity.map((activity) => (\r\n                                <div key={activity.id} className=\"flex items-center\">\r\n                                    <div className={`\r\n                                        w-9 h-9 rounded-full flex items-center justify-center border\r\n                                        ${activity.type === 'conversion' ? 'bg-emerald-500/10 border-emerald-500/20 text-emerald-400' : ''}\r\n                                        ${activity.type === 'click' ? 'bg-blue-500/10 border-blue-500/20 text-blue-400' : ''}\r\n                                        ${activity.type === 'payout' ? 'bg-amber-500/10 border-amber-500/20 text-amber-400' : ''}\r\n                                    `}>\r\n                                        {activity.type === 'conversion' && <DollarSign className=\"w-4 h-4\" />}\r\n                                        {activity.type === 'click' && <MousePointerClick className=\"w-4 h-4\" />}\r\n                                        {activity.type === 'payout' && <ArrowUpRight className=\"w-4 h-4\" />}\r\n                                    </div>\r\n                                    <div className=\"ml-4 space-y-1\">\r\n                                        <p className=\"text-sm font-medium leading-none text-white\">{activity.description}</p>\r\n                                        <p className=\"text-xs text-gray-400\">\r\n                                            {new Date(activity.date).toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })}\r\n                                            {' ÔÇó '}\r\n                                            {new Date(activity.date).toLocaleDateString('pt-BR')}\r\n                                        </p>\r\n                                    </div>\r\n                                    {activity.amount && (\r\n                                        <div className={`ml-auto font-medium ${activity.amount > 0 ? 'text-emerald-400' : 'text-white'}`}>\r\n                                            {activity.amount > 0 ? '+' : ''}R$ {Math.abs(activity.amount).toFixed(2)}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction StatCard({ title, value, icon: Icon, trend, trendUp, description }: any) {\r\n    return (\r\n        <Card className=\"glass border-white/10\">\r\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium text-gray-200\">\r\n                    {title}\r\n                </CardTitle>\r\n                <Icon className=\"h-4 w-4 text-indigo-400\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n                <div className=\"text-2xl font-bold text-white\">{value}</div>\r\n                <p className=\"text-xs text-gray-400 mt-1 flex items-center\">\r\n                    <span className={trendUp ? \"text-emerald-400 flex items-center\" : \"text-red-400 flex items-center\"}>\r\n                        {trendUp ? <ArrowUpRight className=\"w-3 h-3 mr-1\" /> : <ArrowDownRight className=\"w-3 h-3 mr-1\" />}\r\n                        {trend}\r\n                    </span>\r\n                    <span className=\"ml-1 opacity-70\">{description}</span>\r\n                </p>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nfunction DashboardSkeleton() {\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n                {[1, 2, 3, 4].map((i) => (\r\n                    <Card key={i} className=\"glass border-white/10\">\r\n                        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                            <Skeleton className=\"h-4 w-[100px] bg-white/10\" />\r\n                            <Skeleton className=\"h-4 w-4 bg-white/10\" />\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <Skeleton className=\"h-8 w-[60px] bg-white/10 mb-2\" />\r\n                            <Skeleton className=\"h-3 w-[120px] bg-white/10\" />\r\n                        </CardContent>\r\n                    </Card>\r\n                ))}\r\n            </div>\r\n            <div className=\"grid gap-4 md:grid-cols-7\">\r\n                <Card className=\"col-span-4 glass border-white/10 h-[370px]\">\r\n                    <CardHeader>\r\n                        <Skeleton className=\"h-6 w-[200px] bg-white/10\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <Skeleton className=\"h-[300px] w-full bg-white/10\" />\r\n                    </CardContent>\r\n                </Card>\r\n                <Card className=\"col-span-3 glass border-white/10 h-[370px]\">\r\n                    <CardHeader>\r\n                        <Skeleton className=\"h-6 w-[150px] bg-white/10\" />\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6\">\r\n                        {[1, 2, 3, 4].map((i) => (\r\n                            <div key={i} className=\"flex items-center\">\r\n                                <Skeleton className=\"h-9 w-9 rounded-full bg-white/10\" />\r\n                                <div className=\"ml-4 space-y-2\">\r\n                                    <Skeleton className=\"h-4 w-[150px] bg-white/10\" />\r\n                                    <Skeleton className=\"h-3 w-[100px] bg-white/10\" />\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\gallery\\gallery-toolbar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Download' is defined but never used.","line":5,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":42},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'totalCount' is defined but never used.","line":32,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":32,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Search, Filter, Trash2, Download, CheckSquare, Square } from \"lucide-react\"\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\"\r\n\r\ninterface GalleryToolbarProps {\r\n    searchTerm: string\r\n    onSearchChange: (value: string) => void\r\n    filter: string\r\n    onFilterChange: (value: string) => void\r\n    selectedCount: number\r\n    totalCount: number\r\n    onSelectAll: () => void\r\n    onDeleteSelected: () => void\r\n    isAllSelected: boolean\r\n}\r\n\r\nexport function GalleryToolbar({\r\n    searchTerm,\r\n    onSearchChange,\r\n    filter,\r\n    onFilterChange,\r\n    selectedCount,\r\n    totalCount,\r\n    onSelectAll,\r\n    onDeleteSelected,\r\n    isAllSelected\r\n}: GalleryToolbarProps) {\r\n    return (\r\n        <div className=\"flex flex-col md:flex-row gap-4 items-center justify-between bg-white/5 p-4 rounded-lg border border-white/10 backdrop-blur-sm\">\r\n            <div className=\"flex items-center gap-4 w-full md:w-auto\">\r\n                <div className=\"relative flex-1 md:w-64\">\r\n                    <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400\" />\r\n                    <Input\r\n                        type=\"search\"\r\n                        placeholder=\"Buscar criativos...\"\r\n                        className=\"pl-8 bg-black/20 border-white/10 text-white placeholder:text-gray-500\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => onSearchChange(e.target.value)}\r\n                    />\r\n                </div>\r\n                <Select value={filter} onValueChange={onFilterChange}>\r\n                    <SelectTrigger className=\"w-[140px] bg-black/20 border-white/10 text-white\">\r\n                        <Filter className=\"w-4 h-4 mr-2\" />\r\n                        <SelectValue placeholder=\"Filtrar\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                        <SelectItem value=\"all\">Todos</SelectItem>\r\n                        <SelectItem value=\"image\">Imagens</SelectItem>\r\n                        <SelectItem value=\"video\">V├¡deos</SelectItem>\r\n                    </SelectContent>\r\n                </Select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 w-full md:w-auto justify-end\">\r\n                {selectedCount > 0 ? (\r\n                    <div className=\"flex items-center gap-2 animate-in fade-in slide-in-from-right-5\">\r\n                        <span className=\"text-sm text-gray-400 mr-2\">\r\n                            {selectedCount} selecionado(s)\r\n                        </span>\r\n                        <Button\r\n                            variant=\"destructive\"\r\n                            size=\"sm\"\r\n                            onClick={onDeleteSelected}\r\n                            className=\"bg-red-500/20 text-red-400 hover:bg-red-500/30 border border-red-500/30\"\r\n                        >\r\n                            <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                            Excluir\r\n                        </Button>\r\n                    </div>\r\n                ) : (\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={onSelectAll}\r\n                        className=\"text-gray-400 hover:text-white\"\r\n                    >\r\n                        {isAllSelected ? (\r\n                            <CheckSquare className=\"w-4 h-4 mr-2 text-indigo-400\" />\r\n                        ) : (\r\n                            <Square className=\"w-4 h-4 mr-2\" />\r\n                        )}\r\n                        Selecionar Todos\r\n                    </Button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\gamification\\badge-unlocked-modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\gamification\\leaderboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Trophy' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Trophy, Medal, Crown, Loader2 } from \"lucide-react\"\r\nimport { useSession } from \"next-auth/react\"\r\n\r\ninterface LeaderboardUser {\r\n    rank: number\r\n    id: string\r\n    name: string\r\n    image: string | null\r\n    xp: number\r\n    level: number\r\n    badgesCount: number\r\n}\r\n\r\nexport function Leaderboard() {\r\n    const { data: session } = useSession()\r\n    const [users, setUsers] = useState<LeaderboardUser[]>([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const fetchLeaderboard = async () => {\r\n            try {\r\n                const res = await fetch(\"/api/gamification/leaderboard\")\r\n                if (res.ok) {\r\n                    const data = await res.json()\r\n                    setUsers(data)\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch leaderboard\", error)\r\n            } finally {\r\n                setIsLoading(false)\r\n            }\r\n        }\r\n\r\n        fetchLeaderboard()\r\n    }, [])\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex justify-center py-12\">\r\n                <Loader2 className=\"w-8 h-8 animate-spin text-indigo-500\" />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            {users.map((user) => {\r\n                const isCurrentUser = session?.user?.email === user.id || (session?.user as { id?: string })?.id === user.id\r\n\r\n                return (\r\n                    <Card\r\n                        key={user.id}\r\n                        className={`border-white/10 transition-all hover:scale-[1.01] ${isCurrentUser\r\n                            ? \"bg-indigo-500/10 border-indigo-500/50\"\r\n                            : \"bg-gray-900/50\"\r\n                            }`}\r\n                    >\r\n                        <CardContent className=\"p-4 flex items-center gap-4\">\r\n                            <div className=\"flex-shrink-0 w-8 text-center font-bold text-xl text-gray-400\">\r\n                                {user.rank === 1 && <Crown className=\"w-6 h-6 text-yellow-500 mx-auto\" />}\r\n                                {user.rank === 2 && <Medal className=\"w-6 h-6 text-gray-300 mx-auto\" />}\r\n                                {user.rank === 3 && <Medal className=\"w-6 h-6 text-amber-600 mx-auto\" />}\r\n                                {user.rank > 3 && `#${user.rank}`}\r\n                            </div>\r\n\r\n                            <Avatar className=\"w-10 h-10 border-2 border-white/10\">\r\n                                <AvatarImage src={user.image || \"\"} />\r\n                                <AvatarFallback className=\"bg-indigo-600 text-white\">\r\n                                    {user.name.substring(0, 2).toUpperCase()}\r\n                                </AvatarFallback>\r\n                            </Avatar>\r\n\r\n                            <div className=\"flex-1 min-w-0\">\r\n                                <p className={`font-semibold truncate ${isCurrentUser ? \"text-indigo-400\" : \"text-white\"}`}>\r\n                                    {user.name} {isCurrentUser && \"(Voc├¬)\"}\r\n                                </p>\r\n                                <p className=\"text-xs text-gray-400\">\r\n                                    N├¡vel {user.level} ÔÇó {user.badgesCount} Conquistas\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"text-right\">\r\n                                <span className=\"font-bold text-indigo-400 block\">{user.xp.toLocaleString()} XP</span>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\gamification\\level-progress.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Progress' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport { Trophy } from \"lucide-react\"\r\nimport { calculateLevel } from \"@/lib/gamification\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface LevelProgressProps {\r\n    xp: number\r\n    className?: string\r\n    showTitle?: boolean\r\n}\r\n\r\nexport function LevelProgress({ xp, className, showTitle = true }: LevelProgressProps) {\r\n    const { currentLevel, title, progress, xpForNextLevel } = calculateLevel(xp)\r\n\r\n    return (\r\n        <div className={cn(\"space-y-2\", className)}>\r\n            <div className=\"flex justify-between items-end\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"bg-yellow-500/20 p-1.5 rounded-lg\">\r\n                        <Trophy className=\"w-4 h-4 text-yellow-500\" />\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"text-xs text-gray-400 font-medium uppercase tracking-wider\">N├¡vel {currentLevel}</div>\r\n                        {showTitle && <div className=\"text-sm font-bold text-white\">{title}</div>}\r\n                    </div>\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                    {Math.floor(xpForNextLevel)} XP para o pr├│ximo\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"relative h-2 w-full bg-gray-800 rounded-full overflow-hidden\">\r\n                <div\r\n                    className=\"absolute top-0 left-0 h-full bg-gradient-to-r from-yellow-600 to-yellow-400 transition-all duration-500 ease-out\"\r\n                    style={{ width: `${progress}%` }}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\integrations\\connection-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\integrations\\integration-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\landing\\faq-section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\landing\\pricing-section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\landing\\testimonials-section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\layout\\dashboard-layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\layout\\header.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":5,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[982,985],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[982,985],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\minha ideia\\affiliate_ai\\src\\components\\layout\\header.tsx:56:9\n  54 |\n  55 |     useEffect(() => {\n> 56 |         fetchNotifications()\n     |         ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  57 |         fetchGamification()\n  58 |\n  59 |         const interval = setInterval(() => {","line":56,"column":9,"nodeType":null,"endLine":56,"endColumn":27}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Bell, User, LogOut, X, Share2, Eye, EyeOff, UserCircle, Menu } from \"lucide-react\"\r\nimport { signOut, useSession } from \"next-auth/react\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\"\r\nimport Link from \"next/link\"\r\n\r\ntype Notification = {\r\n    id: string\r\n    title: string\r\n    message: string\r\n    type: string\r\n    read: boolean\r\n    createdAt: string\r\n}\r\n\r\nexport function Header({ onMenuClick }: { onMenuClick?: () => void }) {\r\n    const { data: session } = useSession() || { data: null }\r\n    const [notifications, setNotifications] = useState<Notification[]>([])\r\n    const [showNotifications, setShowNotifications] = useState(false)\r\n    const [unreadCount, setUnreadCount] = useState(0)\r\n    const [xpData, setXpData] = useState<any>(null)\r\n    const [showUserMenu, setShowUserMenu] = useState(false)\r\n    const [showValues, setShowValues] = useState(true)\r\n\r\n    const fetchGamification = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/gamification\")\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                setXpData(data)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching gamification:\", error)\r\n        }\r\n    }\r\n\r\n    const fetchNotifications = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/notifications\")\r\n            if (res.ok) {\r\n                const data = await res.json()\r\n                setNotifications(data)\r\n                setUnreadCount(data.filter((n: Notification) => !n.read).length)\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching notifications:\", error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchNotifications()\r\n        fetchGamification()\r\n\r\n        const interval = setInterval(() => {\r\n            fetchNotifications()\r\n            fetchGamification()\r\n        }, 30000)\r\n\r\n        return () => clearInterval(interval)\r\n    }, [])\r\n\r\n    const handleMarkAsRead = async (id: string) => {\r\n        try {\r\n            const res = await fetch(`/api/notifications?id=${id}`, { method: \"PATCH\" })\r\n            if (res.ok) {\r\n                fetchNotifications()\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error marking notification as read:\", error)\r\n        }\r\n    }\r\n\r\n    const handleDelete = async (id: string) => {\r\n        try {\r\n            const res = await fetch(`/api/notifications?id=${id}`, { method: \"DELETE\" })\r\n            if (res.ok) {\r\n                fetchNotifications()\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error deleting notification:\", error)\r\n        }\r\n    }\r\n\r\n    const getNotificationIcon = (type: string) => {\r\n        const icons: Record<string, string> = {\r\n            sale: \"­ƒÆ░\",\r\n            product: \"­ƒôª\",\r\n            post: \"­ƒô▒\",\r\n            error: \"ÔÜá´©Å\",\r\n            info: \"Ôä╣´©Å\",\r\n        }\r\n        return icons[type] || \"­ƒöö\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"sticky top-0 z-40 flex items-center justify-between p-4 border-b border-white/10 h-16 glass bg-black/50 backdrop-blur-xl\">\r\n            {/* Mobile Menu Button */}\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"md:hidden hover:bg-white/10\"\r\n                onClick={() => onMenuClick?.()}\r\n            >\r\n                <Menu className=\"h-6 w-6 text-gray-300\" />\r\n            </Button>\r\n\r\n            <div className=\"flex items-center gap-x-4 ml-auto\">\r\n                {/* Notifications Bell */}\r\n                <div className=\"relative\">\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className=\"hover:bg-white/10 relative\"\r\n                        onClick={() => setShowNotifications(!showNotifications)}\r\n                    >\r\n                        <Bell className=\"h-5 w-5 text-gray-300\" />\r\n                        {unreadCount > 0 && (\r\n                            <Badge className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-red-500 text-white text-xs\">\r\n                                {unreadCount}\r\n                            </Badge>\r\n                        )}\r\n                    </Button>\r\n\r\n                    {/* Notifications Dropdown */}\r\n                    {showNotifications && (\r\n                        <Card className=\"absolute right-0 top-12 w-[90vw] sm:w-96 max-h-[500px] overflow-y-auto border-white/10 bg-black z-[9999] shadow-2xl\">\r\n                            <div className=\"p-4 border-b border-white/10 flex justify-between items-center\">\r\n                                <h3 className=\"font-semibold text-white\">Notifica├º├Áes</h3>\r\n                                <Button\r\n                                    variant=\"ghost\"\r\n                                    size=\"icon\"\r\n                                    onClick={() => setShowNotifications(false)}\r\n                                    className=\"hover:bg-white/10\"\r\n                                >\r\n                                    <X className=\"h-4 w-4 text-gray-400\" />\r\n                                </Button>\r\n                            </div>\r\n\r\n                            <div className=\"divide-y divide-white/10\">\r\n                                {notifications.length === 0 ? (\r\n                                    <div className=\"p-8 text-center text-gray-400\">\r\n                                        Nenhuma notifica├º├úo\r\n                                    </div>\r\n                                ) : (\r\n                                    notifications.map((notification) => (\r\n                                        <div\r\n                                            key={notification.id}\r\n                                            className={`p-4 hover:bg-white/5 transition-colors ${!notification.read ? \"bg-indigo-500/10\" : \"\"\r\n                                                }`}\r\n                                        >\r\n                                            <div className=\"flex items-start gap-3\">\r\n                                                <span className=\"text-2xl\">{getNotificationIcon(notification.type)}</span>\r\n                                                <div className=\"flex-1 min-w-0\">\r\n                                                    <div className=\"flex items-start justify-between gap-2\">\r\n                                                        <h4 className=\"font-medium text-white text-sm\">{notification.title}</h4>\r\n                                                        {!notification.read && (\r\n                                                            <div className=\"h-2 w-2 rounded-full bg-indigo-500 shrink-0 mt-1\" />\r\n                                                        )}\r\n                                                    </div>\r\n                                                    <p className=\"text-sm text-gray-400 mt-1\">{notification.message}</p>\r\n                                                    <div className=\"flex items-center gap-2 mt-2\">\r\n                                                        <span className=\"text-xs text-gray-500\">\r\n                                                            {new Date(notification.createdAt).toLocaleString(\"pt-BR\")}\r\n                                                        </span>\r\n                                                        {!notification.read && (\r\n                                                            <Button\r\n                                                                variant=\"ghost\"\r\n                                                                size=\"sm\"\r\n                                                                onClick={() => handleMarkAsRead(notification.id)}\r\n                                                                className=\"text-xs h-6 px-2 text-indigo-400 hover:text-indigo-300\"\r\n                                                            >\r\n                                                                Marcar como lida\r\n                                                            </Button>\r\n                                                        )}\r\n                                                        <Button\r\n                                                            variant=\"ghost\"\r\n                                                            size=\"sm\"\r\n                                                            onClick={() => handleDelete(notification.id)}\r\n                                                            className=\"text-xs h-6 px-2 text-red-400 hover:text-red-300\"\r\n                                                        >\r\n                                                            Excluir\r\n                                                        </Button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </Card>\r\n                    )}\r\n                </div>\r\n\r\n                {/* User Menu with Gamification */}\r\n                <div className=\"relative\">\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className=\"rounded-full hover:bg-white/10 relative p-0\"\r\n                        onClick={() => setShowUserMenu(!showUserMenu)}\r\n                    >\r\n                        <Avatar className=\"h-9 w-9\">\r\n                            <AvatarImage src={session?.user?.image || undefined} />\r\n                            <AvatarFallback className=\"bg-indigo-500/20 text-indigo-400\">\r\n                                {session?.user?.name?.charAt(0).toUpperCase() || \"U\"}\r\n                            </AvatarFallback>\r\n                        </Avatar>\r\n                        {xpData && (\r\n                            <Badge className=\"absolute -bottom-1 -right-1 h-4 w-4 flex items-center justify-center p-0 bg-indigo-500 text-white text-[10px]\">\r\n                                {xpData.level}\r\n                            </Badge>\r\n                        )}\r\n                    </Button>\r\n\r\n                    {showUserMenu && xpData && (\r\n                        <Card className=\"absolute right-0 top-12 w-[90vw] sm:w-80 border-white/10 bg-black z-[9999] shadow-2xl p-4 space-y-4\">\r\n                            <div className=\"flex items-center gap-3 pb-4 border-b border-white/10\">\r\n                                <div className=\"relative h-12 w-12 rounded-full border-2 border-indigo-500/50\">\r\n                                    <Avatar className=\"h-full w-full\">\r\n                                        <AvatarImage src={session?.user?.image || undefined} />\r\n                                        <AvatarFallback className=\"bg-indigo-500/20 text-indigo-400 text-lg font-bold\">\r\n                                            {session?.user?.name?.charAt(0).toUpperCase() || \"U\"}\r\n                                        </AvatarFallback>\r\n                                    </Avatar>\r\n                                    <Badge className=\"absolute -bottom-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-indigo-500 text-white text-xs\">\r\n                                        {xpData.level}\r\n                                    </Badge>\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <h3 className=\"font-bold text-white text-sm\">{session?.user?.name || \"Usu├írio\"}</h3>\r\n                                    <p className=\"text-xs text-indigo-400\">N├¡vel {xpData.level}</p>\r\n                                    {showValues && <p className=\"text-xs text-gray-400\">{xpData.xp} XP Total</p>}\r\n                                </div>\r\n                                <Button\r\n                                    variant=\"ghost\"\r\n                                    size=\"icon\"\r\n                                    className=\"h-8 w-8 hover:bg-white/10\"\r\n                                    onClick={() => setShowValues(!showValues)}\r\n                                >\r\n                                    {showValues ? <Eye className=\"h-4 w-4 text-gray-400\" /> : <EyeOff className=\"h-4 w-4 text-gray-400\" />}\r\n                                </Button>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <div className=\"flex justify-between text-xs text-gray-400\">\r\n                                    <span>Progresso para N├¡vel {xpData.level + 1}</span>\r\n                                    {showValues && <span>{Math.round(xpData.progress)}%</span>}\r\n                                </div>\r\n                                <div className=\"h-2 w-full bg-white/10 rounded-full overflow-hidden\">\r\n                                    <div\r\n                                        className=\"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500\"\r\n                                        style={{ width: `${xpData.progress}%` }}\r\n                                    />\r\n                                </div>\r\n                                {showValues && (\r\n                                    <p className=\"text-xs text-center text-gray-500 mt-1\">\r\n                                        Faltam {Math.round(xpData.nextLevelXp - xpData.xp)} XP para o pr├│ximo n├¡vel\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                className=\"w-full justify-center gap-2 bg-indigo-500/10 border-indigo-500/50 text-indigo-400 hover:bg-indigo-500/20 hover:text-indigo-300\"\r\n                                onClick={() => {\r\n                                    const text = `­ƒÄ« Alcancei o N├¡vel ${xpData.level} com ${xpData.xp} XP no AffiliateAI! ­ƒÜÇ`\r\n                                    if (navigator.share) {\r\n                                        navigator.share({ text })\r\n                                    } else {\r\n                                        navigator.clipboard.writeText(text)\r\n                                        alert(\"Conquista copiada!\")\r\n                                    }\r\n                                }}\r\n                            >\r\n                                <Share2 className=\"h-4 w-4\" />\r\n                                Compartilhar Conquista\r\n                            </Button>\r\n\r\n                            <div className=\"pt-2 border-t border-white/10 space-y-2\">\r\n                                <Link href=\"/profile\">\r\n                                    <Button\r\n                                        variant=\"ghost\"\r\n                                        className=\"w-full justify-start text-gray-300 hover:text-white hover:bg-white/10\"\r\n                                        onClick={() => setShowUserMenu(false)}\r\n                                    >\r\n                                        <UserCircle className=\"h-4 w-4 mr-2\" />\r\n                                        Ver Perfil\r\n                                    </Button>\r\n                                </Link>\r\n                                <Button\r\n                                    variant=\"ghost\"\r\n                                    className=\"w-full justify-start text-red-400 hover:text-red-300 hover:bg-red-500/10\"\r\n                                    onClick={() => signOut({ callbackUrl: \"/\" })}\r\n                                >\r\n                                    <LogOut className=\"h-4 w-4 mr-2\" />\r\n                                    Sair da conta\r\n                                </Button>\r\n                            </div>\r\n                        </Card>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\layout\\sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'session' is assigned a value but never used.","line":109,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":109,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport {\r\n    LayoutDashboard,\r\n    ShoppingCart,\r\n    Link as LinkIcon,\r\n    Megaphone,\r\n    Settings,\r\n    BarChart3,\r\n    Globe,\r\n    Palette,\r\n    Share2,\r\n    Shield,\r\n    Cloud,\r\n    FileText,\r\n    Trophy,\r\n} from \"lucide-react\"\r\nimport { useSession } from \"next-auth/react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { LevelProgress } from \"@/components/gamification/level-progress\"\r\nimport { Logo3D } from \"@/components/ui/logo-3d\"\r\n\r\nconst routes = [\r\n    {\r\n        label: \"Vis├úo Geral\",\r\n        icon: LayoutDashboard,\r\n        href: \"/dashboard\",\r\n        color: \"text-sky-500\",\r\n    },\r\n    {\r\n        label: \"Produtos\",\r\n        icon: ShoppingCart,\r\n        href: \"/products\",\r\n        color: \"text-violet-500\",\r\n    },\r\n    {\r\n        label: \"Link na Bio\",\r\n        icon: LinkIcon,\r\n        href: \"/bio-builder\",\r\n        color: \"text-pink-700\",\r\n    },\r\n    {\r\n        label: \"Automa├º├úo Social\",\r\n        icon: Share2,\r\n        href: \"/social\",\r\n        color: \"text-emerald-500\",\r\n    },\r\n    {\r\n        label: \"Creative Studio\",\r\n        icon: Palette,\r\n        href: \"/creatives\",\r\n        color: \"text-pink-500\",\r\n    },\r\n    {\r\n        label: \"AI Studio\",\r\n        icon: FileText,\r\n        href: \"/ai-studio\",\r\n        color: \"text-purple-500\",\r\n    },\r\n    {\r\n        label: \"Campanhas\",\r\n        icon: Megaphone,\r\n        href: \"/campaigns\",\r\n        color: \"text-orange-700\",\r\n    },\r\n    {\r\n        label: \"Analytics\",\r\n        icon: BarChart3,\r\n        href: \"/analytics\",\r\n        color: \"text-emerald-500\",\r\n    },\r\n    {\r\n        label: \"Conquistas\",\r\n        icon: Trophy,\r\n        href: \"/achievements\",\r\n        color: \"text-yellow-500\",\r\n    },\r\n    {\r\n        label: \"Integra├º├Áes\",\r\n        icon: Globe,\r\n        href: \"/integrations\",\r\n        color: \"text-blue-500\",\r\n    },\r\n    {\r\n        label: \"Galeria\",\r\n        icon: Cloud,\r\n        href: \"/nitroflare-gallery\",\r\n        color: \"text-cyan-500\",\r\n    },\r\n    {\r\n        label: \"Configura├º├Áes\",\r\n        icon: Settings,\r\n        href: \"/settings\",\r\n        color: \"text-gray-500\",\r\n    },\r\n]\r\n\r\nconst adminRoute = {\r\n    label: \"Admin\",\r\n    icon: Shield,\r\n    href: \"/admin\",\r\n    color: \"text-red-500\",\r\n}\r\n\r\nexport function Sidebar({ showMobile = false, onClose }: { showMobile?: boolean, onClose?: () => void }) {\r\n    const { data: session } = useSession() || { data: null }\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n    const [userXp, setUserXp] = useState(0)\r\n    const pathname = usePathname()\r\n\r\n    useEffect(() => {\r\n        const checkAdminAndXp = async () => {\r\n            try {\r\n                const res = await fetch(\"/api/profile\")\r\n                if (res.ok) {\r\n                    const user = await res.json()\r\n                    setIsAdmin(user.role === \"ADMIN\")\r\n                    setUserXp(user.xp || 0)\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error checking admin or fetching XP:\", error)\r\n            }\r\n        }\r\n        checkAdminAndXp()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            {/* Mobile Overlay */}\r\n            {showMobile && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-black/50 z-[9998] md:hidden\"\r\n                    onClick={onClose}\r\n                />\r\n            )}\r\n\r\n            {/* Sidebar */}\r\n            <div className={cn(\r\n                \"space-y-4 py-4 flex flex-col h-full glass border-r border-white/10 text-white overflow-y-auto\",\r\n                \"fixed inset-y-0 left-0 z-[50] w-72 transform transition-transform duration-300 ease-in-out\",\r\n                showMobile ? \"translate-x-0\" : \"-translate-x-full md:translate-x-0\"\r\n            )}>\r\n                <div className=\"px-3 py-2 flex-1\">\r\n                    <Link href=\"/\" className=\"flex items-center pl-3 mb-14\">\r\n                        <Logo3D className=\"w-10 h-10 mr-3\" />\r\n                        <h1 className=\"text-2xl font-bold\">\r\n                            Affiliate<span className=\"text-yellow-500\">AI</span>\r\n                        </h1>\r\n                    </Link>\r\n                    <div className=\"space-y-1\">\r\n                        {routes.map((route) => (\r\n                            <Link\r\n                                key={route.href}\r\n                                href={route.href}\r\n                                className={cn(\r\n                                    \"text-sm group flex p-3 w-full justify-start font-medium cursor-pointer hover:text-white hover:bg-white/10 rounded-lg transition\",\r\n                                    pathname === route.href\r\n                                        ? \"text-white bg-white/10\"\r\n                                        : \"text-zinc-400\"\r\n                                )}\r\n                                onClick={() => onClose?.()}\r\n                            >\r\n                                <div className=\"flex items-center flex-1\">\r\n                                    <route.icon className={cn(\"h-5 w-5 mr-3\", route.color)} />\r\n                                    {route.label}\r\n                                </div>\r\n                            </Link>\r\n                        ))}\r\n\r\n                        {isAdmin && (\r\n                            <Link\r\n                                key={adminRoute.href}\r\n                                href={adminRoute.href}\r\n                                className={cn(\r\n                                    \"text-sm group flex p-3 w-full justify-start font-medium cursor-pointer hover:text-white hover:bg-white/10 rounded-lg transition\",\r\n                                    pathname === adminRoute.href ? \"text-white bg-white/10\" : \"text-zinc-400\"\r\n                                )}\r\n                                onClick={() => onClose?.()}\r\n                            >\r\n                                <div className=\"flex items-center flex-1\">\r\n                                    <adminRoute.icon className={cn(\"h-5 w-5 mr-3\", adminRoute.color)} />\r\n                                    {adminRoute.label}\r\n                                </div>\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Gamification Widget */}\r\n                <div className=\"px-3 mt-auto mb-4\">\r\n                    <div className=\"bg-white/5 rounded-xl p-4 border border-white/10\">\r\n                        <LevelProgress xp={userXp} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\nitroflare\\lightbox.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":72,"column":17,"nodeType":"JSXOpeningElement","endLine":76,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useEffect } from \"react\"\r\nimport { X, ChevronLeft, ChevronRight, Download, ExternalLink } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\n\r\ninterface LightboxProps {\r\n    images: Array<{\r\n        id: string\r\n        imageUrl: string | null\r\n        nitroflareUrl: string | null\r\n        headline: string\r\n    }>\r\n    currentIndex: number\r\n    onClose: () => void\r\n    onNavigate: (index: number) => void\r\n}\r\n\r\nexport function Lightbox({ images, currentIndex, onClose, onNavigate }: LightboxProps) {\r\n    const currentImage = images[currentIndex]\r\n\r\n    useEffect(() => {\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            if (e.key === 'Escape') onClose()\r\n            if (e.key === 'ArrowLeft' && currentIndex > 0) onNavigate(currentIndex - 1)\r\n            if (e.key === 'ArrowRight' && currentIndex < images.length - 1) onNavigate(currentIndex + 1)\r\n        }\r\n\r\n        window.addEventListener('keydown', handleKeyDown)\r\n        return () => window.removeEventListener('keydown', handleKeyDown)\r\n    }, [currentIndex, images.length, onClose, onNavigate])\r\n\r\n    if (!currentImage) return null\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center\">\r\n            {/* Close Button */}\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"absolute top-4 right-4 text-white hover:bg-white/10\"\r\n                onClick={onClose}\r\n            >\r\n                <X className=\"w-6 h-6\" />\r\n            </Button>\r\n\r\n            {/* Navigation Buttons */}\r\n            {currentIndex > 0 && (\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/10\"\r\n                    onClick={() => onNavigate(currentIndex - 1)}\r\n                >\r\n                    <ChevronLeft className=\"w-8 h-8\" />\r\n                </Button>\r\n            )}\r\n\r\n            {currentIndex < images.length - 1 && (\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/10\"\r\n                    onClick={() => onNavigate(currentIndex + 1)}\r\n                >\r\n                    <ChevronRight className=\"w-8 h-8\" />\r\n                </Button>\r\n            )}\r\n\r\n            {/* Image */}\r\n            <div className=\"max-w-7xl max-h-[90vh] flex flex-col items-center\">\r\n                <img\r\n                    src={currentImage.imageUrl || ''}\r\n                    alt={currentImage.headline}\r\n                    className=\"max-w-full max-h-[80vh] object-contain\"\r\n                />\r\n\r\n                {/* Image Info */}\r\n                <div className=\"mt-4 flex items-center gap-4\">\r\n                    <p className=\"text-white text-lg\">{currentImage.headline}</p>\r\n                    <div className=\"flex gap-2\">\r\n                        {currentImage.nitroflareUrl && (\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                size=\"sm\"\r\n                                onClick={() => window.open(currentImage.nitroflareUrl!, '_blank')}\r\n                            >\r\n                                <ExternalLink className=\"w-4 h-4 mr-2\" />\r\n                                Ver Original\r\n                            </Button>\r\n                        )}\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => {\r\n                                const link = document.createElement('a')\r\n                                link.href = currentImage.imageUrl || ''\r\n                                link.download = `${currentImage.headline}.png`\r\n                                link.click()\r\n                            }}\r\n                        >\r\n                            <Download className=\"w-4 h-4 mr-2\" />\r\n                            Baixar\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Counter */}\r\n                <p className=\"text-gray-400 text-sm mt-2\">\r\n                    {currentIndex + 1} / {images.length}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\nitroflare\\upload-dialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileImage' is defined but never used.","line":9,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":30},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":212,"column":37,"nodeType":"JSXOpeningElement","endLine":216,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useCallback } from \"react\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport { Upload, X, FileImage, Loader2 } from \"lucide-react\"\r\nimport { uploadToNitroflare } from \"@/lib/nitroflare\"\r\n\r\ninterface UploadDialogProps {\r\n    open: boolean\r\n    onOpenChange: (open: boolean) => void\r\n    onUploadComplete?: () => void\r\n}\r\n\r\ninterface FileWithPreview {\r\n    file: File\r\n    preview: string\r\n    progress: number\r\n    status: 'pending' | 'uploading' | 'success' | 'error'\r\n    error?: string\r\n}\r\n\r\nexport function UploadDialog({ open, onOpenChange, onUploadComplete }: UploadDialogProps) {\r\n    const [files, setFiles] = useState<FileWithPreview[]>([])\r\n    const [isDragging, setIsDragging] = useState(false)\r\n    const [isUploading, setIsUploading] = useState(false)\r\n\r\n    const handleDragOver = useCallback((e: React.DragEvent) => {\r\n        e.preventDefault()\r\n        setIsDragging(true)\r\n    }, [])\r\n\r\n    const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n        e.preventDefault()\r\n        setIsDragging(false)\r\n    }, [])\r\n\r\n    const handleDrop = useCallback((e: React.DragEvent) => {\r\n        e.preventDefault()\r\n        setIsDragging(false)\r\n\r\n        const droppedFiles = Array.from(e.dataTransfer.files).filter(file =>\r\n            file.type.startsWith('image/')\r\n        )\r\n\r\n        addFiles(droppedFiles)\r\n    }, [])\r\n\r\n    const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            const selectedFiles = Array.from(e.target.files)\r\n            addFiles(selectedFiles)\r\n        }\r\n    }\r\n\r\n    const addFiles = (newFiles: File[]) => {\r\n        const filesWithPreview: FileWithPreview[] = newFiles.map(file => ({\r\n            file,\r\n            preview: URL.createObjectURL(file),\r\n            progress: 0,\r\n            status: 'pending'\r\n        }))\r\n\r\n        setFiles(prev => [...prev, ...filesWithPreview])\r\n    }\r\n\r\n    const removeFile = (index: number) => {\r\n        setFiles(prev => {\r\n            const newFiles = [...prev]\r\n            URL.revokeObjectURL(newFiles[index].preview)\r\n            newFiles.splice(index, 1)\r\n            return newFiles\r\n        })\r\n    }\r\n\r\n    const uploadFiles = async () => {\r\n        setIsUploading(true)\r\n\r\n        for (let i = 0; i < files.length; i++) {\r\n            if (files[i].status !== 'pending') continue\r\n\r\n            // Update status to uploading\r\n            setFiles(prev => {\r\n                const newFiles = [...prev]\r\n                newFiles[i].status = 'uploading'\r\n                return newFiles\r\n            })\r\n\r\n            try {\r\n                // Try to upload to Nitroflare (optional)\r\n                const buffer = await files[i].file.arrayBuffer()\r\n                const fileBuffer = Buffer.from(buffer)\r\n                const nitroflareResult = await uploadToNitroflare(fileBuffer, files[i].file.name)\r\n\r\n                // Create FormData for file upload\r\n                const formData = new FormData()\r\n                formData.append('file', files[i].file)\r\n                if (nitroflareResult.url) {\r\n                    formData.append('nitroflareUrl', nitroflareResult.url)\r\n                }\r\n\r\n                // Save to database with file upload\r\n                const response = await fetch('/api/nitroflare/upload', {\r\n                    method: 'POST',\r\n                    body: formData // Send as FormData instead of JSON\r\n                })\r\n\r\n                if (response.ok) {\r\n                    setFiles(prev => {\r\n                        const newFiles = [...prev]\r\n                        newFiles[i].status = 'success'\r\n                        newFiles[i].progress = 100\r\n                        return newFiles\r\n                    })\r\n                } else {\r\n                    const errorData = await response.json().catch(() => ({}))\r\n                    console.error(\"Server error response:\", errorData)\r\n\r\n                    let errorMessage = errorData.error || 'Failed to save to database'\r\n\r\n                    // Append details if available\r\n                    if (errorData.details) {\r\n                        const detailsStr = typeof errorData.details === 'object'\r\n                            ? JSON.stringify(errorData.details, null, 2)\r\n                            : String(errorData.details)\r\n                        errorMessage += `\\n\\nDETALHES T├ëCNICOS:\\n${detailsStr}`\r\n                    }\r\n\r\n                    throw new Error(errorMessage)\r\n                }\r\n            } catch (error) {\r\n                console.error('Upload error:', error)\r\n                setFiles(prev => {\r\n                    const newFiles = [...prev]\r\n                    newFiles[i].status = 'error'\r\n                    newFiles[i].error = error instanceof Error ? error.message : 'Upload failed'\r\n                    return newFiles\r\n                })\r\n            }\r\n        }\r\n\r\n        setIsUploading(false)\r\n\r\n        // Check if all uploads were successful\r\n        const allSuccess = files.every(f => f.status === 'success')\r\n        if (allSuccess && onUploadComplete) {\r\n            onUploadComplete()\r\n            onOpenChange(false)\r\n            setFiles([])\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        if (!isUploading) {\r\n            files.forEach(f => URL.revokeObjectURL(f.preview))\r\n            setFiles([])\r\n            onOpenChange(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={handleClose}>\r\n            <DialogContent className=\"sm:max-w-[600px] bg-black border-white/10\">\r\n                <DialogHeader>\r\n                    <DialogTitle className=\"text-white\">Upload de Arquivos</DialogTitle>\r\n                    <DialogDescription>\r\n                        Fa├ºa upload de imagens para sua galeria\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"space-y-4\">\r\n                    {/* Drop Zone */}\r\n                    <div\r\n                        onDragOver={handleDragOver}\r\n                        onDragLeave={handleDragLeave}\r\n                        onDrop={handleDrop}\r\n                        className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${isDragging\r\n                            ? 'border-indigo-500 bg-indigo-500/10'\r\n                            : 'border-white/20 hover:border-white/40'\r\n                            }`}\r\n                    >\r\n                        <Upload className=\"w-12 h-12 mx-auto mb-4 text-gray-400\" />\r\n                        <p className=\"text-white mb-2\">Arraste arquivos aqui ou clique para selecionar</p>\r\n                        <p className=\"text-sm text-gray-400 mb-4\">Suporta: JPG, PNG, GIF, WebP</p>\r\n                        <Label htmlFor=\"file-upload\">\r\n                            <div className=\"inline-flex items-center px-4 py-2 bg-indigo-500/10 border border-indigo-500/50 text-indigo-400 rounded-md hover:bg-indigo-500/20 transition-colors cursor-pointer\">\r\n                                Selecionar Arquivos\r\n                            </div>\r\n                        </Label>\r\n                        <Input\r\n                            id=\"file-upload\"\r\n                            type=\"file\"\r\n                            multiple\r\n                            accept=\"image/*\"\r\n                            className=\"hidden\"\r\n                            onChange={handleFileSelect}\r\n                            disabled={isUploading}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* File List */}\r\n                    {files.length > 0 && (\r\n                        <div className=\"space-y-2 max-h-[300px] overflow-y-auto\">\r\n                            {files.map((fileItem, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    className=\"flex items-center gap-3 p-3 bg-white/5 rounded-lg border border-white/10\"\r\n                                >\r\n                                    <img\r\n                                        src={fileItem.preview}\r\n                                        alt={fileItem.file.name}\r\n                                        className=\"w-12 h-12 object-cover rounded\"\r\n                                    />\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <p className=\"text-sm text-white truncate\">{fileItem.file.name}</p>\r\n                                        <p className=\"text-xs text-gray-400\">\r\n                                            {(fileItem.file.size / 1024 / 1024).toFixed(2)} MB\r\n                                        </p>\r\n                                        {fileItem.status === 'uploading' && (\r\n                                            <Progress value={fileItem.progress} className=\"mt-1\" />\r\n                                        )}\r\n                                        {fileItem.status === 'error' && (\r\n                                            <p className=\"text-xs text-red-400 mt-1\">{fileItem.error}</p>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        {fileItem.status === 'success' && (\r\n                                            <div className=\"text-green-400\">Ô£ô</div>\r\n                                        )}\r\n                                        {fileItem.status === 'uploading' && (\r\n                                            <Loader2 className=\"w-4 h-4 animate-spin text-indigo-400\" />\r\n                                        )}\r\n                                        {fileItem.status === 'error' && (\r\n                                            <div className=\"text-red-400\">Ô£ù</div>\r\n                                        )}\r\n                                        {!isUploading && fileItem.status === 'pending' && (\r\n                                            <Button\r\n                                                variant=\"ghost\"\r\n                                                size=\"sm\"\r\n                                                onClick={() => removeFile(index)}\r\n                                                className=\"h-8 w-8 p-0\"\r\n                                            >\r\n                                                <X className=\"w-4 h-4\" />\r\n                                            </Button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <DialogFooter>\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        onClick={handleClose}\r\n                        disabled={isUploading}\r\n                    >\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button\r\n                        onClick={uploadFiles}\r\n                        disabled={files.length === 0 || isUploading}\r\n                    >\r\n                        {isUploading ? (\r\n                            <>\r\n                                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                Enviando...\r\n                            </>\r\n                        ) : (\r\n                            `Enviar ${files.length} ${files.length === 1 ? 'arquivo' : 'arquivos'}`\r\n                        )}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\onboarding\\welcome-tour.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\minha ideia\\affiliate_ai\\src\\components\\onboarding\\welcome-tour.tsx:49:13\n  47 |     useEffect(() => {\n  48 |         if (!hasCompletedOnboarding) {\n> 49 |             setOpen(true)\n     |             ^^^^^^^ Avoid calling setState() directly within an effect\n  50 |         }\n  51 |     }, [hasCompletedOnboarding])\n  52 |","line":49,"column":13,"nodeType":null,"endLine":49,"endColumn":20}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Dialog, DialogContent, DialogFooter, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Rocket, Package, Megaphone, Palette, CheckCircle2, ArrowRight } from \"lucide-react\"\r\n\r\ntype Step = {\r\n    title: string\r\n    description: string\r\n    icon: React.ReactNode\r\n    image?: string\r\n}\r\n\r\nconst steps: Step[] = [\r\n    {\r\n        title: \"Bem-vindo ao AffiliateAI! ­ƒÜÇ\",\r\n        description: \"Sua jornada para automatizar vendas e escalar seus resultados come├ºa agora. Vamos fazer um tour r├ípido?\",\r\n        icon: <Rocket className=\"w-12 h-12 text-indigo-500\" />,\r\n    },\r\n    {\r\n        title: \"1. Cadastre seus Produtos ­ƒôª\",\r\n        description: \"V├í em 'Produtos' para adicionar o que voc├¬ vende. Nossa IA analisar├í cada detalhe para criar conte├║dos incr├¡veis.\",\r\n        icon: <Package className=\"w-12 h-12 text-blue-500\" />,\r\n    },\r\n    {\r\n        title: \"2. Crie Campanhas e Copys ­ƒôó\",\r\n        description: \"Em 'Campanhas', gere textos persuasivos para an├║ncios, e-mails e redes sociais com um clique.\",\r\n        icon: <Megaphone className=\"w-12 h-12 text-green-500\" />,\r\n    },\r\n    {\r\n        title: \"3. Creative Studio ­ƒÄ¿\",\r\n        description: \"Use nossa IA para gerar imagens e roteiros de v├¡deo profissionais para seus an├║ncios no TikTok e Instagram.\",\r\n        icon: <Palette className=\"w-12 h-12 text-pink-500\" />,\r\n    },\r\n    {\r\n        title: \"Tudo Pronto! Ô£¿\",\r\n        description: \"Voc├¬ j├í sabe o b├ísico. Explore o menu lateral e comece a criar. Boa sorte!\",\r\n        icon: <CheckCircle2 className=\"w-12 h-12 text-emerald-500\" />,\r\n    }\r\n]\r\n\r\nexport function WelcomeTour({ hasCompletedOnboarding }: { hasCompletedOnboarding: boolean }) {\r\n    const [open, setOpen] = useState(false)\r\n    const [currentStep, setCurrentStep] = useState(0)\r\n\r\n    useEffect(() => {\r\n        if (!hasCompletedOnboarding) {\r\n            setOpen(true)\r\n        }\r\n    }, [hasCompletedOnboarding])\r\n\r\n    const handleNext = async () => {\r\n        if (currentStep < steps.length - 1) {\r\n            setCurrentStep(currentStep + 1)\r\n        } else {\r\n            // Complete onboarding\r\n            try {\r\n                await fetch(\"/api/onboarding/complete\", { method: \"POST\" })\r\n                setOpen(false)\r\n            } catch (error) {\r\n                console.error(\"Error completing onboarding:\", error)\r\n                setOpen(false)\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!open) return null\r\n\r\n    const step = steps[currentStep]\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={() => { }}>\r\n            <DialogContent className=\"sm:max-w-[500px] bg-gray-900 border-white/10 text-white\">\r\n                <DialogHeader>\r\n                    <div className=\"mx-auto mb-4 bg-white/5 p-4 rounded-full border border-white/10\">\r\n                        {step.icon}\r\n                    </div>\r\n                    <DialogTitle className=\"text-center text-2xl font-bold\">{step.title}</DialogTitle>\r\n                    <DialogDescription className=\"text-center text-gray-400 text-lg pt-2\">\r\n                        {step.description}\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"flex justify-center gap-1 mt-4 mb-4\">\r\n                    {steps.map((_, i) => (\r\n                        <div\r\n                            key={i}\r\n                            className={`h-1.5 rounded-full transition-all duration-300 ${i === currentStep ? \"w-8 bg-indigo-500\" : \"w-2 bg-gray-700\"\r\n                                }`}\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                <DialogFooter className=\"sm:justify-center\">\r\n                    <Button\r\n                        onClick={handleNext}\r\n                        className=\"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white min-w-[150px]\"\r\n                    >\r\n                        {currentStep === steps.length - 1 ? \"Come├ºar\" : (\r\n                            <span className=\"flex items-center\">\r\n                                Pr├│ximo <ArrowRight className=\"w-4 h-4 ml-2\" />\r\n                            </span>\r\n                        )}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\products\\product-card.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardContent' is defined but never used.","line":1,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'id' is defined but never used.","line":20,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":7},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":35,"column":21,"nodeType":"JSXOpeningElement","endLine":39,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { ExternalLink, Sparkles, Trash2, Megaphone } from \"lucide-react\"\r\n\r\ninterface ProductCardProps {\r\n    id: string\r\n    title: string\r\n    price: string\r\n    commission: string\r\n    platform: string\r\n    imageUrl?: string\r\n    onGenerateCopy: () => void\r\n    onViewLink: () => void\r\n    onDelete?: () => void\r\n    onPromote?: () => void\r\n}\r\n\r\nexport function ProductCard({\r\n    id,\r\n    title,\r\n    price,\r\n    commission,\r\n    platform,\r\n    imageUrl,\r\n    onGenerateCopy,\r\n    onViewLink,\r\n    onDelete,\r\n    onPromote,\r\n}: ProductCardProps) {\r\n    return (\r\n        <Card className=\"overflow-hidden flex flex-col justify-between hover-lift animate-fade-in group border-white/10 hover:border-indigo-500/50 transition-all duration-300 glass\">\r\n            <div className=\"aspect-video w-full bg-gradient-to-br from-indigo-500/10 to-purple-500/10 relative flex items-center justify-center overflow-hidden\">\r\n                {imageUrl ? (\r\n                    <img\r\n                        src={imageUrl}\r\n                        alt={title}\r\n                        className=\"object-cover w-full h-full group-hover:scale-105 transition-transform duration-300\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"text-gray-400 text-sm\">Sem Imagem</div>\r\n                )}\r\n                <Badge className=\"absolute top-3 right-3 bg-black/70 hover:bg-black/80 backdrop-blur-sm border-0 shadow-lg text-white\">\r\n                    {platform}\r\n                </Badge>\r\n            </div>\r\n            <CardHeader className=\"p-4 pb-3\">\r\n                <CardTitle className=\"text-lg line-clamp-2 font-semibold text-white group-hover:text-indigo-400 transition-colors\">\r\n                    {title}\r\n                </CardTitle>\r\n                <div className=\"flex items-center justify-between mt-3\">\r\n                    <span className=\"font-bold text-xl bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent\">\r\n                        {price}\r\n                    </span>\r\n                    <span className=\"text-sm text-emerald-400 font-semibold px-3 py-1 bg-emerald-500/10 border border-emerald-500/20 rounded-full\">\r\n                        +{commission}\r\n                    </span>\r\n                </div>\r\n            </CardHeader>\r\n            <CardFooter className=\"p-4 pt-0 flex flex-col gap-2\">\r\n                <div className=\"flex gap-2 w-full\">\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        className=\"flex-1 border-white/10 hover:bg-white/10 hover:text-white transition-all text-gray-300\"\r\n                        onClick={onViewLink}\r\n                    >\r\n                        <ExternalLink className=\"w-4 h-4 mr-2\" />\r\n                        Link\r\n                    </Button>\r\n                    <Button\r\n                        className=\"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white shadow-md hover:shadow-lg transition-all border-0\"\r\n                        onClick={onGenerateCopy}\r\n                    >\r\n                        <Sparkles className=\"w-4 h-4 mr-2\" />\r\n                        IA\r\n                    </Button>\r\n                </div>\r\n                {onPromote && (\r\n                    <Button\r\n                        className=\"w-full bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 border border-emerald-500/30\"\r\n                        onClick={onPromote}\r\n                    >\r\n                        <Megaphone className=\"w-4 h-4 mr-2\" />\r\n                        Promover\r\n                    </Button>\r\n                )}\r\n                {onDelete && (\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={onDelete}\r\n                        className=\"w-full hover:bg-red-500/10 hover:text-red-400 text-gray-400 transition-all mt-1\"\r\n                    >\r\n                        <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                        Remover\r\n                    </Button>\r\n                )}\r\n            </CardFooter>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\language-selector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\logo-3d.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\contexts\\locale-context.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\minha ideia\\affiliate_ai\\src\\contexts\\locale-context.tsx:21:13\n  19 |         const savedLocale = localStorage.getItem('locale') as Locale\n  20 |         if (savedLocale && (savedLocale === 'pt-BR' || savedLocale === 'en')) {\n> 21 |             setLocaleState(savedLocale)\n     |             ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  22 |         }\n  23 |     }, [])\n  24 |","line":21,"column":13,"nodeType":null,"endLine":21,"endColumn":27}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react'\r\nimport { Locale, getTranslation } from '@/lib/i18n'\r\n\r\ntype LocaleContextType = {\r\n    locale: Locale\r\n    setLocale: (locale: Locale) => void\r\n    t: (key: string) => string\r\n}\r\n\r\nconst LocaleContext = createContext<LocaleContextType | undefined>(undefined)\r\n\r\nexport function LocaleProvider({ children }: { children: ReactNode }) {\r\n    const [locale, setLocaleState] = useState<Locale>('pt-BR')\r\n\r\n    useEffect(() => {\r\n        // Load locale from localStorage\r\n        const savedLocale = localStorage.getItem('locale') as Locale\r\n        if (savedLocale && (savedLocale === 'pt-BR' || savedLocale === 'en')) {\r\n            setLocaleState(savedLocale)\r\n        }\r\n    }, [])\r\n\r\n    const setLocale = (newLocale: Locale) => {\r\n        setLocaleState(newLocale)\r\n        localStorage.setItem('locale', newLocale)\r\n    }\r\n\r\n    const t = (key: string) => getTranslation(locale, key)\r\n\r\n    return (\r\n        <LocaleContext.Provider value={{ locale, setLocale, t }}>\r\n            {children}\r\n        </LocaleContext.Provider>\r\n    )\r\n}\r\n\r\nexport function useLocale() {\r\n    const context = useContext(LocaleContext)\r\n    if (!context) {\r\n        throw new Error('useLocale must be used within LocaleProvider')\r\n    }\r\n    return context\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\ai-service.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":60,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":60,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":204,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":204,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import OpenAI from \"openai\"\r\n\r\nimport { load } from \"cheerio\"\r\n\r\nexport async function scrapeProduct(url: string) {\r\n    try {\r\n        const response = await fetch(url, {\r\n            headers: {\r\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\"\r\n            }\r\n        })\r\n        const html = await response.text()\r\n        const $ = load(html)\r\n\r\n        // Title Strategy\r\n        const title =\r\n            $('meta[property=\"og:title\"]').attr('content') ||\r\n            $('meta[name=\"twitter:title\"]').attr('content') ||\r\n            $('title').text() ||\r\n            \"Produto sem t├¡tulo\"\r\n\r\n        // Description Strategy\r\n        const description =\r\n            $('meta[property=\"og:description\"]').attr('content') ||\r\n            $('meta[name=\"twitter:description\"]').attr('content') ||\r\n            $('meta[name=\"description\"]').attr('content') ||\r\n            \"Sem descri├º├úo dispon├¡vel\"\r\n\r\n        // Image Strategy\r\n        const imageUrl =\r\n            $('meta[property=\"og:image\"]').attr('content') ||\r\n            $('meta[name=\"twitter:image\"]').attr('content') ||\r\n            $('link[rel=\"image_src\"]').attr('href') ||\r\n            null\r\n\r\n        // Price Strategy (Best Effort)\r\n        let price = \"R$ 0,00\"\r\n\r\n        // Try OpenGraph Price\r\n        const ogPrice = $('meta[property=\"product:price:amount\"]').attr('content')\r\n        const ogCurrency = $('meta[property=\"product:price:currency\"]').attr('content') || \"BRL\"\r\n\r\n        if (ogPrice) {\r\n            price = new Intl.NumberFormat('pt-BR', { style: 'currency', currency: ogCurrency }).format(parseFloat(ogPrice))\r\n        } else {\r\n            // Try JSON-LD\r\n            try {\r\n                $('script[type=\"application/ld+json\"]').each((_, el) => {\r\n                    const json = JSON.parse($(el).html() || '{}')\r\n                    if (json['@type'] === 'Product' || json['@type'] === 'Offer') {\r\n                        const offer = json.offers || json\r\n                        const p = offer.price || offer.lowPrice || offer.highPrice\r\n                        const c = offer.priceCurrency || \"BRL\"\r\n                        if (p) {\r\n                            price = new Intl.NumberFormat('pt-BR', { style: 'currency', currency: c }).format(parseFloat(p))\r\n                            return false // break loop\r\n                        }\r\n                    }\r\n                })\r\n            } catch (e) {\r\n                // ignore json parse errors\r\n            }\r\n        }\r\n\r\n        return {\r\n            title: title.trim(),\r\n            description: description.trim(),\r\n            images: imageUrl ? [imageUrl] : [],\r\n            imageUrl,\r\n            price,\r\n            platform: new URL(url).hostname.replace('www.', '')\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error scraping product:\", error)\r\n        return {\r\n            title: \"Erro ao ler produto\",\r\n            description: \"N├úo foi poss├¡vel acessar a URL fornecida.\",\r\n            images: [],\r\n            imageUrl: null,\r\n            price: \"R$ 0,00\",\r\n            platform: \"Generic\"\r\n        }\r\n    }\r\n}\r\n\r\nexport async function generateAdCopy(productName: string, productDescription: string, apiKey?: string, brandContext?: { name?: string, tone?: string, description?: string }) {\r\n    const token = apiKey || process.env.OPENAI_API_KEY\r\n\r\n    if (!token) {\r\n        // Fallback for demo without key\r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        return `[DEMO] Descubra o novo ${productName}! ${productDescription.slice(0, 50)}... Compre agora!`\r\n    }\r\n\r\n    const openai = new OpenAI({ apiKey: token })\r\n\r\n    try {\r\n        const completion = await openai.chat.completions.create({\r\n            messages: [\r\n                {\r\n                    role: \"system\",\r\n                    content: `Voc├¬ ├® um especialista em marketing digital. Crie uma copy curta e persuasiva para um an├║ncio.\r\n                    ${brandContext?.name ? `Nome da Marca: ${brandContext.name}` : \"\"}\r\n                    ${brandContext?.tone ? `Tom de Voz: ${brandContext.tone}` : \"\"}\r\n                    ${brandContext?.description ? `Sobre a Marca: ${brandContext.description}` : \"\"}\r\n                    `,\r\n                },\r\n                {\r\n                    role: \"user\",\r\n                    content: `Produto: ${productName}\\nDescri├º├úo: ${productDescription}\\n\\nCrie um texto para an├║ncio de Facebook:`,\r\n                },\r\n            ],\r\n            model: \"gpt-3.5-turbo\",\r\n        })\r\n\r\n        return completion.choices[0].message.content\r\n    } catch (error: unknown) {\r\n        console.error(\"OpenAI Error:\", error)\r\n\r\n        const err = error as { status?: number; code?: string }\r\n        if (err?.status === 429 || err?.code === 'insufficient_quota') {\r\n            throw new Error(\"Saldo insuficiente na OpenAI. Verifique seus cr├®ditos em platform.openai.com\")\r\n        }\r\n        if (err?.status === 401) {\r\n            throw new Error(\"Chave de API inv├ílida. Verifique em Configura├º├Áes.\")\r\n        }\r\n\r\n        throw new Error(\"Falha ao gerar copy. Tente novamente.\")\r\n    }\r\n}\r\n\r\nexport async function generateImage(prompt: string, apiKey?: string) {\r\n    const token = apiKey || process.env.OPENAI_API_KEY\r\n\r\n    if (!token) {\r\n        // Fallback for demo without key\r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        return \"https://placehold.co/1024x1024/png?text=AI+Image+Demo\"\r\n    }\r\n\r\n    const openai = new OpenAI({ apiKey: token })\r\n\r\n    try {\r\n        const response = await openai.images.generate({\r\n            model: \"dall-e-3\",\r\n            prompt: `Foto profissional de alta qualidade para publicidade: ${prompt}`,\r\n            n: 1,\r\n            size: \"1024x1024\",\r\n        })\r\n\r\n        return response.data?.[0]?.url || null\r\n    } catch (error: unknown) {\r\n        console.error(\"OpenAI Error:\", error)\r\n\r\n        const err = error as { status?: number; code?: string }\r\n        if (err?.status === 429 || err?.code === 'insufficient_quota') {\r\n            throw new Error(\"Saldo insuficiente na OpenAI. Verifique seus cr├®ditos em platform.openai.com\")\r\n        }\r\n        if (err?.status === 401) {\r\n            throw new Error(\"Chave de API inv├ílida. Verifique em Configura├º├Áes.\")\r\n        }\r\n\r\n        throw new Error(\"Falha ao gerar imagem. Tente novamente.\")\r\n    }\r\n}\r\n\r\nexport async function generateVideoScript(productName: string, description: string, apiKey?: string, brandContext?: { name?: string, tone?: string, description?: string }) {\r\n    const token = apiKey || process.env.OPENAI_API_KEY\r\n\r\n    if (!token) {\r\n        // Fallback for demo without key\r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        return [\r\n            { scene_number: 1, visual_description: \"[DEMO] Close-up do produto\", audio_script: \"Conhe├ºa a revolu├º├úo em tecnologia.\", duration: 5 },\r\n            { scene_number: 2, visual_description: \"[DEMO] Pessoa usando o produto feliz\", audio_script: \"Transforme seu dia a dia com facilidade.\", duration: 10 },\r\n            { scene_number: 3, visual_description: \"[DEMO] Logo e Call to Action\", audio_script: \"Clique no link e garanta o seu!\", duration: 5 }\r\n        ]\r\n    }\r\n\r\n    const openai = new OpenAI({ apiKey: token })\r\n\r\n    try {\r\n        const completion = await openai.chat.completions.create({\r\n            messages: [\r\n                {\r\n                    role: \"system\",\r\n                    content: `You are an expert video marketing scriptwriter. Create a 30-second video script for TikTok/Reels based on the product. Format the output as a JSON array of scenes, where each scene has: 'scene_number', 'visual_description' (what happens on screen), 'audio_script' (what is said/voiceover), and 'duration' (in seconds). Return ONLY the JSON array.\r\n                    ${brandContext?.name ? `Brand Name: ${brandContext.name}` : \"\"}\r\n                    ${brandContext?.tone ? `Tone of Voice: ${brandContext.tone}` : \"\"}\r\n                    ${brandContext?.description ? `Brand Context: ${brandContext.description}` : \"\"}\r\n                    `\r\n                },\r\n                {\r\n                    role: \"user\",\r\n                    content: `Product: ${productName}\\nDescription: ${description}\\n\\nGenerate the script.`\r\n                }\r\n            ],\r\n            model: \"gpt-3.5-turbo\",\r\n        })\r\n\r\n        const content = completion.choices[0].message.content || \"[]\"\r\n        try {\r\n            return JSON.parse(content)\r\n        } catch (e) {\r\n            // Fallback if JSON parsing fails\r\n            return [{ scene_number: 1, visual_description: \"Script generated as text\", audio_script: content, duration: 30 }]\r\n        }\r\n    } catch (error: unknown) {\r\n        console.error(\"OpenAI Error:\", error)\r\n\r\n        const err = error as { status?: number; code?: string }\r\n        if (err?.status === 429 || err?.code === 'insufficient_quota') {\r\n            throw new Error(\"Saldo insuficiente na OpenAI. Verifique seus cr├®ditos em platform.openai.com\")\r\n        }\r\n        if (err?.status === 401) {\r\n            throw new Error(\"Chave de API inv├ílida. Verifique em Configura├º├Áes.\")\r\n        }\r\n\r\n        throw new Error(\"Falha ao gerar roteiro de v├¡deo.\")\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\analytics.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[376,379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[376,379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { db } from \"./db\"\r\n\r\nexport type EventType =\r\n    | \"product_view\"\r\n    | \"product_click\"\r\n    | \"link_click\"\r\n    | \"creative_view\"\r\n    | \"creative_download\"\r\n    | \"bio_view\"\r\n    | \"post_published\"\r\n    | \"campaign_created\"\r\n\r\nexport async function trackEvent(\r\n    userId: string,\r\n    eventType: EventType,\r\n    eventName: string,\r\n    metadata?: Record<string, any>\r\n) {\r\n    try {\r\n        await db.analyticsEvent.create({\r\n            data: {\r\n                userId,\r\n                eventType,\r\n                eventName,\r\n                metadata: metadata || {},\r\n            },\r\n        })\r\n    } catch (error) {\r\n        console.error(\"[ANALYTICS_TRACK]\", error)\r\n    }\r\n}\r\n\r\nexport async function getEventsByType(userId: string, eventType: EventType, days: number = 30) {\r\n    const startDate = new Date()\r\n    startDate.setDate(startDate.getDate() - days)\r\n\r\n    return await db.analyticsEvent.findMany({\r\n        where: {\r\n            userId,\r\n            eventType,\r\n            createdAt: {\r\n                gte: startDate,\r\n            },\r\n        },\r\n        orderBy: {\r\n            createdAt: \"desc\",\r\n        },\r\n    })\r\n}\r\n\r\nexport async function getEventsByDateRange(\r\n    userId: string,\r\n    startDate: Date,\r\n    endDate: Date\r\n) {\r\n    return await db.analyticsEvent.findMany({\r\n        where: {\r\n            userId,\r\n            createdAt: {\r\n                gte: startDate,\r\n                lte: endDate,\r\n            },\r\n        },\r\n        orderBy: {\r\n            createdAt: \"asc\",\r\n        },\r\n    })\r\n}\r\n\r\nexport async function getEventStats(userId: string, days: number = 30) {\r\n    const startDate = new Date()\r\n    startDate.setDate(startDate.getDate() - days)\r\n\r\n    const events = await db.analyticsEvent.findMany({\r\n        where: {\r\n            userId,\r\n            createdAt: {\r\n                gte: startDate,\r\n            },\r\n        },\r\n        select: {\r\n            eventType: true,\r\n            createdAt: true,\r\n        },\r\n    })\r\n\r\n    // Group by event type\r\n    const eventCounts: Record<string, number> = {}\r\n    events.forEach((event) => {\r\n        eventCounts[event.eventType] = (eventCounts[event.eventType] || 0) + 1\r\n    })\r\n\r\n    // Group by date\r\n    const dailyEvents: Record<string, number> = {}\r\n    events.forEach((event) => {\r\n        const date = event.createdAt.toISOString().split(\"T\")[0]\r\n        dailyEvents[date] = (dailyEvents[date] || 0) + 1\r\n    })\r\n\r\n    return {\r\n        totalEvents: events.length,\r\n        eventCounts,\r\n        dailyEvents,\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\auth.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[339,342],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[339,342],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2482,2485],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2482,2485],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextAuthOptions } from \"next-auth\"\r\nimport { PrismaAdapter } from \"@auth/prisma-adapter\"\r\nimport GoogleProvider from \"next-auth/providers/google\"\r\nimport CredentialsProvider from \"next-auth/providers/credentials\"\r\n\r\nimport { db } from \"@/lib/db\"\r\n\r\nexport const authOptions: NextAuthOptions = {\r\n    adapter: PrismaAdapter(db) as any,\r\n    session: {\r\n        strategy: \"jwt\",\r\n    },\r\n    pages: {\r\n        signIn: \"/login\",\r\n    },\r\n    providers: [\r\n        GoogleProvider({\r\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\r\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\",\r\n            authorization: {\r\n                params: {\r\n                    prompt: \"consent\",\r\n                    access_type: \"offline\",\r\n                    response_type: \"code\"\r\n                }\r\n            }\r\n        }),\r\n        CredentialsProvider({\r\n            name: \"Credentials\",\r\n            credentials: {\r\n                email: { label: \"Email\", type: \"email\" },\r\n                password: { label: \"Password\", type: \"password\" }\r\n            },\r\n            async authorize(credentials) {\r\n                if (!credentials?.email || !credentials?.password) {\r\n                    return null\r\n                }\r\n\r\n                // Simple admin check for demo\r\n                if (credentials.email === \"admin@admin.com\" && credentials.password === \"admin\") {\r\n                    const user = await db.user.upsert({\r\n                        where: { email: \"admin@admin.com\" },\r\n                        update: {},\r\n                        create: {\r\n                            email: \"admin@admin.com\",\r\n                            name: \"Admin\",\r\n                            role: \"ADMIN\",\r\n                        },\r\n                    })\r\n                    return user\r\n                }\r\n\r\n                return null\r\n            },\r\n        }),\r\n    ],\r\n    callbacks: {\r\n        async signIn({ user }) {\r\n            // Update lastLoginAt whenever user signs in\r\n            if (user?.email) {\r\n                await db.user.update({\r\n                    where: { email: user.email },\r\n                    data: { lastLoginAt: new Date() },\r\n                }).catch(() => {\r\n                    // Ignore errors if user doesn't exist yet\r\n                })\r\n            }\r\n            return true\r\n        },\r\n        async session({ session, token }) {\r\n            if (token && session.user) {\r\n                (session.user as any).id = token.id as string\r\n                session.user.name = token.name\r\n                session.user.email = token.email\r\n                session.user.image = token.picture\r\n            }\r\n            return session\r\n        },\r\n        async jwt({ token, user }) {\r\n            if (user) {\r\n                token.id = user.id\r\n            }\r\n            return token\r\n        },\r\n    },\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\badges.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\email.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\gamification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\google-ads.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'db' is defined but never used.","line":1,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'accessToken' is defined but never used.","line":62,"column":43,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { db } from \"@/lib/db\"\r\n\r\ninterface GoogleAdsConfig {\r\n    clientId: string\r\n    clientSecret: string\r\n    developerToken: string\r\n}\r\n\r\nexport class GoogleAdsService {\r\n    private config: GoogleAdsConfig\r\n\r\n    constructor() {\r\n        this.config = {\r\n            clientId: process.env.GOOGLE_ADS_CLIENT_ID || \"\",\r\n            clientSecret: process.env.GOOGLE_ADS_CLIENT_SECRET || \"\",\r\n            developerToken: process.env.GOOGLE_ADS_DEVELOPER_TOKEN || \"\",\r\n        }\r\n    }\r\n\r\n    async getAccessToken(refreshToken: string): Promise<string> {\r\n        const response = await fetch(\"https://oauth2.googleapis.com/token\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n                client_id: this.config.clientId,\r\n                client_secret: this.config.clientSecret,\r\n                refresh_token: refreshToken,\r\n                grant_type: \"refresh_token\",\r\n            }),\r\n        })\r\n\r\n        if (!response.ok) {\r\n            throw new Error(\"Failed to refresh access token\")\r\n        }\r\n\r\n        const data = await response.json()\r\n        return data.access_token\r\n    }\r\n\r\n    async listAccessibleCustomers(accessToken: string) {\r\n        const response = await fetch(\r\n            `https://googleads.googleapis.com/v14/customers:listAccessibleCustomers`,\r\n            {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    \"developer-token\": this.config.developerToken,\r\n                },\r\n            }\r\n        )\r\n\r\n        if (!response.ok) {\r\n            const error = await response.json()\r\n            console.error(\"Google Ads API Error:\", error)\r\n            throw new Error(error.error?.message || \"Failed to list customers\")\r\n        }\r\n\r\n        const data = await response.json()\r\n        return data.resourceNames || []\r\n    }\r\n\r\n    async getCustomer(customerId: string, accessToken: string) {\r\n        // This is a placeholder. In a real scenario, we would query the customer resource.\r\n        // For validation purposes, listAccessibleCustomers is often enough to prove connection.\r\n        return { resourceName: `customers/${customerId}` }\r\n    }\r\n}\r\n\r\nexport const googleAdsService = new GoogleAdsService()\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\i18n.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\nitroflare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1737,1740],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1737,1740],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1989,1992],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1989,1992],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Nitroflare File Upload Service\r\n * Uploads files to Nitroflare cloud storage\r\n */\r\n\r\nconst NITROFLARE_API_KEY = process.env.NITROFLARE_API_KEY || ''\r\nconst NITROFLARE_UPLOAD_URL = 'http://nitroflare.com/plugins/fileupload/getServer'\r\n\r\nexport interface NitroflareUploadResult {\r\n    success: boolean\r\n    url?: string | null\r\n    fileName?: string\r\n    error?: string\r\n}\r\n\r\n/**\r\n * Upload a file to Nitroflare\r\n * @param file - File buffer or base64 string\r\n * @param fileName - Name for the uploaded file\r\n * @returns Upload result with file URL\r\n */\r\nexport async function uploadToNitroflare(\r\n    file: Buffer | string,\r\n    fileName: string\r\n): Promise<NitroflareUploadResult> {\r\n    try {\r\n        // If no API key, return success without uploading to Nitroflare\r\n        if (!NITROFLARE_API_KEY) {\r\n            console.warn('Nitroflare API key not configured - skipping cloud upload')\r\n            return {\r\n                success: true,\r\n                url: undefined,\r\n                fileName: fileName,\r\n                error: undefined\r\n            }\r\n        }\r\n\r\n        // Step 1: Get upload server\r\n        const serverResponse = await fetch(NITROFLARE_UPLOAD_URL)\r\n        const serverData = await serverResponse.json()\r\n\r\n        if (!serverData.result || !serverData.result.url) {\r\n            return {\r\n                success: false,\r\n                error: 'Failed to get upload server'\r\n            }\r\n        }\r\n\r\n        const uploadUrl = serverData.result.url\r\n\r\n        // Step 2: Prepare file for upload\r\n        const formData = new FormData()\r\n\r\n        // Convert buffer or base64 to Blob\r\n        let fileBlob: Blob\r\n        if (Buffer.isBuffer(file)) {\r\n            fileBlob = new Blob([file as any])\r\n        } else {\r\n            // Assume base64 string\r\n            const base64Data = file.replace(/^data:image\\/\\w+;base64,/, '')\r\n            const binaryData = Buffer.from(base64Data, 'base64')\r\n            fileBlob = new Blob([binaryData as any])\r\n        }\r\n\r\n        formData.append('files', fileBlob, fileName)\r\n        formData.append('user', NITROFLARE_API_KEY)\r\n\r\n        // Step 3: Upload file\r\n        const uploadResponse = await fetch(uploadUrl, {\r\n            method: 'POST',\r\n            body: formData,\r\n        })\r\n\r\n        const uploadData = await uploadResponse.json()\r\n\r\n        if (uploadData.result && uploadData.result.files && uploadData.result.files.length > 0) {\r\n            const uploadedFile = uploadData.result.files[0]\r\n            return {\r\n                success: true,\r\n                url: uploadedFile.url,\r\n                fileName: uploadedFile.name\r\n            }\r\n        }\r\n\r\n        return {\r\n            success: false,\r\n            error: 'Upload failed - no file returned'\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error('Nitroflare upload error:', error)\r\n        return {\r\n            success: false,\r\n            error: error instanceof Error ? error.message : 'Unknown error'\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Upload image from URL to Nitroflare\r\n * @param imageUrl - URL of the image to upload\r\n * @param fileName - Name for the uploaded file\r\n */\r\nexport async function uploadImageFromUrl(\r\n    imageUrl: string,\r\n    fileName: string\r\n): Promise<NitroflareUploadResult> {\r\n    try {\r\n        // Download image\r\n        const response = await fetch(imageUrl)\r\n        const buffer = Buffer.from(await response.arrayBuffer())\r\n\r\n        // Upload to Nitroflare\r\n        return await uploadToNitroflare(buffer, fileName)\r\n    } catch (error) {\r\n        console.error('Error uploading image from URL:', error)\r\n        return {\r\n            success: false,\r\n            error: error instanceof Error ? error.message : 'Failed to download image'\r\n        }\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\stats-service.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'db' is defined but never used.","line":1,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userId' is defined but never used.","line":26,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { db } from \"@/lib/db\"\r\n\r\nexport interface StatsData {\r\n    summary: {\r\n        clicks: number\r\n        conversions: number\r\n        earnings: number\r\n        ctr: number\r\n    }\r\n    chartData: {\r\n        date: string\r\n        clicks: number\r\n        conversions: number\r\n        earnings: number\r\n    }[]\r\n    recentActivity: {\r\n        id: string\r\n        type: \"click\" | \"conversion\" | \"payout\"\r\n        description: string\r\n        date: string\r\n        amount?: number\r\n    }[]\r\n}\r\n\r\nexport class StatsService {\r\n    async getDashboardStats(userId: string): Promise<StatsData> {\r\n        // In a real scenario, we would query the database for clicks and conversions.\r\n        // For now, we'll generate realistic mock data based on the user's ID to keep it consistent.\r\n\r\n        const today = new Date()\r\n        const chartData = []\r\n\r\n        let totalClicks = 0\r\n        let totalConversions = 0\r\n        let totalEarnings = 0\r\n\r\n        // Generate last 30 days of data\r\n        for (let i = 29; i >= 0; i--) {\r\n            const date = new Date(today)\r\n            date.setDate(date.getDate() - i)\r\n\r\n            // Random data generation\r\n            const baseClicks = Math.floor(Math.random() * 50) + 20\r\n            const clicks = baseClicks + Math.floor(Math.random() * 20)\r\n            const conversions = Math.floor(clicks * (Math.random() * 0.05 + 0.01)) // 1-6% conversion rate\r\n            const earnings = conversions * (Math.random() * 20 + 10) // $10-$30 per conversion\r\n\r\n            totalClicks += clicks\r\n            totalConversions += conversions\r\n            totalEarnings += earnings\r\n\r\n            chartData.push({\r\n                date: date.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' }),\r\n                clicks,\r\n                conversions,\r\n                earnings: Number(earnings.toFixed(2))\r\n            })\r\n        }\r\n\r\n        const recentActivity = [\r\n            {\r\n                id: \"1\",\r\n                type: \"conversion\" as const,\r\n                description: \"Venda: Curso de Marketing Digital\",\r\n                date: new Date(Date.now() - 1000 * 60 * 30).toISOString(), // 30 mins ago\r\n                amount: 45.90\r\n            },\r\n            {\r\n                id: \"2\",\r\n                type: \"click\" as const,\r\n                description: \"Clique em: Ebook de Receitas\",\r\n                date: new Date(Date.now() - 1000 * 60 * 120).toISOString(), // 2 hours ago\r\n            },\r\n            {\r\n                id: \"3\",\r\n                type: \"conversion\" as const,\r\n                description: \"Venda: Kit de Ferramentas AI\",\r\n                date: new Date(Date.now() - 1000 * 60 * 60 * 5).toISOString(), // 5 hours ago\r\n                amount: 120.50\r\n            },\r\n            {\r\n                id: \"4\",\r\n                type: \"payout\" as const,\r\n                description: \"Saque processado\",\r\n                date: new Date(Date.now() - 1000 * 60 * 60 * 24 * 2).toISOString(), // 2 days ago\r\n                amount: -500.00\r\n            }\r\n        ]\r\n\r\n        return {\r\n            summary: {\r\n                clicks: totalClicks,\r\n                conversions: totalConversions,\r\n                earnings: Number(totalEarnings.toFixed(2)),\r\n                ctr: Number(((totalConversions / totalClicks) * 100).toFixed(2))\r\n            },\r\n            chartData,\r\n            recentActivity\r\n        }\r\n    }\r\n}\r\n\r\nexport const statsService = new StatsService()\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\stripe.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userId' is defined but never used.","line":8,"column":41,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":47},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'email' is defined but never used.","line":8,"column":57,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":62}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Stripe from \"stripe\"\r\n\r\nexport const stripe = new Stripe(process.env.STRIPE_SECRET_KEY || \"sk_test_placeholder\", {\r\n    apiVersion: \"2025-11-17.clover\",\r\n    typescript: true,\r\n})\r\n\r\nexport const getStripeCustomer = async (userId: string, email: string) => {\r\n    // This function would normally interact with DB to find/create customer\r\n    // For now, we'll just return a mock or implement later\r\n    return null\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\themes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\tiktok-ads.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'db' is defined but never used.","line":1,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { db } from \"@/lib/db\"\r\n\r\ninterface TikTokAdsConfig {\r\n    appId: string\r\n    secret: string\r\n}\r\n\r\nexport class TikTokAdsService {\r\n    private config: TikTokAdsConfig\r\n\r\n    constructor() {\r\n        this.config = {\r\n            appId: process.env.TIKTOK_ADS_CLIENT_ID || \"\",\r\n            secret: process.env.TIKTOK_ADS_CLIENT_SECRET || \"\",\r\n        }\r\n    }\r\n\r\n    async getAdvertisers(accessToken: string) {\r\n        const response = await fetch(\r\n            `https://business-api.tiktok.com/open_api/v1.3/oauth2/advertiser/get/`,\r\n            {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Access-Token\": accessToken,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                // TikTok API often requires app_id and secret even for some GET requests or it's just good practice to have them ready\r\n                // But for this specific endpoint, Access-Token is the key.\r\n            }\r\n        )\r\n\r\n        if (!response.ok) {\r\n            const error = await response.json()\r\n            console.error(\"TikTok Ads API Error:\", error)\r\n            throw new Error(error.message || \"Failed to list advertisers\")\r\n        }\r\n\r\n        const data = await response.json()\r\n\r\n        if (data.code !== 0) {\r\n            throw new Error(data.message || \"TikTok API returned error code\")\r\n        }\r\n\r\n        return data.data?.list || []\r\n    }\r\n}\r\n\r\nexport const tiktokAdsService = new TikTokAdsService()\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\minha ideia\\affiliate_ai\\src\\types\\bio.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
